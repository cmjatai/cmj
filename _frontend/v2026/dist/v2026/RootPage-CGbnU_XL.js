import{z as b,c as S,A as k,f as n,g as t,i as d,B as x,n as E,k as e,j as M,q as p,l as v,C as j,o as F,p as y,F as C,r as L,D as A,t as $,E as g,O as D,T as I,$ as w}from"./vendor-nrg9WaRj.js";import{u as P,a as R,b as q}from"./main-DdU9x2R_.js";import{_ as T}from"./NormaSimpleModalView-5DUJYrQ9.js";import"./vendor_fortawesome-8Bn9qoRt.js";const B={class:"portalcmj-connect"},O={class:"header"},N=["src","title"],H=["src","title"],J={key:0,class:"inner"},z=["innerHTML"],V=["innerHTML"],U=["innerHTML"],G={key:0,class:"inner"},K={key:0,class:"alert alert-danger"},Q={class:"input-icon input_username"},W={class:"input-icon input_password"},X={__name:"PortalCmjConnect",setup(h){const o=P(),a=R(),l=b(!1),m=b(!1),c=S(()=>o.data_connect?.user||null),_=f=>{m.value=!1,o.loginPortalCMJ(f.target.elements.username.value,f.target.elements.password.value).then(u=>{m.value=!1,a.addMessage({type:"info",text:"Autenticação efetuada com sucesso!",timeout:5e3}),i()}).catch(u=>{m.value=!0})},r=()=>{o.logoutPortalCMJ().then(()=>{a.addMessage({type:"info",text:"Desconectado com sucesso!",timeout:5e3})}),l.value=!1},i=()=>{o.loginStatus(),l.value=!l.value};return(f,u)=>{const s=k("FontAwesomeIcon");return t(),n("div",B,[c.value?(t(),n("div",{key:0,class:E(["portalcmj-connected",l.value?"expand":""]),onClick:x(i,["self"])},[e("div",O,[e("div",{class:"avatar",onClick:i},[c.value.votante?(t(),n("img",{key:0,src:`/api/parlamentares/parlamentar/${c.value.votante.parlamentar_id}/fotografia.c512.png`,title:c.value.votante.nome_parlamentar},null,8,N)):(t(),n("img",{key:1,src:c.value.avatar,title:c.value.fullname},null,8,H))]),l.value?(t(),n("div",J,[c.value.votante?(t(),n("span",{key:0,innerHTML:c.value.votante.nome_parlamentar},null,8,z)):d("",!0),c.value.votante?d("",!0):(t(),n("span",{key:1,innerHTML:c.value.fullname},null,8,V)),u[0]||(u[0]=e("br",null,null,-1)),e("small",{innerHTML:c.value.username},null,8,U)])):d("",!0)]),l.value?(t(),n("div",{key:0,class:"rodape",onClick:r,title:"Desconectar usuário"},[u[1]||(u[1]=M(" Desconectar ",-1)),p(s,{icon:"sign-out-alt"})])):d("",!0)],2)):d("",!0),c.value?d("",!0):(t(),n("div",{key:1,class:E(["portalcmj-login",l.value?"expand":""]),onClick:x(i,["self"])},[e("a",{class:"header",onClick:i},[l.value?d("",!0):(t(),v(s,{key:0,icon:"sign-in-alt",class:"hover-circle animation-rotate",title:"Autenticar-se PortalCMJ"}))]),l.value?(t(),n("div",G,[l.value?(t(),v(s,{key:0,icon:"times",class:"fa-times hover-circle",onClick:i,title:"Fechar Janela de Autenticação"})):d("",!0),e("form",{class:"inner-content",onSubmit:x(_,["prevent"])},[u[4]||(u[4]=e("h4",null,"Entre com seu usuário e senha:",-1)),m.value?(t(),n("div",K,"Usuário e/ou Senha inválidos.")):d("",!0),e("div",Q,[p(s,{icon:"user",class:"fa-user fa-2x"}),u[2]||(u[2]=e("input",{type:"text",name:"username",class:"form-control",placeholder:"Digite seu Endereço de email",autocomplete:"username",maxlength:"254",required:"",id:"id_username"},null,-1))]),e("div",W,[p(s,{icon:"key",class:"fa-key fa-2x"}),u[3]||(u[3]=e("input",{type:"password",name:"password",class:"form-control",placeholder:"Digite sua Senha",autocomplete:"current-password",maxlength:"30",required:"",id:"id_password"},null,-1))]),u[5]||(u[5]=e("div",{class:"rodape-login"},[e("button",{class:"btn btn-primary btn-login",type:"submit",value:"login"},"Conectar")],-1))],32)])):d("",!0)],2))])}}},Y={class:E(["root-layout"])},Z={class:"header-left d-md-none"},ee={class:"header-main"},te={class:"brand"},se={class:"header-detail"},ae={class:"header-right"},ne={class:"sideleft"},oe={class:"main"},le={class:"sideright"},ie={__name:"RootLayout",setup(h){j("EventBus"),F(()=>{document.addEventListener("wheel",o,{passive:!0}),document.addEventListener("touchmove",o,{passive:!0})});const o=a=>{};return(a,l)=>(t(),n("div",Y,[e("header",null,[e("div",Z,[y(a.$slots,"header-left")]),e("div",ee,[e("div",te,[y(a.$slots,"brand")]),e("div",se,[y(a.$slots,"header-detail")])]),e("div",ae,[y(a.$slots,"header-right")])]),e("aside",ne,[y(a.$slots,"sideleft")]),e("main",oe,[y(a.$slots,"main")]),e("div",le,[y(a.$slots,"sideright")])]))}},re={class:"offcanvas offcanvas-sidebar offcanvas-start d-md-none",tabindex:"-1",id:"menuSideLeft","aria-labelledby":"menuSideLeftLabel"},ce={class:"offcanvas-body"},ue={class:"nav flex-column"},de=["href"],me={class:"sidebar-label"},_e={class:"nav flex-column"},ve=["href"],pe={class:"sidebar-label"},fe={class:"sidebar-label"},ge={__name:"SideLeft",setup(h){const o=b(null),a=b(null),l=b([{icon:"home",route:"app_vue_v2026",texto:"Início"},{image:"/static/imgs/icon_mesa_diretora.png",route:"",texto:"Mesa Diretora"},{image:"/static/imgs/icon_comissoes.png",route:"",texto:"Comissões"},{image:"/static/imgs/icon_parlamentares.png",route:"",texto:"Parlamentares"},{image:"/static/imgs/icon_pautas.png",route:"",texto:"Pautas"},{image:"/static/v2026/imgs/icon_plenarias.png",route:"sessao_plenaria_list_link",texto:"Sessões Plenárias"},{image:"/static/imgs/icon_materia_legislativa.png",route:"",texto:"Matérias Legislativas"},{image:"/static/imgs/icon_normas_juridicas.png",route:"",texto:"Normas Jurídicas"},{image:"/static/imgs/icon_relatorios.png",route:"",texto:"Relatórios"},{icon:"columns",route:"",link:"/online/painelset/",texto:"Eventos e Painéis"},{icon:"hat-wizard",route:"chat_module_view",texto:"LegisBee"}]),m=S(()=>l.value.filter(_=>_.route!==""||_.link!==""));F(()=>{a.value.addEventListener("click",()=>{o.value.classList.toggle("collapsed")})});const c=_=>{const r=document.getElementById(_.replace("#",""));D.getOrCreateInstance(r).hide()};return(_,r)=>{const i=A,f=k("FontAwesomeIcon"),u=k("router-link");return t(),n(C,null,[e("div",re,[r[1]||(r[1]=e("div",{class:"offcanvas-header"},[e("h5",{id:"menuSideLeftLabel"}," Menu "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Fechar"})],-1)),e("div",ce,[e("ul",ue,[(t(!0),n(C,null,L(m.value,s=>(t(),n("li",{class:"nav-item",key:s.texto},[s.link?(t(),n("a",{key:0,href:s.link,class:"nav-link"},[s.image?(t(),v(i,{key:0,src:s.image,fluid:"",rounded:"0",class:""},null,8,["src"])):s.icon?(t(),v(f,{key:1,icon:s.icon,class:""},null,8,["icon"])):d("",!0),e("span",me,$(s.texto),1)],8,de)):s.route?(t(),v(u,{key:1,to:{name:s.route},class:"nav-link",onClick:r[0]||(r[0]=De=>c("#menuSideLeft"))},{default:g(()=>[s.image?(t(),v(i,{key:0,src:s.image,fluid:"",rounded:"0",class:""},null,8,["src"])):s.icon?(t(),v(f,{key:1,icon:s.icon,class:""},null,8,["icon"])):d("",!0),e("span",null,$(s.texto),1)]),_:2},1032,["to"])):d("",!0)]))),128))])])]),e("div",{ref_key:"sidebar",ref:o,class:"sidebar d-none d-md-flex flex-column collapsed"},[e("ul",_e,[e("li",{ref_key:"toggleSidebar",ref:a,class:"nav-item"},[...r[2]||(r[2]=[e("span",{class:"toggle-btn"},"☰",-1)])],512),(t(!0),n(C,null,L(m.value,s=>(t(),n("li",{class:"nav-item",key:s.texto},[s.link?(t(),n("a",{key:0,href:s.link,class:"nav-link"},[s.image?(t(),v(i,{key:0,src:s.image,fluid:"",rounded:"0",class:""},null,8,["src"])):s.icon?(t(),v(f,{key:1,icon:s.icon,class:""},null,8,["icon"])):d("",!0),e("span",pe,$(s.texto),1)],8,ve)):s.route?(t(),v(u,{key:1,to:{name:s.route},class:"nav-link"},{default:g(()=>[s.image?(t(),v(i,{key:0,src:s.image,fluid:"",rounded:"0",class:""},null,8,["src"])):s.icon?(t(),v(f,{key:1,icon:s.icon,class:""},null,8,["icon"])):d("",!0),e("span",fe,$(s.texto),1)]),_:2},1032,["to"])):d("",!0)]))),128))])],512)],64)}}},he="/static/v2026/imgs/icon_normas_juridicas_destaque.png",be={class:"side-right"},ye={class:"menu"},$e=["onClick"],ke={__name:"SideRight",setup(h){const o=q(),a=b(null);F(()=>{o.fetchSync({app:"norma",model:"normajuridica",action:"destaques",params:{get_all:!0}})});const l=b(!1),m=()=>{l.value=!l.value},c=S(()=>Object.values(o.data_cache?.norma_normajuridica||{}).filter(_=>_.norma_de_destaque===!0).sort((_,r)=>_.apelido<r.apelido?-1:_.apelido>r.apelido?1:0));return(_,r)=>(t(),n("div",be,[e("div",ye,[e("ul",null,[e("li",null,[e("img",{onClick:m,src:he}),e("ul",null,[(t(!0),n(C,null,L(c.value,i=>(t(),n("li",{key:`srmd${i.id}`},[e("button",{type:"button",class:"btn btn-secondary","data-toggle":"modal","data-target":"#modal-norma",onClick:f=>a.value=i},$(i.apelido),9,$e)]))),128))])])])]),a.value?(t(),v(I,{key:0,to:"#modalCmj"},[p(T,{"html-id":`modal-opened-${a.value.id}`,"norma-id":a.value.id,onClose:r[0]||(r[0]=i=>a.value=null)},null,8,["html-id","norma-id"])])):d("",!0)]))}},xe="/static/v2026/imgs/brasao_transp.gif",Ce={class:"inner-brand"},Se={class:"link-logo",href:"/"},Fe=["src"],Ee={key:1,src:xe},Le={class:"link-nome",href:"/"},we={class:"title-brand"},Me={__name:"Brand",setup(h){const o=q(),a=S(()=>Object.values(o.data_cache?.base_casalegislativa??{})[0]??{});return F(()=>{o.fetchSync({app:"base",model:"casalegislativa",params:{o:"id"}})}),(l,m)=>(t(),n("div",Ce,[e("a",Se,[a.value.logotipo!==void 0?(t(),n("img",{key:0,src:a.value.logotipo},null,8,Fe)):(t(),n("img",Ee))]),e("a",Le,[e("span",we,[M($(a.value.nome),1),m[0]||(m[0]=e("br",null,null,-1)),m[1]||(m[1]=e("small",null,"PortalCMJ",-1))])])]))}},qe={class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"First group"},je=["title"],Ae={beforeRouteEnter(h,o,a){h.path==="/v2026"||h.path==="/v2026/"?a("/v2026/sessao"):a()}},Be=Object.assign(Ae,{__name:"RootPage",setup(h){const o=b(!1);document.addEventListener("fullscreenchange",()=>{o.value=!!document.fullscreenElement});const a=()=>{o.value=!o.value,o.value?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l=()=>{w(".root-layout .main").css("font-size","-=1")},m=()=>{w(".root-layout .main").css("font-size","+=1")};return(c,_)=>{const r=k("FontAwesomeIcon"),i=k("router-view");return t(),v(ie,null,{"header-left":g(()=>[..._[0]||(_[0]=[e("button",{class:"d-md-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#menuSideLeft","aria-controls":"menuSideLeft"}," ☰ ",-1)])]),brand:g(()=>[p(Me)]),"header-detail":g(()=>[e("div",qe,[e("a",{href:"#",class:"btn btn-secondary",onClick:x(a,["prevent"]),title:o.value?"Sair do modo tela cheia":"Entrar no modo tela cheia"},[p(r,{icon:o.value?"compress":"expand"},null,8,["icon"])],8,je)]),e("div",{class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"Second group"},[e("a",{class:"btn btn-secondary",onClick:l},"a"),e("a",{class:"btn btn-secondary",onClick:m},"A")])]),"header-right":g(()=>[p(X)]),sideleft:g(()=>[p(ge)]),sideright:g(()=>[p(ke)]),main:g(()=>[p(i)]),_:1})}}});export{Be as default};
