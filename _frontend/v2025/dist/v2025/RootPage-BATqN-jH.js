import{z as b,c as C,A as k,f as o,g as t,i as u,B as x,n as F,k as e,j as M,q as p,l as v,C as A,o as E,p as h,F as S,r as L,D as g,E as I,t as $,O as P,$ as w}from"./vendor-DWetvXX_.js";import{u as R,a as q,_ as B,b as D}from"./main-BZVEVWY6.js";import"./vendor_fortawesome-C45cIu9k.js";const j={class:"portalcmj-connect"},T={class:"header"},H=["src","title"],J=["src","title"],N={key:0,class:"inner"},O=["innerHTML"],z=["innerHTML"],V=["innerHTML"],U={key:0,class:"inner"},G={key:0,class:"alert alert-danger"},K={class:"input-icon input_username"},Q={class:"input-icon input_password"},W={__name:"PortalCmjConnect",setup(y){const a=R(),i=q(),n=b(!1),r=b(!1),c=C(()=>a.data_connect?.user||null),_=f=>{r.value=!1,a.loginPortalCMJ(f.target.elements.username.value,f.target.elements.password.value).then(l=>{r.value=!1,i.addMessage({type:"info",text:"Autenticação efetuada com sucesso!",timeout:5e3}),d()}).catch(l=>{r.value=!0})},m=()=>{a.logoutPortalCMJ().then(()=>{i.addMessage({type:"info",text:"Desconectado com sucesso!",timeout:5e3})}),n.value=!1},d=()=>{a.loginStatus(),n.value=!n.value};return(f,l)=>{const s=k("FontAwesomeIcon");return t(),o("div",j,[c.value?(t(),o("div",{key:0,class:F(["portalcmj-connected",n.value?"expand":""]),onClick:x(d,["self"])},[e("div",T,[e("div",{class:"avatar",onClick:d},[c.value.votante?(t(),o("img",{key:0,src:`/api/parlamentares/parlamentar/${c.value.votante.parlamentar_id}/fotografia.c512.png`,title:c.value.votante.nome_parlamentar},null,8,H)):(t(),o("img",{key:1,src:c.value.avatar,title:c.value.fullname},null,8,J))]),n.value?(t(),o("div",N,[c.value.votante?(t(),o("span",{key:0,innerHTML:c.value.votante.nome_parlamentar},null,8,O)):u("",!0),c.value.votante?u("",!0):(t(),o("span",{key:1,innerHTML:c.value.fullname},null,8,z)),l[0]||(l[0]=e("br",null,null,-1)),e("small",{innerHTML:c.value.username},null,8,V)])):u("",!0)]),n.value?(t(),o("div",{key:0,class:"rodape",onClick:m,title:"Desconectar usuário"},[l[1]||(l[1]=M(" Desconectar ",-1)),p(s,{icon:"sign-out-alt"})])):u("",!0)],2)):u("",!0),c.value?u("",!0):(t(),o("div",{key:1,class:F(["portalcmj-login",n.value?"expand":""]),onClick:x(d,["self"])},[e("div",{class:"header",onClick:d},[n.value?u("",!0):(t(),v(s,{key:0,icon:"sign-in-alt",class:"hover-circle animation-rotate",title:"Autenticar-se PortalCMJ"}))]),n.value?(t(),o("div",U,[n.value?(t(),v(s,{key:0,icon:"times",class:"fa-times hover-circle",onClick:d,title:"Fechar Janela de Autenticação"})):u("",!0),e("form",{class:"inner-content",onSubmit:x(_,["prevent"])},[l[4]||(l[4]=e("h4",null,"Entre com seu usuário e senha:",-1)),r.value?(t(),o("div",G,"Usuário e/ou Senha inválidos.")):u("",!0),e("div",K,[p(s,{icon:"user",class:"fa-user fa-2x"}),l[2]||(l[2]=e("input",{type:"text",name:"username",class:"form-control",placeholder:"Digite seu Endereço de email",autocomplete:"username",maxlength:"254",required:"",id:"id_username"},null,-1))]),e("div",Q,[p(s,{icon:"key",class:"fa-key fa-2x"}),l[3]||(l[3]=e("input",{type:"password",name:"password",class:"form-control",placeholder:"Digite sua Senha",autocomplete:"current-password",maxlength:"30",required:"",id:"id_password"},null,-1))]),l[5]||(l[5]=e("div",{class:"rodape-login"},[e("button",{class:"btn btn-primary btn-login",type:"submit",value:"login"},"Conectar")],-1))],32)])):u("",!0)],2))])}}},X={class:F(["root-layout"])},Y={class:"header-left d-lg-none"},Z={class:"header-main"},ee={class:"brand"},te={class:"header-detail"},se={class:"header-right"},ne={class:"sideleft"},ae={class:"main"},oe={class:"sideright"},le={__name:"RootLayout",setup(y){const a=A("EventBus");E(()=>{document.addEventListener("wheel",i,{passive:!0}),document.addEventListener("touchmove",i,{passive:!0})});const i=n=>{a.emit("disable-auto-rolagem")};return(n,r)=>(t(),o("div",X,[e("header",null,[e("div",Y,[h(n.$slots,"header-left")]),e("div",Z,[e("div",ee,[h(n.$slots,"brand")]),e("div",te,[h(n.$slots,"header-detail")])]),e("div",se,[h(n.$slots,"header-right")])]),e("aside",ne,[h(n.$slots,"sideleft")]),e("main",ae,[h(n.$slots,"main")]),e("div",oe,[h(n.$slots,"sideright")])]))}},ie={class:"offcanvas offcanvas-start d-lg-none",tabindex:"-1",id:"menuSideLeft","aria-labelledby":"menuSideLeftLabel"},re={class:"offcanvas-body"},ce={class:"nav flex-column"},ue={class:"nav flex-column"},de=["href"],me={class:"sidebar-label"},_e={class:"sidebar-label"},ve={__name:"SideLeft",setup(y){const a=b(null),i=b(null),n=b([{icon:"home",route:"app_vue_v2025",texto:"Início"},{image:"/static/imgs/icon_mesa_diretora.png",route:"",texto:"Mesa Diretora"},{image:"/static/imgs/icon_comissoes.png",route:"",texto:"Comissões"},{image:"/static/imgs/icon_parlamentares.png",route:"",texto:"Parlamentares"},{image:"/static/imgs/icon_pautas.png",route:"",texto:"Pautas"},{image:"/static/v2025/imgs/icon_plenarias.png",route:"sessao_plenaria_list_link",texto:"Sessões Plenárias"},{image:"/static/imgs/icon_materia_legislativa.png",route:"",texto:"Matérias Legislativas"},{image:"/static/imgs/icon_normas_juridicas.png",route:"",texto:"Normas Jurídicas"},{image:"/static/imgs/icon_relatorios.png",route:"",texto:"Relatórios"},{icon:"columns",route:"",link:"/online/painelset/",texto:"Eventos e Painéis"}]),r=C(()=>n.value.filter(_=>_.route!==""||_.link!==""));E(()=>{i.value.addEventListener("click",()=>{a.value.classList.toggle("collapsed")})});const c=_=>{const m=document.getElementById(_.replace("#",""));P.getOrCreateInstance(m).hide()};return(_,m)=>{const d=I,f=k("FontAwesomeIcon"),l=k("router-link");return t(),o(S,null,[e("div",ie,[m[1]||(m[1]=e("div",{class:"offcanvas-header"},[e("h5",{id:"menuSideLeftLabel"}," Menu "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Fechar"})],-1)),e("div",re,[e("ul",ce,[(t(!0),o(S,null,L(r.value,s=>(t(),o("li",{class:"nav-item",key:s.texto},[p(l,{to:{name:s.route},class:"nav-link",onClick:m[0]||(m[0]=Ce=>c("#menuSideLeft"))},{default:g(()=>[s.image?(t(),v(d,{key:0,src:s.image,fluid:"",rounded:"0",class:""},null,8,["src"])):s.icon?(t(),v(f,{key:1,icon:s.icon,class:""},null,8,["icon"])):u("",!0),e("span",null,$(s.texto),1)]),_:2},1032,["to"])]))),128))])])]),e("div",{ref_key:"sidebar",ref:a,class:"sidebar d-none d-lg-flex flex-column collapsed"},[e("ul",ue,[e("li",{ref_key:"toggleSidebar",ref:i,class:"nav-item"},[...m[2]||(m[2]=[e("span",{class:"toggle-btn"},"☰",-1)])],512),(t(!0),o(S,null,L(r.value,s=>(t(),o("li",{class:"nav-item",key:s.texto},[s.link?(t(),o("a",{key:0,href:s.link,class:"nav-link"},[s.image?(t(),v(d,{key:0,src:s.image,fluid:"",rounded:"0",class:""},null,8,["src"])):s.icon?(t(),v(f,{key:1,icon:s.icon,class:""},null,8,["icon"])):u("",!0),e("span",me,$(s.texto),1)],8,de)):s.route?(t(),v(l,{key:1,to:{name:s.route},class:"nav-link"},{default:g(()=>[s.image?(t(),v(d,{key:0,src:s.image,fluid:"",rounded:"0",class:""},null,8,["src"])):s.icon?(t(),v(f,{key:1,icon:s.icon,class:""},null,8,["icon"])):u("",!0),e("span",_e,$(s.texto),1)]),_:2},1032,["to"])):u("",!0)]))),128))])],512)],64)}}},pe={class:"side-right"},ge={__name:"SideRight",setup(y){return(a,i)=>(t(),o("div",pe," . "))}},fe=B(ge,[["__scopeId","data-v-c33b2bb0"]]),he={class:"inner-brand"},be={class:"link-logo",href:"/"},ye=["src"],ke={class:"link-nome",href:"/"},xe={class:"title-brand"},$e={__name:"Brand",setup(y){const a=D(),i=C(()=>Object.values(a.data_cache?.base_casalegislativa??{})[0]??{});return E(()=>{a.fetchSync({app:"base",model:"casalegislativa",params:{o:"id"}})}),(n,r)=>(t(),o("div",he,[e("a",be,[e("img",{src:i.value.logotipo!==void 0?i.value.logotipo:"/static/imgs/brasao_transp.gif"},null,8,ye)]),e("a",ke,[e("span",xe,[M($(i.value.nome),1),r[0]||(r[0]=e("br",null,null,-1)),r[1]||(r[1]=e("small",null,"PortalCMJ",-1))])])]))}},Se={class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"First group"},Fe=["title"],Me={__name:"RootPage",setup(y){const a=b(!1);document.addEventListener("fullscreenchange",()=>{a.value=!!document.fullscreenElement});const i=()=>{a.value=!a.value,a.value?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},n=()=>{w(".root-layout .main").css("font-size","-=1")},r=()=>{w(".root-layout .main").css("font-size","+=1")};return(c,_)=>{const m=k("FontAwesomeIcon"),d=k("router-view");return t(),v(le,null,{"header-left":g(()=>[..._[0]||(_[0]=[e("button",{class:"d-lg-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#menuSideLeft","aria-controls":"menuSideLeft"}," ☰ ",-1)])]),brand:g(()=>[p($e)]),"header-detail":g(()=>[e("div",Se,[e("a",{href:"#",class:"btn btn-secondary",onClick:x(i,["prevent"]),title:a.value?"Sair do modo tela cheia":"Entrar no modo tela cheia"},[p(m,{icon:a.value?"compress":"expand"},null,8,["icon"])],8,Fe)]),e("div",{class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"Second group"},[e("a",{class:"btn btn-secondary",onClick:n},"a"),e("a",{class:"btn btn-secondary",onClick:r},"A")])]),"header-right":g(()=>[p(W)]),sideleft:g(()=>[p(ve)]),sideright:g(()=>[p(fe)]),main:g(()=>[p(d)]),_:1})}}};export{Me as default};
