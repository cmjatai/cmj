{"version":3,"sources":["webpack:///src/modules/arq/admin/DocListLayout.vue","webpack:///./src/modules/arq/admin/BreadCrumbClasse.vue","webpack:///src/modules/arq/admin/BreadCrumbClasse.vue","webpack:///./src/modules/arq/admin/BreadCrumbClasse.vue?c529","webpack:///./src/modules/arq/admin/BreadCrumbClasse.vue?c8b0","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./src/modules/arq/admin/ArqDocItem.vue","webpack:///src/modules/arq/admin/ArqDocItem.vue","webpack:///./src/modules/arq/admin/ArqDocItem.vue?35b1","webpack:///./src/modules/arq/admin/ArqDocItem.vue?e99d","webpack:///./src/modules/arq/admin/DocListLayout.vue?6d55","webpack:///./src/modules/arq/admin/ArqDocItem.vue?d1ac","webpack:///./src/modules/arq/admin/DocListLayout.vue","webpack:///./src/modules/arq/admin/DocListLayout.vue?d728","webpack:///./src/modules/arq/admin/DocListLayout.vue?54d4"],"names":["name","components","ArqDocItem","BreadCrumbClasse","data","params_node","$route","params","node","params_nodechild","nodechild","classe","node_key_localstorage","arqdocs","ARQCLASSE_FISICA","ARQCLASSE_LOGICA","mounted","t","fetchClasse","then","response","_","each","parents","item","idx","localStorage","addArrayOfIds","id","$emit","field_classe","perfil","fetch","concat","computed","arqdocs_ordered","get","orderBy","descricao_html","descr","descricao","replace","methods","page","arguments","length","undefined","query_string","_this","$set","utils","getModelOrderedList","catch","sendMessage","alert","message","time","getObject","action","app","model","render","_vm","this","_c","_self","attrs","staticClass","_l","parents_and_me","parent","k","key","nativeOn","$event","clickItemBreadCrumb","apply","_v","_s","titulo","_e","staticRenderFns","props","$nextTick","me","$refs","noderoot","reload","component","bind","call","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","isConstructor","lengthOfArrayLike","createProperty","getIterator","getIteratorMethod","$Array","Array","module","exports","arrayLike","O","IS_CONSTRUCTOR","argumentsLength","mapfn","mapping","result","step","iterator","next","value","iteratorMethod","index","done","on","mouseMove","arqdoc","checkcheck","link_detail_backend","domProps","data_computed","created_computed","contra_classe","ref","imgdisplay","errorPreview","loadPreview","clickPrevious","clickNext","img_src","dpi","watch","nv","old","arquivo","imgpreview","src","img_src__blob","axios","url","method","responseType","blob","Blob","type","urlCreator","window","URL","webkitURL","imageUrl","createObjectURL","e","split","reverse","join","Date","created","toLocaleString","event","preview_actions","style","display","zoom","offsetX","$vnode","elm","offsetWidth","target","closest","preview","top","bottom","classe_logica","classe_estrutural","doc"],"mappings":"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","file":"js/chunk-185bce9d.8723b032.js","sourcesContent":["<template>\n  <div class=\"doclist-layout container-fluid\" v-if=\"classe\">\n    <bread-crumb-classe :parents=\"classe.parents\"></bread-crumb-classe>\n    <div class=\"row-fluid\">\n      <div class=\"col\">\n        <h2>{{ classe.titulo }}</h2>\n        <small v-html=\"descricao_html\"></small>\n        <div class=\"inner-list\">\n          <arq-doc-item :arqdoc=\"doc\" :classe=\"classe\" v-for=\"doc, k in arqdocs_ordered\" :key=\"`ad-${k}`\">\n            {{ doc.titulo }}\n          </arq-doc-item>\n        </div>\n        <div class=\"text-info\">TODO: implementar paginação</div>\n      </div>\n      <div class=\"col-3 d-none\">\n        <div class=\"classechild\">\n          <h4>\n            Subclasses de {{ classe.titulo }}\n          </h4>\n          {{ params_node }} - {{ params_nodechild }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport ArqDocItem from './ArqDocItem.vue'\nimport BreadCrumbClasse from './BreadCrumbClasse.vue'\n\nexport default {\n  name: 'doc-list-layout',\n  components: { ArqDocItem, BreadCrumbClasse },\n  data () {\n    return {\n      params_node: this.$route.params.node,\n      params_nodechild: this.$route.params.nodechild,\n      classe: null,\n      node_key_localstorage: 'portalcmj_arqnode_tree_opened',\n      arqdocs: {},\n      ARQCLASSE_FISICA: 100,\n      ARQCLASSE_LOGICA: 200\n    }\n  },\n  mounted () {\n    const t = this\n    t.fetchClasse()\n      .then((response) => {\n        _.each(t.classe.parents, function (item, idx) {\n          localStorage.addArrayOfIds(t.node_key_localstorage, item.id)\n        })\n        t.$emit('checkIsOpenedNodesTree')\n        const field_classe = t.classe.perfil === t.ARQCLASSE_FISICA ? 'classe_estrutural' : 'classe_logica'\n        t.fetch(1, `&get_all=True&${field_classe}=${t.classe.id}`)\n      })\n  },\n  computed: {\n    arqdocs_ordered: {\n      get () {\n        return _.orderBy(this.arqdocs, ['id'], ['desc'])\n      }\n    },\n    descricao_html: function () {\n      let descr = this.classe.descricao\n      descr = descr.replace('\\r\\n', '<br>')\n      descr = descr.replace('\\n', '<br>')\n      return descr\n    }\n  },\n  methods: {\n    fetch (page = 1, query_string = '') {\n      const _this = this\n      _this.$set(_this, 'arqdocs', {})\n\n      return _this.utils.getModelOrderedList('arq', 'arqdoc', '-data', page, query_string)\n        .then((response) => {\n          _.each(response.data, function (item, idx) {\n            _this.$set(_this.arqdocs, item.id, item)\n          })\n        })\n        .catch((response) => _this.sendMessage(\n          { alert: 'danger', message: 'Não foi possível recuperar os documentos...', time: 5 }))\n    },\n\n    fetchClasse () {\n      const _this = this\n\n      if (_this.params_nodechild === 'root') {\n        return null\n      }\n\n      return _this.getObject({\n        action: '',\n        app: 'arq',\n        model: 'arqclasse',\n        id: _this.params_nodechild\n      })\n        .then((classe) => {\n          _this.classe = classe\n          return classe\n        })\n        .catch((response) => _this.sendMessage(\n          { alert: 'danger', message: 'Não foi possível recuperar classe selecionada...', time: 5 }))\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.container-arqtree {\n  .doclist-layout {\n    position: sticky;\n    top: 0;\n    z-index: 1;\n    .inner-list {\n      border: 1px solid #eee;\n      margin: 15px 0;\n      background-color: white;\n    }\n  }\n  .row, .col-3 {\n    position: relative;\n  }\n  .col-3 {\n    border-left: 1px solid #ccc;\n  }\n  .classechild {\n    position: sticky;\n    display: block;\n    top: 0;\n  }\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.parents)?_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},_vm._l((_vm.parents_and_me),function(parent,k){return _c('li',{key:`cp-${k}`,staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":{ name: 'arqchildroute', params: { node: k > 0 ? _vm.parents[k-1].id : 'root', nodechild: parent.id } }},nativeOn:{\"click\":function($event){return _vm.clickItemBreadCrumb.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(parent.titulo)+\" \")])],1)}),0)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav aria-label=\"breadcrumb\" v-if=\"parents\">\n    <ol class=\"breadcrumb\">\n      <li class=\"breadcrumb-item\" v-for=\"parent, k in parents_and_me\" :key=\"`cp-${k}`\">\n        <router-link :to=\"{ name: 'arqchildroute', params: { node: k > 0 ? parents[k-1].id : 'root', nodechild: parent.id } }\"\n          @click.native=\"clickItemBreadCrumb\">\n          {{ parent.titulo }}\n        </router-link>\n      </li>\n    </ol>\n  </nav>\n</template>\n<script>\n\nexport default {\n  name: 'bread-crumb-classe',\n  props: [ 'parents', 'me' ],\n  data () {\n    return {\n      parents_and_me: []\n    }\n  },\n  mounted () {\n    const t = this\n    t.$nextTick()\n      .then(function () {\n        if (t.me === undefined) {\n          t.parents_and_me = t.parents\n          return\n        }\n        t.parents_and_me = t.parents.concat([{\n          id: t.me.id,\n          titulo: t.me.titulo\n        }])\n      })\n  },\n  computed: {\n  },\n  methods: {\n    clickItemBreadCrumb () {\n      this.$refs.noderoot.reload()\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreadCrumbClasse.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreadCrumbClasse.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BreadCrumbClasse.vue?vue&type=template&id=0ff29880\"\nimport script from \"./BreadCrumbClasse.vue?vue&type=script&lang=js\"\nexport * from \"./BreadCrumbClasse.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar isConstructor = require('../internals/is-constructor');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $Array = Array;\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var IS_CONSTRUCTOR = isConstructor(this);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod && !(this === $Array && isArrayIteratorMethod(iteratorMethod))) {\n    result = IS_CONSTRUCTOR ? new this() : [];\n    iterator = getIterator(O, iteratorMethod);\n    next = iterator.next;\n    for (;!(step = call(next, iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = lengthOfArrayLike(O);\n    result = IS_CONSTRUCTOR ? new this(length) : $Array(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"arq-doc-item\",on:{\"mousemove\":_vm.mouseMove}},[_c('div',{staticClass:\"inner\"},[_c('div',{staticClass:\"titulo\"},[(_vm.arqdoc.checkcheck)?_c('i',{staticClass:\"fas fa-xs fa-lock text-light-blue\",attrs:{\"title\":\"ArqClasse Arquivada.\"}}):_vm._e(),_vm._v(\"  \"),_c('a',{attrs:{\"href\":_vm.arqdoc.link_detail_backend,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.arqdoc.titulo))])]),_c('div',{staticClass:\"descricao\",domProps:{\"innerHTML\":_vm._s(_vm.arqdoc.descricao)}}),_c('div',{staticClass:\"rodape\"},[_c('span',{staticClass:\"data\"},[_vm._v(\" Data do Documento: \"+_vm._s(_vm.data_computed)+\" \")]),_c('span',{staticClass:\"created\"},[_vm._v(\" Inclusão no ArqDoc: \"+_vm._s(_vm.created_computed)+\" \")])]),_c('div',{staticClass:\"rodape\"},[(_vm.contra_classe)?_c('bread-crumb-classe',{attrs:{\"parents\":_vm.contra_classe.parents,\"me\":_vm.contra_classe}}):_vm._e()],1),_c('div',{ref:\"preview\",staticClass:\"inner-preview\"},[(_vm.imgdisplay)?_c('img',{ref:\"imgpreview\",on:{\"error\":_vm.errorPreview,\"load\":_vm.loadPreview}}):_vm._e(),_c('div',{ref:\"preview_actions\",staticClass:\"actions\"},[_c('a',{staticClass:\"previous\",on:{\"click\":_vm.clickPrevious}},[_c('i',{staticClass:\"fas fa-chevron-left\"})]),_c('a',{staticClass:\"next\",on:{\"click\":_vm.clickNext}},[_c('i',{staticClass:\"fas fa-chevron-right\"})])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"arq-doc-item\" @mousemove=\"mouseMove\">\n    <div class=\"inner\">\n      <div class=\"titulo\">\n        <i v-if=\"arqdoc.checkcheck\" class=\"fas fa-xs fa-lock text-light-blue\" title=\"ArqClasse Arquivada.\"></i>&nbsp;\n        <a :href=\"arqdoc.link_detail_backend\" target=\"_blank\">{{ arqdoc.titulo }}</a>\n      </div>\n      <div class=\"descricao\" v-html=\"arqdoc.descricao\"></div>\n      <div class=\"rodape\">\n        <span class=\"data\">\n          Data do Documento: {{ data_computed }}\n        </span>\n        <span class=\"created\">\n          Inclusão no ArqDoc: {{ created_computed }}\n        </span>\n      </div>\n      <div class=\"rodape\">\n        <bread-crumb-classe v-if=\"contra_classe\" :parents=\"contra_classe.parents\" :me=\"contra_classe\"></bread-crumb-classe>\n      </div>\n      <div class=\"inner-preview\" ref=\"preview\">\n        <img v-if=\"imgdisplay\" ref=\"imgpreview\" @error=\"errorPreview\" @load=\"loadPreview\">\n        <div class=\"actions\" ref=\"preview_actions\">\n          <a class=\"previous\" @click=\"clickPrevious\">\n            <i class=\"fas fa-chevron-left\"></i>\n          </a>\n          <a class=\"next\" @click=\"clickNext\">\n            <i class=\"fas fa-chevron-right\"></i>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios'\nimport BreadCrumbClasse from './BreadCrumbClasse.vue'\n\nexport default {\n  name: 'arq-doc-item',\n  components: { BreadCrumbClasse },\n  props: [ 'arqdoc', 'classe' ],\n  data () {\n    return {\n      imgdisplay: false,\n      img_src: null,\n      dpi: 72,\n      page: 1,\n      contra_classe: null,\n      ARQCLASSE_FISICA: 100,\n      ARQCLASSE_LOGICA: 200\n    }\n  },\n  watch: {\n    dpi (nv, old) {\n      this.img_src = `${this.arqdoc.arquivo}?page=${this.page}&dpi=${nv}`\n    },\n    page (nv, old) {\n      this.img_src = `${this.arqdoc.arquivo}?page=${nv}&dpi=${this.dpi}`\n    },\n    img_src (nv, old) {\n      const t = this\n      t.imgdisplay = true\n      t.$nextTick(() => {\n        t.$refs.imgpreview.src = nv\n      })\n    },\n    img_src__blob (nv, old) {\n      const t = this\n      axios({\n        url: nv,\n        method: 'GET',\n        responseType: 'blob' // important\n      })\n        .then((response) => {\n          t.imgdisplay = true\n          return response\n        })\n        .then((response) => {\n          const blob = new Blob([response.data], { type: 'image/png' })\n          const urlCreator = window.URL || window.webkitURL\n          const imageUrl = urlCreator.createObjectURL(blob)\n          t.$refs.imgpreview.src = imageUrl\n        })\n        .catch((e) => {\n          if (t.page > 1) {\n            t.page -= 1\n            t.sendMessage(\n              { alert: 'info', message: 'Esta é a última página.', time: 2 })\n          } else {\n            t.sendMessage(\n              { alert: 'info', message: 'Esta é a primeira página.', time: 2 })\n          }\n        })\n    }\n  },\n  computed: {\n    data_computed () {\n      return this.arqdoc.data.split('-').reverse().join('/')\n    },\n    created_computed () {\n      return new Date(this.arqdoc.created).toLocaleString()\n    }\n  },\n  methods: {\n    loadPreview (event) {\n      this.$refs.preview_actions.style.display = 'flex'\n    },\n    errorPreview (event) {\n      if (this.page > 1) {\n        this.page -= 1\n        this.sendMessage(\n          { alert: 'info', message: 'Esta é a última página.', time: 2 })\n      } else {\n        this.sendMessage(\n          { alert: 'info', message: 'Esta é a primeira página.', time: 2 })\n      }\n    },\n    clickPrevious (event) {\n      if (this.page > 1) {\n        this.page -= 1\n      }\n    },\n    clickNext (event) {\n      this.page += 1\n    },\n    mouseMove (event) {\n      if (this.img_src === null) {\n        this.img_src = `${this.arqdoc.arquivo}?page=${this.page}&dpi=${this.dpi}`\n      }\n      let zoom = (event.offsetX + 30) / this.$vnode.elm.offsetWidth\n      if (zoom > 0.7) {\n        zoom = 0.7\n      }\n      if (!event.target.closest('.inner-preview')) {\n        this.$refs.preview.style.top = `${zoom * -100 / 1.7}vh`\n        this.$refs.preview.style.bottom = `${zoom * -100 / 1.7}vh`\n      }\n      if (zoom > 0.5) {\n        this.dpi = 300\n      }\n    }\n  },\n  mounted: function () {\n    const t = this\n    t.$nextTick()\n      .then(function () {\n        return t.getObject({\n          action: '',\n          app: 'arq',\n          model: 'arqclasse',\n          id: t.classe.perfil === t.ARQCLASSE_FISICA ? t.arqdoc.classe_logica : t.arqdoc.classe_estrutural\n        })\n          .then((classe) => {\n            t.contra_classe = classe\n            return classe\n          })\n          .catch((response) => t.sendMessage(\n            { alert: 'danger', message: 'Não foi possível recuperar classe selecionada...', time: 5 }))\n      })\n  }\n}\n</script>\n<style lang=\"scss\">\n.arq-doc-item {\n  padding: 15px 15px 15px 8px;\n  border-bottom: 1px solid #eee;\n  margin-left: 7px;\n  z-index: 0;\n  .inner {\n    position: relative;\n    .descricao {\n      padding: 5px 0;\n    }\n    .rodape {\n      font-size: 80%;\n      color: #444;\n      display: flex;\n      gap: 15px;\n    }\n    .inner-preview {\n      background-color: #777;\n      position: absolute;\n      display: none;\n      top: -15px;\n      right: -15px;\n      bottom: -15px;\n      padding: 10px;\n      z-index: 1;\n      img {\n        position:relative;\n        height: 100%;\n        width: auto;\n      }\n      .actions {\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        display: none;\n        align-items: stretch;\n        justify-content: end;\n        .previous, .next {\n          display: flex;\n          flex: 0 0 50%;\n          justify-content: left;\n          align-items: center;\n          text-decoration: none;\n          cursor: pointer;\n          color: #0003;\n          padding: 10px 20px;\n          font-size: 150%;\n          &:hover {\n            color: #09f;\n          }\n        }\n        .next {\n          justify-content: right;\n        }\n      }\n    }\n  }\n  &:hover {\n    background-color: #f5f5f5;\n    padding: 15px 15px 15px 15px;\n    margin-left: 0px;\n    .inner-preview {\n      display: block;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArqDocItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArqDocItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ArqDocItem.vue?vue&type=template&id=52902b76\"\nimport script from \"./ArqDocItem.vue?vue&type=script&lang=js\"\nexport * from \"./ArqDocItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./ArqDocItem.vue?vue&type=style&index=0&id=52902b76&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocListLayout.vue?vue&type=style&index=0&id=75c4894d&prod&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArqDocItem.vue?vue&type=style&index=0&id=52902b76&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.classe)?_c('div',{staticClass:\"doclist-layout container-fluid\"},[_c('bread-crumb-classe',{attrs:{\"parents\":_vm.classe.parents}}),_c('div',{staticClass:\"row-fluid\"},[_c('div',{staticClass:\"col\"},[_c('h2',[_vm._v(_vm._s(_vm.classe.titulo))]),_c('small',{domProps:{\"innerHTML\":_vm._s(_vm.descricao_html)}}),_c('div',{staticClass:\"inner-list\"},_vm._l((_vm.arqdocs_ordered),function(doc,k){return _c('arq-doc-item',{key:`ad-${k}`,attrs:{\"arqdoc\":doc,\"classe\":_vm.classe}},[_vm._v(\" \"+_vm._s(doc.titulo)+\" \")])}),1),_c('div',{staticClass:\"text-info\"},[_vm._v(\"TODO: implementar paginação\")])]),_c('div',{staticClass:\"col-3 d-none\"},[_c('div',{staticClass:\"classechild\"},[_c('h4',[_vm._v(\" Subclasses de \"+_vm._s(_vm.classe.titulo)+\" \")]),_vm._v(\" \"+_vm._s(_vm.params_node)+\" - \"+_vm._s(_vm.params_nodechild)+\" \")])])])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocListLayout.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocListLayout.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DocListLayout.vue?vue&type=template&id=75c4894d\"\nimport script from \"./DocListLayout.vue?vue&type=script&lang=js\"\nexport * from \"./DocListLayout.vue?vue&type=script&lang=js\"\nimport style0 from \"./DocListLayout.vue?vue&type=style&index=0&id=75c4894d&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}