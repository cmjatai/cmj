(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad6ab1be"],{1970:function(e,t,n){"use strict";var s="undefined"!==typeof window?window:null,r=null===s,i=r?void 0:s.document,o="addEventListener",a="removeEventListener",l="getBoundingClientRect",c="_a",d="_b",u="_c",f="horizontal",h=function(){return!1},p=r?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=i.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",m=function(e){return"string"===typeof e||e instanceof String},g=function(e){if(m(e)){var t=i.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},v=function(e,t,n){var s=e[t];return void 0!==s?s:n},y=function(e,t,n,s){if(t){if("end"===s)return 0;if("center"===s)return e/2}else if(n){if("start"===s)return 0;if("center"===s)return e/2}return e},_=function(e,t){var n=i.createElement("div");return n.className="gutter gutter-"+t,n},S=function(e,t,n){var s={};return m(t)?s[e]=t:s[e]=p+"("+t+"% - "+n+"px)",s},z=function(e,t){var n;return n={},n[e]=t+"px",n},b=function(e,t){if(void 0===t&&(t={}),r)return{};var n,p,m,b,k,C,O=e;Array.from&&(O=Array.from(O));var w=g(O[0]),A=w.parentNode,I=getComputedStyle?getComputedStyle(A):null,E=I?I.flexDirection:null,q=v(t,"sizes")||O.map((function(){return 100/O.length})),$=v(t,"minSize",100),x=Array.isArray($)?$:O.map((function(){return $})),T=v(t,"maxSize",1/0),M=Array.isArray(T)?T:O.map((function(){return T})),N=v(t,"expandToMin",!1),L=v(t,"gutterSize",10),j=v(t,"gutterAlign","center"),U=v(t,"snapOffset",30),D=Array.isArray(U)?U:O.map((function(){return U})),R=v(t,"dragInterval",1),F=v(t,"direction",f),J=v(t,"cursor",F===f?"col-resize":"row-resize"),B=v(t,"gutter",_),H=v(t,"elementStyle",S),P=v(t,"gutterStyle",z);function Q(e,t,s,r){var i=H(n,t,s,r);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}function G(e,t,s){var r=P(n,t,s);Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}function V(){return C.map((function(e){return e.size}))}function W(e){return"touches"in e?e.touches[0][p]:e[p]}function X(e){var t=C[this.a],n=C[this.b],s=t.size+n.size;t.size=e/this.size*s,n.size=s-e/this.size*s,Q(t.element,t.size,this[d],t.i),Q(n.element,n.size,this[u],n.i)}function Y(e){var n,s=C[this.a],r=C[this.b];this.dragging&&(n=W(e)-this.start+(this[d]-this.dragOffset),R>1&&(n=Math.round(n/R)*R),n<=s.minSize+s.snapOffset+this[d]?n=s.minSize+this[d]:n>=this.size-(r.minSize+r.snapOffset+this[u])&&(n=this.size-(r.minSize+this[u])),n>=s.maxSize-s.snapOffset+this[d]?n=s.maxSize+this[d]:n<=this.size-(r.maxSize-r.snapOffset+this[u])&&(n=this.size-(r.maxSize+this[u])),X.call(this,n),v(t,"onDrag",h)(V()))}function K(){var e=C[this.a].element,t=C[this.b].element,s=e[l](),r=t[l]();this.size=s[n]+r[n]+this[d]+this[u],this.start=s[m],this.end=s[b]}function Z(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[k];return 0===n?null:(n-=F===f?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n)}function ee(e){var t=Z(A);if(null===t)return e;if(x.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,s=[],r=e.map((function(r,i){var o=t*r/100,a=y(L,0===i,i===e.length-1,j),l=x[i]+a;return o<l?(n+=l-o,s.push(0),l):(s.push(o-l),o)}));return 0===n?e:r.map((function(e,r){var i=e;if(n>0&&s[r]-n>0){var o=Math.min(n,s[r]-n);n-=o,i=e-o}return i/t*100}))}function te(){var e=this,n=C[e.a].element,r=C[e.b].element;e.dragging&&v(t,"onDragEnd",h)(V()),e.dragging=!1,s[a]("mouseup",e.stop),s[a]("touchend",e.stop),s[a]("touchcancel",e.stop),s[a]("mousemove",e.move),s[a]("touchmove",e.move),e.stop=null,e.move=null,n[a]("selectstart",h),n[a]("dragstart",h),r[a]("selectstart",h),r[a]("dragstart",h),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",i.body.style.cursor=""}function ne(e){if(!("button"in e)||0===e.button){var n=this,r=C[n.a].element,a=C[n.b].element;n.dragging||v(t,"onDragStart",h)(V()),e.preventDefault(),n.dragging=!0,n.move=Y.bind(n),n.stop=te.bind(n),s[o]("mouseup",n.stop),s[o]("touchend",n.stop),s[o]("touchcancel",n.stop),s[o]("mousemove",n.move),s[o]("touchmove",n.move),r[o]("selectstart",h),r[o]("dragstart",h),a[o]("selectstart",h),a[o]("dragstart",h),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.MozUserSelect="none",a.style.pointerEvents="none",n.gutter.style.cursor=J,n.parent.style.cursor=J,i.body.style.cursor=J,K.call(n),n.dragOffset=W(e)-n.end}}F===f?(n="width",p="clientX",m="left",b="right",k="clientWidth"):"vertical"===F&&(n="height",p="clientY",m="top",b="bottom",k="clientHeight"),q=ee(q);var se=[];function re(e){var t=e.i===se.length,n=t?se[e.i-1]:se[e.i];K.call(n);var s=t?n.size-e.minSize-n[u]:e.minSize+n[d];X.call(n,s)}function ie(e){var t=ee(e);t.forEach((function(e,n){if(n>0){var s=se[n-1],r=C[s.a],i=C[s.b];r.size=t[n-1],i.size=e,Q(r.element,r.size,s[d],r.i),Q(i.element,i.size,s[u],i.i)}}))}function oe(e,t){se.forEach((function(s){if(!0!==t?s.parent.removeChild(s.gutter):(s.gutter[a]("mousedown",s[c]),s.gutter[a]("touchstart",s[c])),!0!==e){var r=H(n,s.a.size,s[d]);Object.keys(r).forEach((function(e){C[s.a].element.style[e]="",C[s.b].element.style[e]=""}))}}))}return C=O.map((function(e,t){var n,s={element:g(e),size:q[t],minSize:x[t],maxSize:M[t],snapOffset:D[t],i:t};if(t>0&&(n={a:t-1,b:t,dragging:!1,direction:F,parent:A},n[d]=y(L,t-1===0,!1,j),n[u]=y(L,!1,t===O.length-1,j),"row-reverse"===E||"column-reverse"===E)){var r=n.a;n.a=n.b,n.b=r}if(t>0){var i=B(t,F,s.element);G(i,L,t),n[c]=ne.bind(n),i[o]("mousedown",n[c]),i[o]("touchstart",n[c]),A.insertBefore(i,s.element),n.gutter=i}return Q(s.element,s.size,y(L,0===t,t===O.length-1,j),t),t>0&&se.push(n),s})),C.forEach((function(e){var t=e.element[l]()[n];t<e.minSize&&(N?re(e):e.minSize=t)})),{setSizes:ie,getSizes:V,collapse:function(e){re(C[e])},destroy:oe,parent:A,pairs:se}};t["a"]=b},4947:function(e,t,n){"use strict";n("806c")},"54a4":function(e,t,n){"use strict";(function(e){n("14d9"),n("b0c0"),n("e9c4"),n("b64b");var s=n("dc39"),r=n("1970");t["a"]={name:"admin-layout",components:{NodeLayout:s["a"]},data:function(){return{node_key_localstorage:"portalcmj_arqnode_tree_opened",check_opened:0}},watch:{$route:function(e,t){"arqchildroute"===e.name&&e.params.node!==t.params.node&&(this.$refs.noderoot.node_params=e.params.node,this.$refs.noderoot.nodechild_params=e.params.nodechild,this.$refs.noderoot.reload())}},methods:{checkIsOpenedNodesTree:function(){this.check_opened+=1},clickCollapseAll:function(){if(this.$refs.noderoot.is_opened)localStorage.clearArrayOfIds(this.node_key_localstorage),this.$refs.noderoot.is_opened=!1;else{var t=this.$refs.noderoot.node,n="";n=null!==t&&null!==t.parent?t.parent:"root";var s=this.$refs.selectednode;if(e.isEmpty(s)||e.isEmpty(s.classe)||null==s.classe.parent)if(!e.isEmpty(t)&&t.id!==n||void 0!==this.$route.params.nodechild){var r="arqadminroute",i={node:n};"root"!==n&&(i["nodechild"]=n,r="arqchildroute"),this.$router.push({name:r,params:i})}else localStorage.clearArrayOfIds(this.node_key_localstorage),this.$refs.noderoot.reload(),this.sendMessage({alert:"danger",message:"Topo atingido!",time:2});else{var o="arqchildroute",a={node:n,nodechild:s.classe.parent};localStorage.delItemArrayOfIds(this.node_key_localstorage,s.classe.parent),this.$router.push({name:o,params:a})}}}},mounted:function(){var e=localStorage.getItem("split-sizes");e?(e=JSON.parse(e),e[0]+e[1]>100&&(e=[35,65])):e=[35,65],Object(r["a"])(["#col-classes","#col-docs"],{minSize:350,sizes:e,onDragEnd:function(e){localStorage.setItem("split-sizes",JSON.stringify(e))}})}}}).call(this,n("2ef0"))},"7f1a":function(e,t,n){},"7f6d":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid container-arqtree"},[t("div",{staticClass:"row"},[t("div",{attrs:{id:"col-classes"}},[t("div",{staticClass:"arqtree-inner"},[t("div",{staticClass:"arqtree-titulo"},[t("span",{staticClass:"collapse-all",on:{click:e.clickCollapseAll}},[t("i",{staticClass:"fas fa-chevron-left"}),t("i",{staticClass:"fas fa-chevron-left"})]),t("h1",[e._v("ArqView")])]),t("node-layout",{ref:"noderoot",attrs:{level:0}})],1)]),t("div",{attrs:{id:"col-docs"}},[t("router-view",{key:e.$route.fullPath,ref:"selectednode",on:{checkIsOpenedNodesTree:e.checkIsOpenedNodesTree}})],1)])])},r=[],i=n("54a4"),o=i["a"],a=(n("a220"),n("2877")),l=Object(a["a"])(o,s,r,!1,null,null,null);t["default"]=l.exports},"806c":function(e,t,n){},a220:function(e,t,n){"use strict";n("7f1a")},ac3d:function(e,t,n){"use strict";(function(e){n("99af"),n("ac1f"),n("5319");t["a"]={name:"node-layout",props:["parent","elemento","level"],data:function(){return{childs:{},is_opened:!1,node_params:this.$route.params.node,nodechild_params:this.$route.params.nodechild,node:null,node_key_localstorage:"portalcmj_arqnode_tree_opened",click_title:!1,ARQCLASSE_FISICA:100,ARQCLASSE_LOGICA:200}},mounted:function(){this.reload()},computed:{descricao_html:function(){var e=this.node.descricao;return e=e.replace("\r\n","<br>"),e=e.replace("\n","<br>"),"<strong>".concat(this.node.conta,"</strong> - <strong>").concat(this.node.titulo,"</strong><br><i>").concat(e,"</i>")}},watch:{is_opened:function(t,n){t?(this.fetch(1,"&get_all=True&parent=".concat(this.node.id)),localStorage.addArrayOfIds(this.node_key_localstorage,this.node.id)):(this.$set(this,"childs",{}),e.isEmpty(this.node)||localStorage.delItemArrayOfIds(this.node_key_localstorage,this.node.id))},$route:function(e,t){var n=this;n.node_params=e.params.node,n.nodechild_params=e.params.nodechild,n.$nextTick().then((function(){n.openIfInArrayOfIds()}))}},methods:{clickRoute:function(){this.clickToggle()},clickToggle:function(){this.is_opened=!this.is_opened},openIfInArrayOfIds:function(){e.isEmpty(this.node)||this.is_opened||!localStorage.inArrayOfIds(this.node_key_localstorage,this.node.id)||(this.is_opened=!0,this.fetch(1,"&get_all=True&parent=".concat(this.node.id)))},reload:function(){var e=this;e.node=e.elemento||null,"root"===e.node_params&&void 0===e.elemento?e.fetch(1,"&get_all=True&parent__isnull=True"):void 0===this.elemento?e.fetchElemento(e.node_params).then((function(){e.fetch(1,"&get_all=True&parent=".concat(e.node_params)).then((function(){e.clickToggle()}))})):e.openIfInArrayOfIds()},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=this;return s.$set(s,"childs",{}),s.utils.getModelOrderedList("arq","arqclasse","titulo",t,n).then((function(t){e.each(t.data,(function(e,t){s.$set(s.childs,e.id,e)}))})).catch((function(e){return s.sendMessage({alert:"danger",message:"Não foi possível recuperar os sub itens...",time:5})}))},fetchElemento:function(e){var t=this;return t.utils.getModel("arq","arqclasse",e).then((function(e){return t.node=e.data,e})).catch((function(e){return t.sendMessage({alert:"danger",message:"Não foi possível recuperar node...",time:5})}))}}}}).call(this,n("2ef0"))},dc39:function(e,t,n){"use strict";n("99af");var s=function(){var e=this,t=e._self._c;return t("div",{class:["node-element",null!==e.node&&0===e.node.count_childs?"type-content":"",null!==e.node&&e.node.id===parseInt(e.nodechild_params)?"active":""]},[e.node?t("div",{class:["node-titulo","level-".concat(e.level)]},[t("span",{staticClass:"spacer"}),0!==e.node.count_childs?t("span",{staticClass:"toggle",on:{click:e.clickToggle}},[e.is_opened&&e.childs?e._e():t("i",{staticClass:"fas fa-chevron-right"}),e.is_opened&&e.childs?t("i",{staticClass:"fas fa-chevron-down"}):e._e()]):e._e(),t("span",{staticClass:"content"},[t("router-link",{attrs:{to:{name:"arqchildroute",params:{node:e.node_params,nodechild:e.node.id}}},nativeOn:{click:function(t){return e.clickRoute.apply(null,arguments)}}},[e._v(" "+e._s(e.node.titulo)+" "),e.node.checkcheck?t("i",{staticClass:"fas fa-xs fa-lock text-light-blue",attrs:{title:"ArqClasse Arquivada."}}):e._e()]),t("div",{staticClass:"btn-group btn-group-sm el-actions"},[t("a",{staticClass:"btn btn-link",attrs:{href:"/arqadmin/classe/".concat(e.node.id),target:"_blank"}},[t("i",{staticClass:"fas fa-edit"})]),t("a",{staticClass:"btn btn-link",attrs:{href:"/arq/".concat(e.node.id,"/").concat(e.node.id)}},[t("i",{staticClass:"fas fa-expand"})])]),t("small",{staticClass:"box-descricao",domProps:{innerHTML:e._s(e.descricao_html)}})],1)]):e._e(),e._l(e.childs,(function(n,s){return t("node-layout",{key:"class-".concat(s),attrs:{elemento:n,parent:e.elemento,level:e.level+1}})}))],2)},r=[],i=n("ac3d"),o=i["a"],a=(n("4947"),n("2877")),l=Object(a["a"])(o,s,r,!1,null,null,null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-ad6ab1be.9c52b0d9.js.map