import{f as r,i as s,g as a,p as n,j as o,t as m}from"./vendor-Dq9xiLvp.js";import{_ as l}from"./main-BP6ptUgO.js";import"./vendor_fortawesome-D0qyeiI4.js";const d={name:"RefreshPage",props:{timeout:{type:Number,required:!0,validator:e=>e>0},show:{type:Boolean,required:!0},enabled:{type:Boolean,default:!0}},data(){return{timer:null,remainingTime:0}},computed:{displayTime(){const e=Math.ceil(this.remainingTime/1e3);return e>0?`${e} segundos`:"Agora"}},mounted(){this.enabled&&this.startTimer()},beforeUnmount(){this.clearTimers()},watch:{enabled(e){e?this.startTimer():this.clearTimers()},timeout(){this.enabled&&(this.clearTimers(),this.startTimer())}},methods:{startTimer(){this.remainingTime=this.timeout,this.timer=setTimeout(()=>{window.location.reload()},this.timeout),this.show&&(this.countdownInterval=setInterval(()=>{this.remainingTime-=1e3,this.remainingTime<=0&&clearInterval(this.countdownInterval)},1e3))},clearTimers(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null)}}},u={key:0,class:"refresh-countdown"};function c(e,h,t,f,p,i){return t.show?(a(),r("div",u,[n(e.$slots,"default",{},void 0,!0),o("... esta página atualizará em "+m(i.displayTime)+". ",1)])):s("",!0)}const _=l(d,[["render",c],["__scopeId","data-v-0e10499a"]]);export{_ as default};
