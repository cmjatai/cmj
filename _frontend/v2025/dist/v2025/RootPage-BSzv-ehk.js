import{z as b,c as C,A as k,f as a,g as s,i as m,B as x,n as $,k as e,j as E,l as g,q as _,p as f,o as M,F as S,r as L,C as p,D as A,t as F,O as I,$ as w}from"./vendor-ErNexbHM.js";import{u as P,a as q,_ as R,b as B}from"./main-DM8hBK3P.js";import"./vendor_fortawesome-CwIs9nVh.js";const D={class:"portalcmj-connect"},T={class:"header"},j=["src","title"],H=["src","title"],J={key:0,class:"inner"},N=["innerHTML"],O=["innerHTML"],z=["innerHTML"],V={key:0,class:"inner"},U={key:0,class:"alert alert-danger"},G={class:"input-icon input_username"},K={class:"input-icon input_password"},Q={__name:"PortalCmjConnect",setup(y){const t=P(),c=q(),l=b(!1),r=b(!1),i=C(()=>t.data_connect?.user||null),v=h=>{r.value=!1,t.loginPortalCMJ(h.target.elements.username.value,h.target.elements.password.value).then(o=>{r.value=!1,c.addMessage({type:"info",text:"Autenticação efetuada com sucesso!",timeout:5e3}),d()}).catch(o=>{r.value=!0})},u=()=>{t.logoutPortalCMJ().then(()=>{c.addMessage({type:"info",text:"Desconectado com sucesso!",timeout:5e3})}),l.value=!1},d=()=>{t.loginStatus(),l.value=!l.value};return(h,o)=>{const n=k("FontAwesomeIcon");return s(),a("div",D,[i.value?(s(),a("div",{key:0,class:$(["portalcmj-connected",l.value?"expand":""]),onClick:x(d,["self"])},[e("div",T,[e("div",{class:"avatar",onClick:d},[i.value.votante?(s(),a("img",{key:0,src:`/api/parlamentares/parlamentar/${i.value.votante.parlamentar_id}/fotografia.c512.png`,title:i.value.votante.nome_parlamentar},null,8,j)):(s(),a("img",{key:1,src:i.value.avatar,title:i.value.fullname},null,8,H))]),l.value?(s(),a("div",J,[i.value.votante?(s(),a("span",{key:0,innerHTML:i.value.votante.nome_parlamentar},null,8,N)):m("",!0),i.value.votante?m("",!0):(s(),a("span",{key:1,innerHTML:i.value.fullname},null,8,O)),o[0]||(o[0]=e("br",null,null,-1)),e("small",{innerHTML:i.value.username},null,8,z)])):m("",!0)]),l.value?(s(),a("div",{key:0,class:"rodape",onClick:u},[...o[1]||(o[1]=[E(" Desconectar ",-1),e("i",{class:$(["fas fa-sign-out-alt hover-circle"]),title:"Desconectar usuário"},null,-1)])])):m("",!0)],2)):m("",!0),i.value?m("",!0):(s(),a("div",{key:1,class:$(["portalcmj-login",l.value?"expand":""]),onClick:x(d,["self"])},[e("div",{class:"header",onClick:d},[l.value?m("",!0):(s(),g(n,{key:0,icon:"sign-in-alt",class:"hover-circle animation-rotate",title:"Autenticar-se PortalCMJ"}))]),l.value?(s(),a("div",V,[l.value?(s(),g(n,{key:0,icon:"times",class:"fa-times hover-circle",onClick:d,title:"Fechar Janela de Autenticação"})):m("",!0),e("form",{class:"inner-content",onSubmit:x(v,["prevent"])},[o[4]||(o[4]=e("h4",null,"Entre com seu usuário e senha:",-1)),r.value?(s(),a("div",U,"Usuário e/ou Senha inválidos.")):m("",!0),e("div",G,[_(n,{icon:"user",class:"fa-user fa-2x"}),o[2]||(o[2]=e("input",{type:"text",name:"username",class:"form-control",placeholder:"Digite seu Endereço de email",autocomplete:"username",maxlength:"254",required:"",id:"id_username"},null,-1))]),e("div",K,[_(n,{icon:"key",class:"fa-key fa-2x"}),o[3]||(o[3]=e("input",{type:"password",name:"password",class:"form-control",placeholder:"Digite sua Senha",autocomplete:"current-password",maxlength:"30",required:"",id:"id_password"},null,-1))]),o[5]||(o[5]=e("div",{class:"rodape-login"},[e("button",{class:"btn btn-primary btn-login",type:"submit",value:"login"},"Conectar")],-1))],32)])):m("",!0)],2))])}}},W={class:$(["root-layout"])},X={class:"header-left d-lg-none"},Y={class:"header-main"},Z={class:"brand"},ee={class:"header-detail"},te={class:"header-right"},se={class:"sideleft"},ne={class:"main"},ae={class:"sideright"},oe={__name:"RootLayout",setup(y){return(t,c)=>(s(),a("div",W,[e("header",null,[e("div",X,[f(t.$slots,"header-left")]),e("div",Y,[e("div",Z,[f(t.$slots,"brand")]),e("div",ee,[f(t.$slots,"header-detail")])]),e("div",te,[f(t.$slots,"header-right")])]),e("aside",se,[f(t.$slots,"sideleft")]),e("main",ne,[f(t.$slots,"main")]),e("div",ae,[f(t.$slots,"sideright")])]))}},le={class:"offcanvas offcanvas-start d-lg-none",tabindex:"-1",id:"menuSideLeft","aria-labelledby":"menuSideLeftLabel"},ie={class:"offcanvas-body"},re={class:"nav flex-column"},ce={class:"nav flex-column"},ue={class:"sidebar-label"},de={__name:"SideLeft",setup(y){const t=b(null),c=b(null),l=b([{icon:"home",route:"app_vue_v2025",texto:"Início"},{image:"/static/imgs/icon_mesa_diretora.png",route:"",texto:"Mesa Diretora"},{image:"/static/imgs/icon_comissoes.png",route:"",texto:"Comissões"},{image:"/static/imgs/icon_parlamentares.png",route:"",texto:"Parlamentares"},{image:"/static/imgs/icon_pautas.png",route:"",texto:"Pautas"},{image:"/static/v2025/imgs/icon_plenarias.png",route:"sessao_plenaria_list_link",texto:"Sessões Plenárias"},{image:"/static/imgs/icon_materia_legislativa.png",route:"",texto:"Matérias Legislativas"},{image:"/static/imgs/icon_normas_juridicas.png",route:"",texto:"Normas Jurídicas"},{image:"/static/imgs/icon_relatorios.png",route:"",texto:"Relatórios"},{icon:"fas fa-columns",route:"",texto:"Eventos e Painéis"}]),r=C(()=>l.value.filter(v=>v.route!==""));M(()=>{c.value.addEventListener("click",()=>{t.value.classList.toggle("collapsed")})});const i=v=>{const u=document.getElementById(v.replace("#",""));I.getOrCreateInstance(u).hide()};return(v,u)=>{const d=A,h=k("FontAwesomeIcon"),o=k("router-link");return s(),a(S,null,[e("div",le,[u[1]||(u[1]=e("div",{class:"offcanvas-header"},[e("h5",{id:"menuSideLeftLabel"}," Menu "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Fechar"})],-1)),e("div",ie,[e("ul",re,[(s(!0),a(S,null,L(r.value,n=>(s(),a("li",{class:"nav-item",key:n.texto},[_(o,{to:{name:n.route},class:"nav-link",onClick:u[0]||(u[0]=$e=>i("#menuSideLeft"))},{default:p(()=>[n.image?(s(),g(d,{key:0,src:n.image,fluid:"",rounded:"0",class:""},null,8,["src"])):n.icon?(s(),g(h,{key:1,icon:n.icon,class:""},null,8,["icon"])):m("",!0),e("span",null,F(n.texto),1)]),_:2},1032,["to"])]))),128))])])]),e("div",{ref_key:"sidebar",ref:t,class:"sidebar d-none d-lg-flex flex-column collapsed"},[e("ul",ce,[e("li",{ref_key:"toggleSidebar",ref:c,class:"nav-item"},[...u[2]||(u[2]=[e("span",{class:"toggle-btn"},"☰",-1)])],512),(s(!0),a(S,null,L(r.value,n=>(s(),a("li",{class:"nav-item",key:n.texto},[_(o,{to:{name:n.route},class:"nav-link"},{default:p(()=>[n.image?(s(),g(d,{key:0,src:n.image,fluid:"",rounded:"0",class:""},null,8,["src"])):n.icon?(s(),g(h,{key:1,icon:n.icon,class:""},null,8,["icon"])):m("",!0),e("span",ue,F(n.texto),1)]),_:2},1032,["to"])]))),128))])],512)],64)}}},me={class:"side-right"},_e={__name:"SideRight",setup(y){return(t,c)=>(s(),a("div",me," . "))}},ve=R(_e,[["__scopeId","data-v-c33b2bb0"]]),pe={class:"inner-brand"},fe={class:"link-logo",href:"/"},ge=["src"],he={class:"link-nome",href:"/"},be={class:"title-brand"},ye={__name:"Brand",setup(y){const t=B(),c=C(()=>Object.values(t.data_cache?.base_casalegislativa??{})[0]??{});return M(()=>{t.fetchSync({app:"base",model:"casalegislativa",orderBy:"id",limit:1})}),(l,r)=>(s(),a("div",pe,[e("a",fe,[e("img",{src:c.value.logotipo!==void 0?c.value.logotipo:"/static/imgs/brasao_transp.gif"},null,8,ge)]),e("a",he,[e("span",be,[E(F(c.value.nome),1),r[0]||(r[0]=e("br",null,null,-1)),r[1]||(r[1]=e("small",null,"PortalCMJ",-1))])])]))}},ke={class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"First group"},xe=["title"],Le={__name:"RootPage",setup(y){const t=b(!1);document.addEventListener("fullscreenchange",()=>{t.value=!!document.fullscreenElement});const c=()=>{t.value=!t.value,t.value?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l=()=>{w(".root-layout .main").css("font-size","-=1")},r=()=>{w(".root-layout .main").css("font-size","+=1")};return(i,v)=>{const u=k("FontAwesomeIcon"),d=k("router-view");return s(),g(oe,null,{"header-left":p(()=>[...v[0]||(v[0]=[e("button",{class:"d-lg-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#menuSideLeft","aria-controls":"menuSideLeft"}," ☰ ",-1)])]),brand:p(()=>[_(ye)]),"header-detail":p(()=>[e("div",ke,[e("a",{href:"#",class:"btn btn-secondary",onClick:x(c,["prevent"]),title:t.value?"Sair do modo tela cheia":"Entrar no modo tela cheia"},[_(u,{icon:t.value?"compress":"expand"},null,8,["icon"])],8,xe)]),e("div",{class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"Second group"},[e("a",{class:"btn btn-secondary",onClick:l},"a"),e("a",{class:"btn btn-secondary",onClick:r},"A")])]),"header-right":p(()=>[_(Q)]),sideleft:p(()=>[_(de)]),sideright:p(()=>[_(ve)]),main:p(()=>[_(d)]),_:1})}}};export{Le as default};
