import{c,f as n,g as l,k as i,t as o,F as u,r as d}from"./vendor-BruB_2AI.js";import{_ as S,u as b}from"./main-D_XMzGmx.js";import"./vendor_fortawesome-CBP6yMhR.js";const P={class:"widget-registro-presenca"},k={__name:"WidgetSessaoRegistroPresenca",props:{painelId:{type:Number,default:0},widgetSelected:{type:Number,default:0}},setup(v){const a=b(),f=v,g=c(()=>a.data_cache.painelset_painel?.[f.painelId]||null),r=c(()=>a.data_cache.sessao_sessaoplenaria?.[g.value?.sessao]||null),m=c(()=>{if(!r.value)return[];const p=Object.values(a.data_cache.sessao_integrantemesa||{}).filter(e=>e.sessao_plenaria===r.value.id),t=[];return p.forEach(e=>{const s=a.data_cache.parlamentares_parlamentar?.[e.parlamentar]||null,_=a.data_cache.parlamentares_cargomesa?.[e.cargo]||null;s&&_&&t.push({id:s.id,parlamentar:s.__str__,cargo:_.__str__})}),t}),h=c(()=>r.value?Object.values(a.data_cache.sessao_sessaoplenariapresenca||{}).filter(e=>e.sessao_plenaria===r.value.id).map(e=>a.data_cache.parlamentares_parlamentar?.[e.parlamentar]||null).filter(e=>e!==null&&m.value.every(s=>s.id!==e.id)):[]),y=c(()=>{if(!r.value)return[];const t=Object.values(a.data_cache.sessao_sessaoplenariapresenca||{}).filter(s=>s.sessao_plenaria===r.value.id).map(s=>s.parlamentar);return Object.values(a.data_cache.parlamentares_parlamentar||{}).filter(s=>s.ativo&&!t.includes(s.id))});return(async()=>{a.fetchSync({app:"parlamentares",model:"parlamentar",params:{ativo:"True"}}).then(()=>a.fetchSync({app:"parlamentares",model:"cargomesa",params:{}}).then(()=>a.fetchSync({app:"sessao",model:"integrantemesa",params:{sessao_plenaria:r.value?.id}}))),a.fetchSync({app:"sessao",model:"sessaoplenariapresenca",params:{sessao_plenaria:r.value?.id}}),a.fetchSync({app:"sessao",model:"presencaordemdia",params:{sessao_plenaria:r.value?.id}})})(),(p,t)=>(l(),n("div",P,[i("h3",null,"Registro de Presença da Sessão Plenária: "+o(r.value?.__str__),1),t[0]||(t[0]=i("p",null,"Aqui será exibido o widget de registro de presença para a sessão plenária associada ao painel.",-1)),i("div",null,[(l(!0),n(u,null,d(m.value,e=>(l(),n("div",{key:`integrante-${e.id}`,class:"integrante-mesa"},o(e.parlamentar)+" ("+o(e.cargo)+") ",1))),128)),(l(!0),n(u,null,d(h.value,e=>(l(),n("div",{key:`parlamentar-presente-${e.id}`,class:"parlamentar-presente"},o(e.__str__),1))),128)),(l(!0),n(u,null,d(y.value,e=>(l(),n("div",{key:`parlamentar-ausente-${e.id}`,class:"parlamentar-ausente"},o(e.__str__),1))),128))])]))}},O=S(k,[["__scopeId","data-v-c9b54b86"]]);export{O as default};
