import{z as b,c as S,A as k,f as l,g as s,i as m,B as x,n as F,k as e,j as M,q as p,l as v,C as j,o as E,p as y,F as C,r as L,D as A,t as $,E as g,O as D,T as I,$ as w}from"./vendor-Dq9xiLvp.js";import{u as P,a as R,b as q}from"./main-B739mgZp.js";import{_ as T}from"./NormaSimpleModalView-CuVQ2KKi.js";import"./vendor_fortawesome-D0qyeiI4.js";const B={class:"portalcmj-connect"},O={class:"header"},N=["src","title"],H=["src","title"],J={key:0,class:"inner"},z=["innerHTML"],V=["innerHTML"],U=["innerHTML"],G={key:0,class:"inner"},K={key:0,class:"alert alert-danger"},Q={class:"input-icon input_username"},W={class:"input-icon input_password"},X={__name:"PortalCmjConnect",setup(h){const n=P(),o=R(),a=b(!1),c=b(!1),u=S(()=>n.data_connect?.user||null),_=f=>{c.value=!1,n.loginPortalCMJ(f.target.elements.username.value,f.target.elements.password.value).then(d=>{c.value=!1,o.addMessage({type:"info",text:"Autenticação efetuada com sucesso!",timeout:5e3}),i()}).catch(d=>{c.value=!0})},r=()=>{n.logoutPortalCMJ().then(()=>{o.addMessage({type:"info",text:"Desconectado com sucesso!",timeout:5e3})}),a.value=!1},i=()=>{n.loginStatus(),a.value=!a.value};return(f,d)=>{const t=k("FontAwesomeIcon");return s(),l("div",B,[u.value?(s(),l("div",{key:0,class:F(["portalcmj-connected",a.value?"expand":""]),onClick:x(i,["self"])},[e("div",O,[e("div",{class:"avatar",onClick:i},[u.value.votante?(s(),l("img",{key:0,src:`/api/parlamentares/parlamentar/${u.value.votante.parlamentar_id}/fotografia.c512.png`,title:u.value.votante.nome_parlamentar},null,8,N)):(s(),l("img",{key:1,src:u.value.avatar,title:u.value.fullname},null,8,H))]),a.value?(s(),l("div",J,[u.value.votante?(s(),l("span",{key:0,innerHTML:u.value.votante.nome_parlamentar},null,8,z)):m("",!0),u.value.votante?m("",!0):(s(),l("span",{key:1,innerHTML:u.value.fullname},null,8,V)),d[0]||(d[0]=e("br",null,null,-1)),e("small",{innerHTML:u.value.username},null,8,U)])):m("",!0)]),a.value?(s(),l("div",{key:0,class:"rodape",onClick:r,title:"Desconectar usuário"},[d[1]||(d[1]=M(" Desconectar ",-1)),p(t,{icon:"sign-out-alt"})])):m("",!0)],2)):m("",!0),u.value?m("",!0):(s(),l("div",{key:1,class:F(["portalcmj-login",a.value?"expand":""]),onClick:x(i,["self"])},[e("a",{class:"header",onClick:i},[a.value?m("",!0):(s(),v(t,{key:0,icon:"sign-in-alt",class:"hover-circle animation-rotate",title:"Autenticar-se PortalCMJ"}))]),a.value?(s(),l("div",G,[a.value?(s(),v(t,{key:0,icon:"times",class:"fa-times hover-circle",onClick:i,title:"Fechar Janela de Autenticação"})):m("",!0),e("form",{class:"inner-content",onSubmit:x(_,["prevent"])},[d[4]||(d[4]=e("h4",null,"Entre com seu usuário e senha:",-1)),c.value?(s(),l("div",K,"Usuário e/ou Senha inválidos.")):m("",!0),e("div",Q,[p(t,{icon:"user",class:"fa-user fa-2x"}),d[2]||(d[2]=e("input",{type:"text",name:"username",class:"form-control",placeholder:"Digite seu Endereço de email",autocomplete:"username",maxlength:"254",required:"",id:"id_username"},null,-1))]),e("div",W,[p(t,{icon:"key",class:"fa-key fa-2x"}),d[3]||(d[3]=e("input",{type:"password",name:"password",class:"form-control",placeholder:"Digite sua Senha",autocomplete:"current-password",maxlength:"30",required:"",id:"id_password"},null,-1))]),d[5]||(d[5]=e("div",{class:"rodape-login"},[e("button",{class:"btn btn-primary btn-login",type:"submit",value:"login"},"Conectar")],-1))],32)])):m("",!0)],2))])}}},Y={class:F(["root-layout"])},Z={class:"header-left d-md-none"},ee={class:"header-main"},te={class:"brand"},se={class:"header-detail"},ae={class:"header-right"},ne={class:"sideleft"},oe={class:"main"},le={class:"sideright"},ie={__name:"RootLayout",setup(h){const n=j("EventBus");E(()=>{document.addEventListener("wheel",o,{passive:!0}),document.addEventListener("touchmove",o,{passive:!0})});const o=a=>{n.emit("disable-auto-rolagem")};return(a,c)=>(s(),l("div",Y,[e("header",null,[e("div",Z,[y(a.$slots,"header-left")]),e("div",ee,[e("div",te,[y(a.$slots,"brand")]),e("div",se,[y(a.$slots,"header-detail")])]),e("div",ae,[y(a.$slots,"header-right")])]),e("aside",ne,[y(a.$slots,"sideleft")]),e("main",oe,[y(a.$slots,"main")]),e("div",le,[y(a.$slots,"sideright")])]))}},re={class:"offcanvas offcanvas-sidebar offcanvas-start d-md-none",tabindex:"-1",id:"menuSideLeft","aria-labelledby":"menuSideLeftLabel"},ce={class:"offcanvas-body"},ue={class:"nav flex-column"},de=["href"],me={class:"sidebar-label"},_e={class:"nav flex-column"},ve=["href"],pe={class:"sidebar-label"},fe={class:"sidebar-label"},ge={__name:"SideLeft",setup(h){const n=b(null),o=b(null),a=b([{icon:"home",route:"app_vue_v2025",texto:"Início"},{image:"/static/imgs/icon_mesa_diretora.png",route:"",texto:"Mesa Diretora"},{image:"/static/imgs/icon_comissoes.png",route:"",texto:"Comissões"},{image:"/static/imgs/icon_parlamentares.png",route:"",texto:"Parlamentares"},{image:"/static/imgs/icon_pautas.png",route:"",texto:"Pautas"},{image:"/static/imgs/icon_plenarias.png",route:"sessao_plenaria_list_link",texto:"Sessões Plenárias"},{image:"/static/imgs/icon_materia_legislativa.png",route:"",texto:"Matérias Legislativas"},{image:"/static/imgs/icon_normas_juridicas.png",route:"",texto:"Normas Jurídicas"},{image:"/static/imgs/icon_relatorios.png",route:"",texto:"Relatórios"},{icon:"columns",route:"",link:"/online/painelset/",texto:"Eventos e Painéis"}]),c=S(()=>a.value.filter(_=>_.route!==""||_.link!==""));E(()=>{o.value.addEventListener("click",()=>{n.value.classList.toggle("collapsed")})});const u=_=>{const r=document.getElementById(_.replace("#",""));D.getOrCreateInstance(r).hide()};return(_,r)=>{const i=A,f=k("FontAwesomeIcon"),d=k("router-link");return s(),l(C,null,[e("div",re,[r[1]||(r[1]=e("div",{class:"offcanvas-header"},[e("h5",{id:"menuSideLeftLabel"}," Menu "),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Fechar"})],-1)),e("div",ce,[e("ul",ue,[(s(!0),l(C,null,L(c.value,t=>(s(),l("li",{class:"nav-item",key:t.texto},[t.link?(s(),l("a",{key:0,href:t.link,class:"nav-link"},[t.image?(s(),v(i,{key:0,src:t.image,fluid:"",rounded:"0",class:""},null,8,["src"])):t.icon?(s(),v(f,{key:1,icon:t.icon,class:""},null,8,["icon"])):m("",!0),e("span",me,$(t.texto),1)],8,de)):t.route?(s(),v(d,{key:1,to:{name:t.route},class:"nav-link",onClick:r[0]||(r[0]=je=>u("#menuSideLeft"))},{default:g(()=>[t.image?(s(),v(i,{key:0,src:t.image,fluid:"",rounded:"0",class:""},null,8,["src"])):t.icon?(s(),v(f,{key:1,icon:t.icon,class:""},null,8,["icon"])):m("",!0),e("span",null,$(t.texto),1)]),_:2},1032,["to"])):m("",!0)]))),128))])])]),e("div",{ref_key:"sidebar",ref:n,class:"sidebar d-none d-md-flex flex-column collapsed"},[e("ul",_e,[e("li",{ref_key:"toggleSidebar",ref:o,class:"nav-item"},[...r[2]||(r[2]=[e("span",{class:"toggle-btn"},"☰",-1)])],512),(s(!0),l(C,null,L(c.value,t=>(s(),l("li",{class:"nav-item",key:t.texto},[t.link?(s(),l("a",{key:0,href:t.link,class:"nav-link"},[t.image?(s(),v(i,{key:0,src:t.image,fluid:"",rounded:"0",class:""},null,8,["src"])):t.icon?(s(),v(f,{key:1,icon:t.icon,class:""},null,8,["icon"])):m("",!0),e("span",pe,$(t.texto),1)],8,ve)):t.route?(s(),v(d,{key:1,to:{name:t.route},class:"nav-link"},{default:g(()=>[t.image?(s(),v(i,{key:0,src:t.image,fluid:"",rounded:"0",class:""},null,8,["src"])):t.icon?(s(),v(f,{key:1,icon:t.icon,class:""},null,8,["icon"])):m("",!0),e("span",fe,$(t.texto),1)]),_:2},1032,["to"])):m("",!0)]))),128))])],512)],64)}}},he="/static/v2025/imgs/icon_normas_juridicas_destaque.png",be={class:"side-right"},ye={class:"menu"},$e=["onClick"],ke={__name:"SideRight",setup(h){const n=q(),o=b(null);E(()=>{n.fetchSync({app:"norma",model:"normajuridica",action:"destaques",params:{get_all:!0}})});const a=b(!1),c=()=>{a.value=!a.value},u=S(()=>Object.values(n.data_cache?.norma_normajuridica||{}).filter(_=>_.norma_de_destaque===!0).sort((_,r)=>_.apelido<r.apelido?-1:_.apelido>r.apelido?1:0));return(_,r)=>(s(),l("div",be,[e("div",ye,[e("ul",null,[e("li",null,[e("img",{onClick:c,src:he}),e("ul",null,[(s(!0),l(C,null,L(u.value,i=>(s(),l("li",{key:`srmd${i.id}`},[e("button",{type:"button",class:"btn btn-secondary","data-toggle":"modal","data-target":"#modal-norma",onClick:f=>o.value=i},$(i.apelido),9,$e)]))),128))])])])]),o.value?(s(),v(I,{key:0,to:"#modalCmj"},[p(T,{"html-id":`modal-opened-${o.value.id}`,"norma-id":o.value.id,onClose:r[0]||(r[0]=i=>o.value=null)},null,8,["html-id","norma-id"])])):m("",!0)]))}},xe={class:"inner-brand"},Ce={class:"link-logo",href:"/"},Se=["src"],Ee={class:"link-nome",href:"/"},Fe={class:"title-brand"},Le={__name:"Brand",setup(h){const n=q(),o=S(()=>Object.values(n.data_cache?.base_casalegislativa??{})[0]??{});return E(()=>{n.fetchSync({app:"base",model:"casalegislativa",params:{o:"id"}})}),(a,c)=>(s(),l("div",xe,[e("a",Ce,[e("img",{src:o.value.logotipo!==void 0?o.value.logotipo:"/static/imgs/brasao_transp.gif"},null,8,Se)]),e("a",Ee,[e("span",Fe,[M($(o.value.nome),1),c[0]||(c[0]=e("br",null,null,-1)),c[1]||(c[1]=e("small",null,"PortalCMJ",-1))])])]))}},we={class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"First group"},Me=["title"],qe={beforeRouteEnter(h,n,o){h.path==="/v2025"||h.path==="/v2025/"?o("/v2025/sessao"):o()}},Re=Object.assign(qe,{__name:"RootPage",setup(h){const n=b(!1);document.addEventListener("fullscreenchange",()=>{n.value=!!document.fullscreenElement});const o=()=>{n.value=!n.value,n.value?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},a=()=>{w(".root-layout .main").css("font-size","-=1")},c=()=>{w(".root-layout .main").css("font-size","+=1")};return(u,_)=>{const r=k("FontAwesomeIcon"),i=k("router-view");return s(),v(ie,null,{"header-left":g(()=>[..._[0]||(_[0]=[e("button",{class:"d-md-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#menuSideLeft","aria-controls":"menuSideLeft"}," ☰ ",-1)])]),brand:g(()=>[p(Le)]),"header-detail":g(()=>[e("div",we,[e("a",{href:"#",class:"btn btn-secondary",onClick:x(o,["prevent"]),title:n.value?"Sair do modo tela cheia":"Entrar no modo tela cheia"},[p(r,{icon:n.value?"compress":"expand"},null,8,["icon"])],8,Me)]),e("div",{class:"btn-group btn-group-sm accessibility",role:"group","aria-label":"Second group"},[e("a",{class:"btn btn-secondary",onClick:a},"a"),e("a",{class:"btn btn-secondary",onClick:c},"A")])]),"header-right":g(()=>[p(X)]),sideleft:g(()=>[p(ge)]),sideright:g(()=>[p(ke)]),main:g(()=>[p(i)]),_:1})}}});export{Re as default};
