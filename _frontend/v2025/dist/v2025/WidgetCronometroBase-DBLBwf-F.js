import{v as h,c as _,o as v,f as I,g as S,t as C,n as b}from"./vendor-Dip3oSWq.js";import{_ as B,u as F}from"./main-DBh7efuO.js";const M={__name:"WidgetCronometroBase",props:{painelId:{type:Number,default:0},widgetSelected:{type:Number,default:0},displayInitial:{type:String,default:"elapsed",validator:function(n){return["elapsed","remaining","last_paused"].includes(n)}},displayFormat:{type:String,default:"hh:mm:ss"},cronometroId:{type:Number,required:!0}},setup(n){const l=F(),e=n,s=h(e.displayInitial),r=_(()=>l.data_cache.painelset_cronometro?.[e.cronometroId]||null),y=async()=>{await l.fetchSync({app:"painelset",model:"cronometro",id:e.cronometroId}).then(()=>{console.log("Iniciando cronÃ´metro localmente:",e.cronometroId),l.startLocalCronometro(e.cronometroId)})};v(()=>{y()});const i=(u,p)=>{let t=Math.round(u||p||0);const f=t<0?"-":"";t<0&&(t=t*-1);const c=Math.floor(t/3600),m=Math.floor(t%3600/60),d=t%60;let a="";return e.displayFormat==="hh:mm:ss"?a=[c,m,d].map(o=>o<10?"0"+o:o).join(":"):e.displayFormat==="mm:ss"?a=[m+c*60,d].map(o=>o<10?"0"+o:o).join(":"):e.displayFormat==="ss"&&(a=(d+m*60+c*3600).toString()),f&&(a=f+a),a||"00:00:00"},g=_(()=>r.value?s.value==="elapsed"?i(r.value.elapsed_time):s.value==="remaining"?i(r.value.remaining_time,r.value.accumulated_time):s.value==="last_paused"?i(r.value.last_paused_time):"00:00:00":"00:00:00");return(u,p)=>(S(),I("div",{class:b(["widget-cronometro-base",s.value])},C(g.value),3))}},N=B(M,[["__scopeId","data-v-e3e70f53"]]);export{N as W};
