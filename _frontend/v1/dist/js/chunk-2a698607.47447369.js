(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a698607"],{"06a9":function(t,e,n){},"07ac":function(t,e,n){"use strict";var o=n("23e7"),a=n("6f53").values;o({target:"Object",stat:!0},{values:function(t){return a(t)}})},"16ab":function(t,e,n){"use strict";n("b6ed")},"21e9":function(t,e,n){"use strict";n("06a9")},"25f0":function(t,e,n){"use strict";var o=n("5e77").PROPER,a=n("cb2d"),i=n("825a"),s=n("577e"),r=n("d039"),c=n("90d8"),l="toString",d=RegExp.prototype,u=d[l],m=r((function(){return"/a/b"!==u.call({source:"a",flags:"b"})})),p=o&&u.name!==l;(m||p)&&a(d,l,(function(){var t=i(this),e=s(t.source),n=s(c(t));return"/"+e+"/"+n}),{unsafe:!0})},2976:function(t,e,n){},"5c1a":function(t,e,n){"use strict";var o=function(){var t=this,e=t._self._c;return t.individuos?e("div",{staticClass:"popover-palavra",on:{touchstart:function(e){t.touching=!0},touchmove:function(e){return t.movePopover(e)},touchend:function(e){t.touching=!1},mouseup:function(e){t.touching=!1},mousemove:function(e){return t.movePopover(e)},mousedown:function(e){t.touching=!0}}},t._l(t.individuos,(function(n){return e("div",{key:"popover-individuo-".concat(n.id),class:["popover-individuo",n.com_a_palavra?"com_a_palavra":"aparteante"]},[e("div",{staticClass:"popover-header"},[e("div",{staticClass:"arrow"}),n.com_a_palavra?e("h3",{staticClass:"popover-title"},[t._v("Com a palavra")]):t._e(),n.aparteado?e("h3",{staticClass:"popover-title"},[t._v("Em aparte")]):t._e()]),e("div",{staticClass:"popover-body"},[n?e("div",{staticClass:"individuo-info"},[e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(n.nome))]),n.cronometro?e("div",{staticClass:"timer mt-1"},[e("cronometro-base-old",{key:"cronometro-popover-".concat(n.cronometro),ref:"cronometro-popover-".concat(n.cronometro),refInFor:!0,attrs:{cronometro_id:n.cronometro,css_class_controls:"d-none",css_class:"cron-popover-palavra",display_initial:"remaining",display_format:"mm:ss",display_size:"2em",controls:[]}})],1):t._e()]),n.parlamentar?e("div",{staticClass:"foto me-2",style:{backgroundImage:"url("+t.fotografiaParlamentarUrl(n.parlamentar)+")"}}):e("div",{staticClass:"foto me-2"},[e("i",{staticClass:"fas fa-user"})])]):t._e()])])})),0):t._e()},a=[],i=n("5530"),s=(n("7db0"),n("14d9"),n("e9f5"),n("f665"),n("d3b7"),n("07ac"),n("2f62")),r=(n("caad"),n("2532"),function(){var t=this,e=t._self._c;return e("div",{class:["cronometro-component",t.css_class]},[t.cronometro?e("div",{class:["croncard",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""]},[e("div",{staticClass:"inner",on:{click:t.getCronometro}},[e("div",{class:["display-time",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""],style:{fontSize:t.display_size}},[t._v(" "+t._s(t.displayTime)+" ")]),e("div",{staticClass:"inner-rodape"},["elapsed"===t.display?e("div",[e("small",[t._v("Tempo Decorrido")])]):"remaining"===t.display?e("div",[t.cronometro.remaining_time<0?e("small",[t._v("Tempo Excedido")]):e("small",[t._v("Tempo Restante")])]):"last_paused"===t.display?e("div",[e("small",[t._v("Tempo de Suspensão")])]):t._e()])]),t.css_class_controls?e("div",{class:["controls",t.css_class_controls]},[e("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"First group"}},[t.controls.includes("toggleDisplay")?e("a",{staticClass:"btn btn-outline-dark btn-toggle",attrs:{title:"Alternar exibição"},on:{click:function(e){return e.stopPropagation(),t.toogleDisplay.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-exchange-alt",attrs:{"aria-hidden":"true"}})]):t._e(),"stopped"===t.cronometro.state&&t.controls.includes("start")?e("a",{staticClass:"btn btn-outline-dark btn-start",on:{click:function(e){return e.stopPropagation(),t.startCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),"running"===t.cronometro.state&&t.controls.includes("pause")?e("a",{staticClass:"btn btn-outline-dark btn-pause",on:{click:function(e){return e.stopPropagation(),t.pauseCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})]):t._e(),"paused"===t.cronometro.state&&t.controls.includes("resume")?e("a",{staticClass:"btn btn-outline-dark btn-resume",on:{click:function(e){return e.stopPropagation(),t.resumeCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),["running","paused"].includes(t.cronometro.state)&&t.controls.includes("stop")?e("a",{staticClass:"btn btn-outline-dark btn-stop",on:{click:function(e){return e.stopPropagation(),t.stopCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):t._e(),t.controls.includes("add1m")?e("a",{staticClass:"btn btn-outline-dark btn-negative btn-add1m",attrs:{title:"Reduzir 1 minuto"},on:{click:function(e){return e.stopPropagation(),t.addTime(-60)}}},[t._v(" -1m ")]):t._e(),t.controls.includes("add30s")?e("a",{staticClass:"btn btn-outline-dark btn-negative btn-add30s",attrs:{title:"Reduzir 30 segundos"},on:{click:function(e){return e.stopPropagation(),t.addTime(-30)}}},[t._v(" -30s ")]):t._e(),t.controls.includes("add30s")?e("a",{staticClass:"btn btn-outline-dark btn-add30s",attrs:{title:"Adicionar 30 segundos"},on:{click:function(e){return e.stopPropagation(),t.addTime(30)}}},[t._v(" +30s ")]):t._e(),t.controls.includes("add1m")?e("a",{staticClass:"btn btn-outline-dark btn-add1m",attrs:{title:"Adicionar 1 minuto"},on:{click:function(e){return e.stopPropagation(),t.addTime(60)}}},[t._v(" +1m ")]):t._e(),t.controls.includes("add3m")?e("a",{staticClass:"btn btn-outline-dark btn-add3m",attrs:{title:"Adicionar 3 minutos"},on:{click:function(e){return e.stopPropagation(),t.addTime(180)}}},[t._v(" +3m ")]):t._e(),t.controls.includes("add5m")?e("a",{staticClass:"btn btn-outline-dark btn-add5m",attrs:{title:"Adicionar 5 minutos"},on:{click:function(e){return e.stopPropagation(),t.addTime(300)}}},[t._v(" +5m ")]):t._e()])]):t._e()]):e("div",[e("p",[t._v("Carregando cronômetro...")])])])}),c=[],l=(n("a15b"),n("d81d"),n("b0c0"),n("e9c4"),n("a9e3"),n("b64b"),n("25f0"),n("cff1")),d={name:"cronometro-base-old",props:{cronometro_id:{type:Number,required:!0},css_class:{type:String,default:""},css_class_controls:{type:String,default:""},display_initial:{type:String,default:"elapsed",validator:function(t){return["elapsed","remaining","last_paused"].includes(t)}},display_format:{type:String,default:"hh:mm:ss"},display_size:{type:String,default:"1.5em"},auto_start:{type:Boolean,default:!1},auto_stop:{type:Boolean,default:!1},controls:{type:Array,default:function(){return["start","pause","resume","stop","add30s","add1m","add3m","add5m","toggleDisplay"]}}},data:function(){return{id:this.cronometro_id,ws:"/ws/cronometro/".concat(this.cronometro_id,"/"),app:"painelset",model:"cronometro",wsSocket:null,cronometro:null,instance:null,idInterval:null,syncInterval:30,countInterval:0,debug_verbose:!1,wait_destroy:!1,display:this.display_initial,modesDisplay:["elapsed","remaining","last_paused"],timerInterval:1500}},mounted:function(){var t=this;this.$nextTick((function(){t.ws_client_cronometro(),t.runInterval()}))},watch:{cronometro_id:function(t,e){!this.nulls.includes(e)&&t!==e&&t>0&&t!==this.id&&(this.id=t,this.ws="/ws/cronometro/".concat(this.cronometro_id,"/"),this.wsSocket&&(this.wsSocket.close(),this.wsSocket=null),this.cronometro=null,this.ws_client_cronometro(),this.runInterval())}},beforeDestroy:function(){this.wsSocket&&(this.wsSocket.close(),this.wsSocket=null),this.stopInterval()},methods:{toogleDisplay:function(){var t=this.modesDisplay.indexOf(this.display),e=(t+1)%this.modesDisplay.length,n=this.modesDisplay[e];"last_paused"===n&&"paused"!==this.cronometro.state&&(n="elapsed"),this.display=n},ws_client_cronometro:function(){var t=this;return t.wsSocket&&t.wsSocket.close(),t.wsSocket=new WebSocket(this.ws_endpoint()),t.wsSocket.onmessage=this.handleWebSocketMessageLocal,t.wsSocket.onopen=function(){t.auto_start?t.startCronometro():t.getCronometro()},t.wsSocket.onclose=function(){t.wsSocket=null},t.wsSocket.onerror=function(e){t.wsSocket=null,t.ws_client_cronometro()},t.wsSocket.onpagehide=function(){t.wsSocket.close()},t.wsSocket.onpageshow=function(){t.ws_client_cronometro()},t.wsSocket},fetch:function(t){var e=this;t&&t.hasOwnProperty("instance")&&t.instance&&(e.instance=t.instance,e.cronometro=t.instance,e.countInterval=e.syncInterval),e.refreshState(t).then((function(t){t.id===e.cronometro_id?(e.instance=t,e.cronometro=t):(e.instance=null,e.cronometro=null)}))},stopInterval:function(){this.idInterval&&(this.wait_destroy=!0,l["a"].clearInterval(this.idInterval),this.idInterval=null)},runInterval:function(){var t=this;t.idInterval&&l["a"].clearInterval(this.idInterval),t.idInterval=l["a"].setInterval((function(){if(t.wait_destroy)t.stopInterval();else{if(t.countInterval+=1,t.countInterval>=t.syncInterval)return t.countInterval=0,void t.getCronometro();t.cronometro&&"running"===t.cronometro.state?(t.cronometro.elapsed_time=t.cronometro.elapsed_time+1,t.cronometro.remaining_time=t.cronometro.remaining_time-1,t.cronometro.accumulated_time=t.cronometro.accumulated_time+1):t.cronometro&&"paused"===t.cronometro.state&&(t.cronometro.last_paused_time=t.cronometro.last_paused_time+1)}}),1e3)},handleWebSocketMessageLocal:function(t){var e=JSON.parse(t.data);"command_result"===e.type&&e.result&&e.result.cronometro&&e.result.cronometro.id===this.cronometro_id&&(this.instance=e.result.cronometro,this.cronometro=this.instance,this.$emit("cronometro_".concat(e.command),this.cronometro),"start"===e.command?this.display=this.display_initial:"pause"===e.command?this.display="last_paused":"stop"===e.command?this.display="elapsed":"resume"===e.command?this.display=this.display_initial:e.command,this.runInterval())},addTime:function(t){try{this.wsSocket.send(JSON.stringify({command:"add_time",cronometro_id:this.cronometro.id,seconds:t}))}catch(e){this.wsSocket=null,this.ws_client_cronometro()}},startCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"start",cronometro_id:this.cronometro_id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},pauseCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"pause",cronometro_id:this.cronometro.id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},resumeCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"resume",cronometro_id:this.cronometro.id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},stopCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"stop",cronometro_id:this.cronometro.id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},getCronometro:function(){try{this.wsSocket?this.wsSocket.send(JSON.stringify({command:"get",cronometro_id:this.cronometro_id})):this.ws_client_cronometro()}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},secondsToTime:function(t,e,n){var o=Math.round(t[e]||t[n]||0),a=o<0?"-":"";o<0&&(o*=-1);var i=Math.floor(o/3600),s=Math.floor(o%3600/60),r=o%60,c="";return"hh:mm:ss"===this.display_format?c=[i,s,r].map((function(t){return t<10?"0"+t:t})).join(":"):"mm:ss"===this.display_format?c=[s+60*i,r].map((function(t){return t<10?"0"+t:t})).join(":"):"ss"===this.display_format&&(c=(r+60*s+3600*i).toString()),a&&(c=a+c),c||"00:00:00"}},computed:{displayTime:function(){return"elapsed"===this.display?this.elapsedTime:"remaining"===this.display?this.remainingTime:"last_paused"===this.display?this.lastPausedTime:"00:00:00"},lastPausedTime:function(){return this.secondsToTime(this.cronometro,"last_paused_time")},elapsedTime:function(){return this.secondsToTime(this.cronometro,"elapsed_time")},remainingTime:function(){return this.secondsToTime(this.cronometro,"remaining_time","accumulated_time")},accumulatedTime:function(){return this.secondsToTime(this.cronometro,"accumulated_time")}}},u=d,m=(n("16ab"),n("2877")),p=Object(m["a"])(u,r,c,!1,null,null,null),f=p.exports,h={name:"popover-palavra",components:{CronometroBaseOld:f},data:function(){return{touching:!1,moving:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(s["d"])("store__sync",["data_cache"])),{},{individuo_com_a_palavra:function(){var t;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo?Object.values(this.data_cache.painelset_individuo).find((function(t){return t.com_a_palavra})):null},individuo_aparteante:function(){var t;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo?Object.values(this.data_cache.painelset_individuo).find((function(t){return t.aparteado})):null},individuos:function(){var t=[];return this.individuo_aparteante&&t.push(this.individuo_aparteante),this.individuo_com_a_palavra&&t.push(this.individuo_com_a_palavra),t}}),methods:{fotografiaParlamentarUrl:function(t){return t?"/api/parlamentares/parlamentar/"+t+"/fotografia.c96.png":null},movePopover:function(t){if(this.touching){var e=this.$el,n=e.getBoundingClientRect(),o=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,i=window.innerWidth-o-n.width/2,s=window.innerHeight-a-n.height/2,r=Math.max(0,Math.min(i,window.innerWidth-n.width)),c=Math.max(0,Math.min(s,window.innerHeight-n.height));e.style.right="".concat(r,"px"),e.style.bottom="".concat(c,"px")}}}},v=h,_=(n("a99a"),Object(m["a"])(v,o,a,!1,null,null,null));e["a"]=_.exports},"6f53":function(t,e,n){"use strict";var o=n("83ab"),a=n("d039"),i=n("e330"),s=n("e163"),r=n("df75"),c=n("fc6a"),l=n("d1e7").f,d=i(l),u=i([].push),m=o&&a((function(){var t=Object.create(null);return t[2]=2,!d(t,2)})),p=function(t){return function(e){var n,a=c(e),i=r(a),l=m&&null===s(a),p=i.length,f=0,h=[];while(p>f)n=i[f++],o&&!(l?n in a:d(a,n))||u(h,t?[n,a[n]]:a[n]);return h}};t.exports={entries:p(!0),values:p(!1)}},"8e28":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sessaoplenaria-module online-module"},[e("router-view"),e("popover-palavra")],1)},a=[],i=n("9662"),s=i["a"],r=(n("21e9"),n("2877")),c=Object(r["a"])(s,o,a,!1,null,null,null);e["default"]=c.exports},"90d8":function(t,e,n){"use strict";var o=n("c65b"),a=n("1a2d"),i=n("3a9b"),s=n("ad6d"),r=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in r||a(t,"flags")||!i(r,t)?e:o(s,t)}},9662:function(t,e,n){"use strict";(function(t){var o=n("5530"),a=n("2f62"),i=n("5c1a");e["a"]={name:"sessaoplenaria-module",components:{PopoverPalavra:i["a"]},data:function(){return{ws:"/ws/time-refresh/",models_init_cache:{base:["autor"],sessao:["tiposessaoplenaria",{model:"expedientesessao",full_pages:!1,ordering:"-sessao_plenaria"}],materia:["tipomaterialegislativa","statustramitacao"],parlamentares:["legislatura",{model:"sessaolegislativa",full_pages:!1,ordering:"-data_inicio"}]}}},mounted:function(){this.setSideleftVisivel(!0),this.setSiderightVisivel(!1),this.initCache()},methods:Object(o["a"])(Object(o["a"])({},a["a"].mapActions(["setSideleftVisivel","setSiderightVisivel"])),{},{fetchList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this;a.utils.getModelOrderedList(n,a.isString(o)?o:o.model,a.isString(o)?"":o.ordering,null===e?1:e).then((function(e){t.each(e.data.results,(function(t,e){a.refreshState({app:n,model:a.isString(o)?o:o.model,id:t.id,value:t})})),a.$nextTick().then((function(){null!==e.data.pagination.next_page&&(a.isString(o)||o.full_pages)&&a.fetchList(e.data.pagination.next_page,n,o)}))}))},initCache:function(){var e=this;t.mapKeys(e.models_init_cache,(function(n,o){t.each(n,(function(t){e.fetchList(1,o,t)}))}))}})}}).call(this,n("2ef0"))},a99a:function(t,e,n){"use strict";n("2976")},b0c0:function(t,e,n){"use strict";var o=n("83ab"),a=n("5e77").EXISTS,i=n("e330"),s=n("edd0"),r=Function.prototype,c=i(r.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=i(l.exec),u="name";o&&!a&&s(r,u,{configurable:!0,get:function(){try{return d(l,c(this))[1]}catch(t){return""}}})},b6ed:function(t,e,n){},cff1:function(t,e,n){"use strict";var o=n("ecd6"),a=n.n(o);function i(){return a()('(function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/static/",r(r.s="a016")})({a016:function(e,t){var r={};self.onmessage=function(e){switch(e.data.command){case"interval:start":var t=setInterval((function(){postMessage({message:"interval:tick",id:e.data.id})}),e.data.interval);postMessage({message:"interval:started",id:e.data.id}),r[e.data.id]=t;break;case"interval:clear":clearInterval(r[e.data.id]),postMessage({message:"interval:cleared",id:e.data.id}),delete r[e.data.id];break}}}});\n//# sourceMappingURL=timer.worker.1321ed17.worker.js.map',"Worker",void 0,n.p+"js/timer.worker.1321ed17.worker.js")}var s=new i,r={id:0,callbacks:{},setInterval:function(t,e,n){this.id++;var o=this.id;return this.callbacks[o]={fn:t,context:n},s.postMessage({command:"interval:start",interval:e,id:o}),o},onMessage:function(t){switch(t.data.message){case"interval:tick":var e=this.callbacks[t.data.id];e&&e.fn&&e.fn.apply(e.context);break;case"interval:cleared":delete this.callbacks[t.data.id];break}},clearInterval:function(t){s.postMessage({command:"interval:clear",id:t})}};s.onmessage=r.onMessage.bind(r);e["a"]=r},d81d:function(t,e,n){"use strict";var o=n("23e7"),a=n("b727").map,i=n("1dde"),s=i("map");o({target:"Array",proto:!0,forced:!s},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-2a698607.47447369.js.map