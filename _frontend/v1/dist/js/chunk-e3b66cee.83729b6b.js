(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e3b66cee"],{"0872":function(e,t,n){(function(e){n("99af"),n("4de4"),n("7db0"),n("a630"),n("d81d"),n("d3b7"),n("3ca3");var t=window.$;window.DispositivoEdit=function(){var e,n="textarea";if(!(this instanceof window.DispositivoEdit))return e||(e=new window.DispositivoEdit),e;e=this,window.DispositivoEdit=function(){return e},e.bindActionsEditorType=function(i){n=this.getAttribute("editortype"),window.SetCookie("editortype",n,30);var o=t(this).closest(".dpt").attr("pk");e.clearEditSelected(),e.triggerBtnDptEdit(o),i.preventDefault()},e.bindActionsClick=function(n){var i=this.getAttribute("pk"),o={action:this.getAttribute("action"),tipo_pk:this.getAttribute("tipo_pk"),perfil_pk:this.getAttribute("perfil_pk"),variacao:this.getAttribute("variacao"),pk_bloco:this.getAttribute("pk_bloco")},a=i+"/refresh";e.waitShow(),t.get(a,o).done((function(t){e.clearEditSelected(),null!=t.pk&&e.message(t)})).fail(e.waitHide).always(e.waitHide)},e.clearEditSelected=function(){t(".dpt-selected > .dpt-form").html(""),t(".dpt-actions, .dpt-actions-bottom").html(""),window.tinymce.remove(),t(".dpt-selected").removeClass("dpt-selected")},e.editDispositivo=function(n){var i=n.target.classList.contains("dpt-link")?n.target:n.target.parentElement.classList.contains("dpt-link")?n.target.parentElement:null;if(!(i&&i.getAttribute("href")&&i.getAttribute("href").length>0)){var o=t(this).closest(".dpt");if(o.hasClass("dpt-selected"))"editor-close"===this.getAttribute("action")&&e.clearEditSelected();else{e.clearEditSelected(),e.loadActionsEdit(o);var a=o.attr("formtype");o.on(a,e[a]),e.loadForm(o,a)}}},e.gc=function(){setTimeout((function(){t(".dpt:not(.dpt-selected) > .dpt-form").html("")}),500)},e.get_form_base=function(){var n=t(this);n.addClass("dpt-selected"),n.children().filter(".dpt-form").find("form").submit(e.onSubmitEditFormBase),e.scrollTo(n),n.off("get_form_base"),n.find(".btn-fechar").on("click",(function(t){e.clearEditSelected(),t.preventDefault()}));var i=n.find(".btns-excluir");n.find(".dpt-actions-bottom").first().append(i),i.find(".btn-outline-danger").on("click",e.bindActionsClick)},e.get_form_alteracao=function(){var n=t(this);n.off("get_form_alteracao"),t(".dpt-actions, .dpt-actions-bottom").html("");var i=n.children().filter(".dpt-form").children().first(),o="".concat(i[0].id_dispositivo_search_form.value,"?ta_base_id=").concat(i[0].id_texto_articulado_do_editor.value);window.DispositivoSearch({url_form:o,text_button:"Selecionar",autostart:!0}),e.scrollTo(n),i.submit(e.onSubmitFormRegistraAlteracao),n.find(".btn-fechar").on("click",(function(t){e.clearEditSelected(),e.triggerBtnDptEdit(n.attr("pk")),t.preventDefault()}))},e.get_form_inclusao=function(){var n=t(this);n.off("get_form_inclusao"),t(".dpt-actions, .dpt-actions-bottom").html("");var i=n.children().filter(".dpt-form").children().first(),o="".concat(i[0].id_dispositivo_search_form.value,"?ta_base_id=").concat(i[0].id_texto_articulado_do_editor.value);window.DispositivoSearch({url_form:o,text_button:"Selecionar",post_selected:e.allowed_inserts_registro_inclusao,params_post_selected:{pk_bloco:n.attr("pk")},autostart:!0}),e.scrollTo(n),i.submit(e.onSubmitFormRegistraInclusao),n.find(".btn-fechar").on("click",(function(t){e.clearEditSelected(),e.triggerBtnDptEdit(n.attr("pk")),t.preventDefault()}))},e.get_form_revogacao=function(){var n=t(this);n.off("get_form_revogacao"),t(".dpt-actions, .dpt-actions-bottom").html("");var i=n.children().filter(".dpt-form").children().first(),o="".concat(i[0].id_dispositivo_search_form.value,"?ta_base_id=").concat(i[0].id_texto_articulado_do_editor.value);window.DispositivoSearch({url_form:o,text_button:"Selecionar",autostart:!0}),e.scrollTo(n),i.submit(e.onSubmitFormRegistraRevogacao),n.find(".btn-fechar").on("click",(function(){e.clearEditSelected(),e.triggerBtnDptEdit(n.attr("pk"))}))},e.allowed_inserts_registro_inclusao=function(n){var i=t("#id"+n.pk_bloco+" input[name='dispositivo_base_para_inclusao']");if(0!==i.length){var o=i[0].value,a={action:"get_actions_allowed_inserts_registro_inclusao",pk_bloco:n.pk_bloco},r=o+"/refresh";e.waitShow(),t.get(r,a).done((function(n){t(".allowed_inserts").html(n),t(".allowed_inserts").find(".btn-action").on("click",e.bindActionsClick)})).fail(e.waitHide).always(e.waitHide)}},e.loadActionsEdit=function(i){var o=i.attr("pk")+"/refresh?action=get_actions";t.get(o).done((function(o){i.find(".dpt-actions").first().html(o),i.find(".btn-action").on("click",e.bindActionsClick),i.find(".btn-compila").on("click",e.loadFormsCompilacao),i.find(".btn-editor-type").on("click",e.bindActionsEditorType),"construct"===n&&(i.find(".btn-group-inserts").first().addClass("open show"),i.find(".btn-group-inserts ul").first().addClass("show")),i.find(".btn-group-inserts button").mouseenter((function(e){i.find(".btn-group-inserts ul").removeClass("show"),i.find(".btn-group-inserts").removeClass("open show"),t(this.parentElement).addClass("open show"),t(this.parentElement).find("ul").addClass("show")})),i.find(".btn-group-inserts").mouseleave((function(e){i.find(".btn-group-inserts ul").removeClass("show"),i.find(".btn-group-inserts").removeClass("open show")})),e.gc()}))},e.loadForm=function(i,o){var a=i.attr("pk"),r=i.children().filter(".dpt-form");if(1===r.length){var s=a+"/refresh?action="+o;t.get(s).done((function(e){"construct"!==n&&(r.html(e),"tinymce"===n&&window.initTextRichEditor()),i.trigger(o)})).always((function(){e.waitHide()}))}},e.loadFormsCompilacao=function(n){var i=t(this).closest(".dpt"),o=this.getAttribute("action");i.on(o,e[o]),e.loadForm(i,o)},e.modalMessage=function(e,n,i){return null!==e&&""!==e&&(t("#modal-message #message").html(e),t("#modal-message").modal("show"),t("#modal-message, #modal-message .alert button").off(),t("#modal-message .alert").removeClass("alert-success alert-info alert-warning alert-danger alert-danger"),t("#modal-message .alert").addClass(n),null!=i&&t("#modal-message").on("hidden.bs.modal",i),t("#modal-message .alert button").on("click",(function(){t("#modal-message").modal("hide")})),!0)},e.message=function(n){if(void 0!==n.message)if(n.message.modal)e.modalMessage(n.message.value,"alert-"+n.message.type,(function(){e.waitShow(),e.refreshScreenFocusPk(n)}));else{if(e.refreshScreenFocusPk(n),!("message"in n))return;var i=t(".cp-notify");i.removeClass("hide");var o=i.find(".message");o.text(n.message.value),o.removeClass("bg-primary bg-success bg-info bg-warning bg-danger").addClass("bg-"+n.message.type),setTimeout((function(){i.addClass("hide")}),n.message.time?n.message.time:3e3)}else e.refreshScreenFocusPk(n)},e.offClicks=function(){t(".btn-dpt-edit").off()},e.onClicks=function(n){(null==n?t(".btn-dpt-edit"):t(n).find(".btn-dpt-edit")).on("click",e.editDispositivo)},e.onSubmitFormRegistraAlteracao=function(n){if(void 0===this.dispositivo_alterado)return e.modalMessage("Nenhum dispositivo selecionado","alert-info"),void(null!=n&&n.preventDefault());var i=void 0===this.dispositivo_alterado.length?[this.dispositivo_alterado]:Array.from(this.dispositivo_alterado),o={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_alterado:i.filter((function(e,t,n){return e.checked})).map((function(e){return e.value})),formtype:"get_form_alteracao"},a=t(this).closest(".dpt").attr("pk")+"/refresh";e.waitShow(),t.post(a,o).done((function(t){e.clearEditSelected(),null!=t.pk?e.message(t):alert("Erro na resposta!")})).always((function(){e.waitHide()})),null!=n&&n.preventDefault()},e.onSubmitFormRegistraInclusao=function(n){var i={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_base_para_inclusao:this.dispositivo_base_para_inclusao.value,formtype:"get_form_inclusao"},o=t(this).closest(".dpt").attr("pk")+"/refresh";e.waitShow(),t.post(o,i).done((function(t){e.clearEditSelected(),null!=t.pk?e.message(t):alert("Erro na resposta!")})).always((function(){e.waitHide()})),null!=n&&n.preventDefault()},e.onSubmitFormRegistraRevogacao=function(n){if(void 0===this.dispositivo_revogado)return e.modalMessage("Nenhum dispositivo selecionado","alert-info"),void(null!=n&&n.preventDefault());var i=void 0===this.dispositivo_revogado.length?[this.dispositivo_revogado]:Array.from(this.dispositivo_revogado),o={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_revogado:i.filter((function(e,t,n){return e.checked})).map((function(e){return e.value})),revogacao_em_bloco:this.revogacao_em_bloco.value,formtype:"get_form_revogacao"},a=t(this).closest(".dpt").attr("pk")+"/refresh";e.waitShow(),t.post(a,o).done((function(t){e.clearEditSelected(),null!=t.pk?e.message(t):alert("Erro na resposta!")})).always((function(){e.waitHide()})),null!=n&&n.preventDefault()},e.onSubmitEditFormBase=function(n){var i=this,o="",a="",r="",s=window.tinymce.get("id_texto"),l=window.tinymce.get("id_texto_atualizador");o=null!=s?s.getContent():this.id_texto.value,null!=l?a=l.getContent():"id_texto_atualizador"in this&&(a=this.id_texto_atualizador.value),"visibilidade"in this&&(r=this.visibilidade.value);var d={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,texto:o,texto_atualizador:a,visibilidade:r,formtype:"get_form_base"},c=t(this).closest(".dpt").attr("pk")+"/refresh";e.waitShow(),t.post(c,d).done((function(n){if("string"==typeof n){var o=t(i).closest(".dpt");return o=t("#"+o.replaceWith(n).attr("id")),e.onClicks(o),void e.waitHide()}e.clearEditSelected(),null!=n.pk?e.message(n):alert("Erro na resposta!")})).always((function(){e.waitHide()})),null!=n&&n.preventDefault()},e.refreshContent=function(n,i){if(0!==n.length){var o=n.shift(),a=o+"/refresh";t.get(a).done((function(a){var r=t("#id"+o).closest(".dpt");r=t("#"+r.replaceWith(a).attr("id")),e.onClicks(r),e.reloadFunctionsDraggables(),i>0&&e.triggerBtnDptEdit(i),e.refreshContent(n)}))}else e.waitHide()},e.refreshScreenFocusPk=function(t){if(e.waitShow(),-1===t.pai[0]){e.waitShow();var n=location.href.split("#")[0];location.href=n+"#"+t.pk,location.reload(!0)}else e.refreshContent(t.pai,t.pk)},e.reloadFunctionsDraggables=function(){t(".dpt-alts").sortable({revert:!0,distance:15,start:function(e,t){},stop:function(e,n){var i=n.item.attr("pk"),o=n.item.closest(".dpt-alts").closest(".dpt").attr("pk"),a=i+"/refresh?action=json_drag_move_dpt_alterado&index="+n.item.index()+"&bloco_pk="+o;t.get(a).done((function(e){}))}}),t(".dpt-alts .dpt").draggable({connectToSortable:".dpt-alts",revert:"invalid",zIndex:1,distance:15,drag:function(e,n){t(".dpt-alts").addClass("drag")},stop:function(e,n){t(".dpt-alts").removeClass("drag")}}),t(".dpt-alts").disableSelection()},e.scrollTo=function(e){try{t("html, body").animate({scrollTop:e.offset().top-window.innerHeight/9},100)}catch(e){}},e.triggerBtnDptEdit=function(e){var n=t("#id"+e+" > .dpt-text.btn-dpt-edit");0===n.length&&(n=t("#id"+e+" > .dpt-actions-fixed > .btn-dpt-edit")),n.first().trigger("click")},e.waitHide=function(){t("#wait_message").addClass("displaynone")},e.waitShow=function(){t("#wait_message").removeClass("displaynone")},e.init=function(){t(".dpt-actions-fixed").first().css("opacity","1"),null!==(n=window.ReadCookie("editortype"))&&""!==n||(n="textarea",window.SetCookie("editortype",n,30)),e.offClicks(),e.onClicks(),e.reloadFunctionsDraggables();var i=location.href.split("#");2===i.length&&""!==i[1]&&e.triggerBtnDptEdit(i[1]),t("main").click((function(t){t.target!==this&&t.target!==this.firstElementChild||e.clearEditSelected()})),e.waitHide()},e.init()},t(document).ready((function(){e(".cpe").length>0&&window.DispositivoEdit()}))}).call(this,n("1157"))},"08a8":function(e,t,n){},"129f":function(e,t,n){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"4a8b":function(e,t,n){"use strict";n("4de4"),n("7db0"),n("e9c4"),n("b64b"),n("d3b7");var i=window.$;function o(e){i(e).append('<div style="text-align:center;"><i style="font-size: 200%;" class="fa fa-refresh fa-spin"></i></div>')}t.a={SetCookie:function(e,t,n){var i=new Date,o=new Date;null!==n&&0!==n||(n=1),o.setTime(i.getTime()+864e5*n),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()},ReadCookie:function(e){var t=" "+document.cookie,n=t.indexOf(" "+e+"=");if(-1===n&&(n=t.indexOf(";"+e+"=")),-1===n||""===e)return"";var i=t.indexOf(";",n+1);return-1===i&&(i=t.length),unescape(t.substring(n+e.length+2,i))},insertWaitAjax:o,DispositivoSearch:function(e){i((function(){var t={},n=i("body").children("#container_ds");n.length>0&&i(n).remove(),n=i('<div id="container_ds"/>'),i("body").prepend(n),i('[data-sapl-ta="DispositivoSearch"]').each((function(){var a=i(this),r=a.attr("data-type-selection"),s=a.attr("data-field"),l=a.attr("data-function"),d=function(e){if("checkbox"===r){var t=a.find('input[name="ta_select_all"]');t.off(),t.on("change",(function(e){i(this).closest("ul").find('input[name="'+s+'"]').prop("checked",this.checked)}))}else{var n=a.find("input");n.off(),n.attr("type","hidden"),i('<a class="text-danger">').insertBefore(n).append(i('<span aria-hidden="true">&times;</span>')).on("click",(function(){2===i(this).closest("ul").find("li").length?i(this).closest("ul").remove():i(this).closest("li").remove()}))}};d();var c=function(e){var n=i('select[name="tipo_ta"]').val(),a=i('select[name="tipo_model"]').val(),d=i('input[name="num_ta"]').val(),c=i('input[name="ano_ta"]').val(),u=i('input[name="tipo_resultado"]:checked').val(),f=i('input[name="rotulo_dispositivo"]').val(),p=i('input[name="texto_dispositivo"]').val(),h=i('select[name="max_results"]').val(),m=i('input[name="texto_articulado_do_editor"]').val();f.length>0||p.length>0?(i('input[name="tipo_resultado"]').prop("disabled",!1),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.remove("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","1")):(i('input[name="tipo_resultado"]').filter('[value="False"]').prop("checked",!0),i('input[name="tipo_resultado"]').prop("disabled",!0),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.add("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","0.3"),u="False"),t={tipo_ta:n,tipo_model:a,num_ta:d,ano_ta:c,texto:p,rotulo:f,tipo_resultado:u,max_results:h,data_type_selection:r,data_field:s,data_function:l,texto_articulado_do_editor:m},window.localStorage.setItem("dispositivo_search_form_data",JSON.stringify(t)),i(".result-busca-dispositivo").html(""),o(".result-busca-dispositivo"),i.get("/ta/search_fragment_form",t).done((function(e){if(i(".result-busca-dispositivo").html(e),"checkbox"===r){var t=i(".result-busca-dispositivo").find('input[name="ta_select_all"]');t.off(),t.on("change",(function(e){i(this).closest("ul").find('input[name="'+s+'"]').prop("checked",this.checked)}))}}))},u=function(e){var t=i('input[name="rotulo_dispositivo"]').val(),n=i('input[name="texto_dispositivo"]').val();t.length>0||n.length>0?(i('input[name="tipo_resultado"]').prop("disabled",!1),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.remove("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","1")):(i('input[name="tipo_resultado"]').filter('[value="False"]').prop("checked",!0),i('input[name="tipo_resultado"]').prop("disabled",!0),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.add("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","0.3"))},f=a.children("#buttonDs");f.length>0&&i(f).remove(),f=i('<div id="buttonDs" class="clearfix"/>'),a.prepend(f);var p=i("<button>").text(e.text_button).attr("type","button").attr("class","btn btn-sm btn-success btn-modal-open");f.append(p),p.on("click",(function(){i.get(e.url_form,(function(o){n.html(o);var l=i("#modal-ds");l.find('select[name="tipo_ta"]').change((function(e){var n;n="/ta/search_fragment_form?action=get_tipos&tipo_ta="+this.value,l.find('label[for="id_tipo_model"]').html("Tipos de "+this.children[this.selectedIndex].innerHTML);var o=l.find('select[name="tipo_model"]');o.empty(),i('<option value="">Carregando...</option>').appendTo(o),i.get(n).done((function(e){for(var n in o.empty(),e)for(var a in e[n])o.append(i("<option>").attr("value",a).text(e[n][a]));setTimeout((function(){i('select[name="tipo_model"]').val(t.tipo_model)}),200)}))})),l.find('input[name="texto_dispositivo"], input[name="rotulo_dispositivo"]').on("keyup",u),l.find(".btn-busca").click(c),l.find("#btn-modal-select").click((function(){var t=a.find("ul");"radio"===r&&t.remove();var n=l.find('[name="'+s+'"]:checked');n.closest("ul").find("input:not(:checked)").filter('[name!="ta_select_all"]').closest("li").remove(),n.closest("ul").each((function(){var e=a.find("#"+this.id);0!==e.length?i(this).find("input").each((function(){e.find("#"+this.id).length>0||e.append(i(this).closest("li"))})):a.append(this)})),d(),l.modal("hide"),"post_selected"in e&&e.post_selected(e.params_post_selected)}));try{t=JSON.parse(window.localStorage.getItem("dispositivo_search_form_data")),i('input[name="num_ta"]').val(t.num_ta),i('input[name="ano_ta"]').val(t.ano_ta),i('input[name="rotulo_dispositivo"]').val(t.rotulo),i('input[name="texto_dispositivo"]').val(t.texto),i('select[name="max_results"]').val(t.max_results),i('input[name="tipo_resultado"]').filter('[value="'.concat(t.tipo_resultado,'"]')).attr("checked",!0)}catch(e){}setTimeout((function(){try{i('select[name="tipo_ta"]').val(t.tipo_ta),i('select[name="tipo_ta"]').trigger("change")}catch(e){}}),200),l.modal("show")}))})),"autostart"in e&&e.autostart&&p.trigger("click")}))}))}}},"4df4":function(e,t,n){"use strict";var i=n("0366"),o=n("c65b"),a=n("7b0b"),r=n("9bdd"),s=n("e95a"),l=n("68ee"),d=n("07fa"),c=n("8418"),u=n("9a1f"),f=n("35a1"),p=Array;e.exports=function(e){var t=a(e),n=l(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=i(m,h>2?arguments[2]:void 0));var g,_,w,b,k,y,x=f(t),C=0;if(!x||this===p&&s(x))for(g=d(t),_=n?new this(g):p(g);g>C;C++)y=v?m(t[C],C):t[C],c(_,C,y);else for(_=n?new this:[],k=(b=u(t,x)).next;!(w=o(k,b)).done;C++)y=v?r(b,m,[w.value,C],!0):w.value,c(_,C,y);return _.length=C,_}},6805:function(e,t,n){"use strict";n("08a8")},"6c99":function(e,t,n){"use strict";var i=n("8219").a,o=(n("6805"),n("2877")),a=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",{class:["norma-simple-modal-view","modal","fade"],attrs:{id:e.html_id}},[t("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[e.norma_render?t("h5",{staticClass:"modal-title",attrs:{id:"#titulo"}},[e._v(" "+e._s(""!==e.norma_render.apelido?e.norma_render.apelido:"")+" ("+e._s(e.norma_render.__str__)+") ")]):e._e(),e._m(0)]),t("div",{staticClass:"modal-body"},[e.norma_render&&!e.norma_render.html?t("div",[e._v("Carregando texto...")]):e._e(),e.norma_render?t("div",{domProps:{innerHTML:e._s(e.norma_render.html)}}):e._e()]),e._m(1)])])])}),[function(){var e=this._self._c;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Fechar"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var e=this._self._c;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Fechar")])])}],!1,null,null,null);t.a=a.exports},"6ccd":function(e,t,n){"use strict";n.r(t),function(e,t){n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("159b"),n("6d5e");var i=n("4a8b"),o=n("a0fe"),a=n("aa48");n("0872");e.forEach(e.merge(e.merge(i.a,a.a),o.a),(function(e,t){window[t]=e})),t(document).ready((function(){setTimeout((function(){var e=location.href.split("#");if(2===e.length)try{t("html, body").animate({scrollTop:t("#dptt"+e[1]).offset().top-window.innerHeight/9},0)}catch(e){}}),100),t("#btn_font_menos").click((function(){t(".dpt").css("font-size","-=1")})),t("#btn_font_mais").click((function(){t(".dpt").css("font-size","+=1")})),t(".dpt.bloco_alteracao .dpt").each((function(){var e=parseInt(t(this).attr("nivel"));t(this).css("z-index",15-e)})),t(".cp-linha-vigencias > li:not(:first-child):not(:last-child) > a").click((function(e){t(".cp-linha-vigencias > li").removeClass("active"),t(this).closest("li").addClass("active"),e.preventDefault()})),t("main").click((function(e){e.target!==this&&e.target!==this.firstElementChild||t(".cp-linha-vigencias > li").removeClass("active")})),window.onReadyNotasVides()}))}.call(this,n("2ef0"),n("1157"))},"6d5e":function(e,t,n){},8219:function(e,t,n){"use strict";(function(e){n("6ccd");t.a={name:"norma-simple-modal-view",props:["html_id","modal_norma","idd"],data:function(){return{app:["norma"],model:["normajuridica"],norma_render:null}},watch:{modal_norma:function(e,t){null!==e&&(this.norma_render=e)},norma_render:function(e,t){null!==e&&void 0===e.html&&this.getText(e)},idd:function(e,t){var n=this;if(null!==e){var i=0;null!=e&&"number"==typeof e&&(i=e,n.utils.getModel("norma","normajuridica",i).then((function(e){n.norma_render=e.data})))}}},computed:{},mounted:function(){var e=this;e.$nextTick().then((function(){null!=e.idd&&"number"==typeof e.idd&&e.getObject({app:"norma",model:"normajuridica",id:e.idd}).then((function(t){e.norma_render=t}))}))},methods:{getText:function(t){var n=this;void 0!==t.id&&t.id>0&&e.ajax({url:"/norma/".concat(t.id,"/ta?embedded"),type:"GET",success:function(e){var i=e;n.$set(t,"html",i)}})},fetch:function(e){var t=this;void 0!==t.modal_norma&&t.modal_norma.id===e.id&&e.model===t.model[0]&&this.refresh()},refresh:function(e){var t=this;t.getObject(e).then((function(n){n.norma_de_destaque&&t.$set(t.itens["".concat(e.model,"_list")],e.id,n)}))}}}}).call(this,n("1157"))},"841c":function(e,t,n){"use strict";var i=n("c65b"),o=n("d784"),a=n("825a"),r=n("7234"),s=n("1d80"),l=n("129f"),d=n("577e"),c=n("dc4a"),u=n("14c3");o("search",(function(e,t,n){return[function(t){var n=s(this),o=r(t)?void 0:c(t,e);return o?i(o,t,n):new RegExp(t)[e](d(n))},function(e){var i=a(this),o=d(e),r=n(t,i,o);if(r.done)return r.value;var s=i.lastIndex;l(s,0)||(i.lastIndex=0);var c=u(i,o);return l(i.lastIndex,s)||(i.lastIndex=s),null===c?-1:c.index}]}))},"9bdd":function(e,t,n){"use strict";var i=n("825a"),o=n("2a62");e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},a0fe:function(e,t,n){"use strict";(function(e){n("4de4"),n("d3b7"),n("ac1f"),n("841c"),n("159b");var i=window.$,o=n("bf68");function a(t){"function"==typeof e&&t instanceof e&&(t=t[0]);var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function r(e,t){for(var n=null,o=i(".dptt"),r=0;r<o.length;r++)if(!i(o[r]).hasClass("displaynone")&&a(o[r])){n=r+1<o.length?o[r+1]:o[r];break}if(i(".cp .tipo-vigencias a").removeClass("active"),i(e).addClass("active"),i(".dptt.desativado").addClass("displaynone"),i(".desativado > .dn").addClass("displaynone"),i(".nota-alteracao").removeClass("displaynone"),i(".dptt.revogado").removeClass("displaynone"),t||i(".nota-alteracao").addClass("displaynone"),n)try{i("html, body").animate({scrollTop:i(n).parent().offset().top-60},0)}catch(e){}}t.a={isElementInViewport:a,textoMultiVigente:function(e,t){for(var n=null,r=i(".dptt"),s=0;s<r.length;s++)if(!i(r[s]).hasClass("displaynone")&&a(r[s])){n=s+1<r.length?r[s+1]:r[s];break}if(i(".cp .tipo-vigencias a").removeClass("active"),i(e).addClass("active"),i(".dptt.desativado").removeClass("displaynone"),i(".desativado > .dn").removeClass("displaynone"),i(".dptt.revogado").removeClass("displaynone"),i(".dtxt").removeClass("displaynone"),i(".dtxt.diff").remove(),i(".nota-alteracao").removeClass("displaynone"),t&&i('.dtxt[id^="da"').each((function(){if(!(i(this).html().search(/<\/\w+>/g)>0)){var e=i(this).attr("pk"),t=i(this).attr("pks"),n=i("#d"+t).contents().filter((function(){return this.nodeType===Node.TEXT_NODE})),a=i("#da"+e).contents().filter((function(){return this.nodeType===Node.TEXT_NODE})),r=o.diffWordsWithSpace(i(n).text(),i(a).text());if(r.length>0){i("#d"+t).closest(".desativado").addClass("displaynone");var s=i("#da"+e).clone();i("#da"+e).after(s),i("#da"+e).addClass("displaynone"),i(s).addClass("diff").html(""),r.forEach((function(e){var t=document.createElement("span"),n=e.value;e.removed?(i(t).addClass("desativado"),n+=" "):e.added&&i(t).addClass("added"),t.appendChild(document.createTextNode(n)),i(s).append(t)}))}}})),n)try{i("html, body").animate({scrollTop:i(n).parent().offset().top-60},0)}catch(e){}},textoVigente:r,textoVigenteSemRevogados:function(e,t){r(e,t),i(".dptt.revogado").addClass("displaynone")}}}).call(this,n("1157"))},a630:function(e,t,n){"use strict";var i=n("23e7"),o=n("4df4");i({target:"Array",stat:!0,forced:!n("1c7e")((function(e){Array.from(e)}))},{from:o})},aa48:function(e,t,n){"use strict";var i=window.$;function o(e,t){i("html, body").animate({scrollTop:i("#dne"+e).offset().top-window.innerHeight/5},300),window.refreshDatePicker(),i("#dne"+e+" #button-id-submit-form").click(a),i("#dne"+e+" .btn-close-container").click((function(){i(this).closest(".dne-nota").removeClass("dne-nota"),i(this).closest(".dne-form").html("")})),"nota"===t?i("#dne"+e+' select[name="tipo"]').change((function(t){var n;n="text/"+e+"/nota/create?action=modelo_nota&id_tipo="+this.value,i.get(n).done((function(t){i("#dne"+e+' textarea[name="texto"]').val(t)}))})):"vide"===t&&window.DispositivoSearch({url_form:"/ta/search_form",text_button:"Definir Dispositivo"})}function a(e){var t,n="",a="nota",r=i("#id_dispositivo").val();void 0===r&&(r=i("#id_dispositivo_base").val(),a="vide"),t=i("#id_pk").val(),n="text/"+r+"/"+a+"/",n+=null===t||""===t?"create":t+"/edit",i.post(n,i("#dne"+r+" form").serialize(),(function(e){if("string"==typeof e)if(e.indexOf("<form")>=0)i("#dne"+r+" .dne-form").html(e),o(r,a);else{i("#dne"+r+" .dne-form").closest(".dpt").html(e),s();try{i("html, body").animate({scrollTop:i("#dne"+r).offset().top-window.innerHeight/3},300)}catch(e){}}}))}function r(e){var t=i(e).attr("model"),n=i(e).closest(".dn").attr("pk"),o=i(e).attr("pk"),a="text/"+n+"/"+t+"/"+o+"/delete";i.get(a,(function(e){i("#dne"+n+" .dne-form").closest(".dpt").html(e),s()}))}function s(){i(".dne-nota").removeClass("dne-nota"),i(".dne-form").html(""),i(".dne .btn-action").off(),i(".dn .btn-action").off(),i(".dne .btn-action, .dn .btn-action").not(".btn-nota-delete").not(".btn-vide-delete").click((function(){!function(e){var t="",n=i(e).attr("model"),a=i(".dne-nota .dne-form").closest(".dne").attr("pk");if(null!=a&&(i("#dne"+a).removeClass("dne-nota"),i("#dne"+a+" .dne-form").html("")),e.className.indexOf("create")>=0)t="text/"+(a=i(e).attr("pk"))+"/"+n+"/create";else if(e.className.indexOf("edit")>=0){var r=i(e).attr("pk");t="text/"+(a=i(e).closest(".dn").attr("pk"))+"/"+n+"/"+r+"/edit"}i("#dne"+a).addClass("dne-nota"),i.get(t).done((function(e){i("#dne"+a+" .dne-form").html(e),o(a,n)})).fail((function(){s()}))}(this)})),i(".dn .btn-nota-delete, .dn .btn-vide-delete").click((function(){r(this)}))}t.a={onEventsDneExec:o,onSubmitEditNVForm:a,onDelete:r,onReadyNotasVides:s}},bf68:function(e,t,n){
/*!

 diff v4.0.1

Software License Agreement (BSD License)

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above
  copyright notice, this list of conditions and the
  following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the
  following disclaimer in the documentation and/or other
  materials provided with the distribution.

* Neither the name of Kevin Decker nor the names of its
  contributors may be used to endorse or promote products
  derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@license
*/
!function(e){"use strict";function t(){}function n(e,t,n,i,o){for(var a=0,r=t.length,s=0,l=0;a<r;a++){var d=t[a];if(d.removed){if(d.value=e.join(i.slice(l,l+d.count)),l+=d.count,a&&t[a-1].added){var c=t[a-1];t[a-1]=t[a],t[a]=c}}else{if(!d.added&&o){var u=n.slice(s,s+d.count);u=u.map((function(e,t){var n=i[l+t];return n.length>e.length?n:e})),d.value=e.join(u)}else d.value=e.join(n.slice(s,s+d.count));s+=d.count,d.added||(l+=d.count)}}var f=t[r-1];return r>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[r-2].value+=f.value,t.pop()),t}function i(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.callback;"function"==typeof o&&(a=o,o={}),this.options=o;var r=this;function s(e){return a?(setTimeout((function(){a(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var l=(t=this.removeEmpty(this.tokenize(t))).length,d=e.length,c=1,u=l+d,f=[{newPos:-1,components:[]}],p=this.extractCommon(f[0],t,e,0);if(f[0].newPos+1>=l&&p+1>=d)return s([{value:this.join(t),count:t.length}]);function h(){for(var o=-1*c;o<=c;o+=2){var a=void 0,u=f[o-1],p=f[o+1],h=(p?p.newPos:0)-o;u&&(f[o-1]=void 0);var m=u&&u.newPos+1<l,v=p&&0<=h&&h<d;if(m||v){if(!m||v&&u.newPos<p.newPos?(a=i(p),r.pushComponent(a.components,void 0,!0)):((a=u).newPos++,r.pushComponent(a.components,!0,void 0)),h=r.extractCommon(a,t,e,o),a.newPos+1>=l&&h+1>=d)return s(n(r,a.components,t,e,r.useLongestToken));f[o]=a}else f[o]=void 0}c++}if(a)!function e(){setTimeout((function(){if(c>u)return a();h()||e()}),0)}();else for(;c<=u;){var m=h();if(m)return m}},pushComponent:function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,i){for(var o=t.length,a=n.length,r=e.newPos,s=r-i,l=0;r+1<o&&s+1<a&&this.equals(t[r+1],n[s+1]);)r++,s++,l++;return l&&e.components.push({count:l}),e.newPos=r,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var o=new t;function a(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,l=new t;l.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!s.test(e)&&!s.test(t)},l.tokenize=function(e){for(var t=e.split(/(\s+|[()[\]{}'"]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&r.test(t[n])&&r.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var d=new t;function c(e,t,n){return d.diff(e,t,n)}d.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var o=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var u=new t;u.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var f=new t;function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,v=new t;function g(e,t,n,i,o){var a,r;for(t=t||[],n=n||[],i&&(e=i(o,e)),a=0;a<t.length;a+=1)if(t[a]===e)return n[a];if("[object Array]"===m.call(e)){for(t.push(e),r=new Array(e.length),n.push(r),a=0;a<e.length;a+=1)r[a]=g(e[a],t,n,i,o);return t.pop(),n.pop(),r}if(e&&e.toJSON&&(e=e.toJSON()),"object"===p(e)&&null!==e){t.push(e),r={},n.push(r);var s,l=[];for(s in e)e.hasOwnProperty(s)&&l.push(s);for(l.sort(),a=0;a<l.length;a+=1)r[s=l[a]]=g(e[s],t,n,i,s);t.pop(),n.pop()}else r=e;return r}v.useLongestToken=!0,v.tokenize=d.tokenize,v.castInput=function(e){var t=this.options,n=t.undefinedReplacement,i=t.stringifyReplacer,o=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(g(e,null,null,o),o,"  ")},v.equals=function(e,n){return t.prototype.equals.call(v,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var _=new t;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],a=0;function r(){var e={};for(o.push(e);a<n.length;){var i=n[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var r=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);r&&(e.index=r[1]),a++}for(s(e),s(e),e.hunks=[];a<n.length;){var d=n[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(d))break;if(/^@@/.test(d))e.hunks.push(l());else{if(d&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(d));a++}}}function s(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(n[a]);if(t){var i="---"===t[1]?"old":"new",o=t[2].split("\t",2),r=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(r)&&(r=r.substr(1,r.length-2)),e[i+"FileName"]=r,e[i+"Header"]=(o[1]||"").trim(),a++}}function l(){for(var e=a,o=n[a++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),r={oldStart:+o[1],oldLines:+o[2]||1,newStart:+o[3],newLines:+o[4]||1,lines:[],linedelimiters:[]},s=0,l=0;a<n.length&&!(0===n[a].indexOf("--- ")&&a+2<n.length&&0===n[a+1].indexOf("+++ ")&&0===n[a+2].indexOf("@@"));a++){var d=0==n[a].length&&a!=n.length-1?" ":n[a][0];if("+"!==d&&"-"!==d&&" "!==d&&"\\"!==d)break;r.lines.push(n[a]),r.linedelimiters.push(i[a]||"\n"),"+"===d?s++:"-"===d?l++:" "===d&&(s++,l++)}if(s||1!==r.newLines||(r.newLines=0),l||1!==r.oldLines||(r.oldLines=0),t.strict){if(s!==r.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(l!==r.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return r}for(;a<n.length;)r();return o}function b(e,t,n){var i=!0,o=!1,a=!1,r=1;return function s(){if(i&&!a){if(o?r++:i=!1,e+r<=n)return r;a=!0}if(!o)return a||(i=!0),t<=e-r?-r++:(o=!0,s())}}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=w(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var i,o,a=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=t.hunks,l=n.compareLine||function(e,t,n,i){return t===i},d=0,c=n.fuzzFactor||0,u=0,f=0;function p(e,t){for(var n=0;n<e.lines.length;n++){var i=e.lines[n],o=i.length>0?i[0]:" ",r=i.length>0?i.substr(1):i;if(" "===o||"-"===o){if(!l(t+1,a[t],o,r)&&++d>c)return!1;t++}}return!0}for(var h=0;h<s.length;h++){for(var m=s[h],v=a.length-m.oldLines,g=0,_=f+m.oldStart-1,k=b(_,u,v);void 0!==g;g=k())if(p(m,_+g)){m.offset=f+=g;break}if(void 0===g)return!1;u=m.offset+m.oldStart+m.oldLines}for(var y=0,x=0;x<s.length;x++){var C=s[x],S=C.oldStart+C.offset+y-1;y+=C.newLines-C.oldLines,S<0&&(S=0);for(var E=0;E<C.lines.length;E++){var L=C.lines[E],F=L.length>0?L[0]:" ",D=L.length>0?L.substr(1):L,T=C.linedelimiters[E];if(" "===F)S++;else if("-"===F)a.splice(S,1),r.splice(S,1);else if("+"===F)a.splice(S,0,D),r.splice(S,0,T),S++;else if("\\"===F){var N=C.lines[E-1]?C.lines[E-1][0]:null;"+"===N?i=!0:"-"===N&&(o=!0)}}}if(i)for(;!a[a.length-1];)a.pop(),r.pop();else o&&(a.push(""),r.push("\n"));for(var H=0;H<a.length-1;H++)a[H]=a[H]+r[H];return a.join("")}function y(e,t,n,i,o,a,r){r||(r={}),void 0===r.context&&(r.context=4);var s=c(n,i,r);function l(e){return e.map((function(e){return" "+e}))}s.push({value:"",lines:[]});for(var d=[],u=0,f=0,p=[],m=1,v=1,g=function(e){var t=s[e],o=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=o,t.added||t.removed){var a;if(!u){var c=s[e-1];u=m,f=v,c&&(p=r.context>0?l(c.lines.slice(-r.context)):[],u-=p.length,f-=p.length)}(a=p).push.apply(a,h(o.map((function(e){return(t.added?"+":"-")+e})))),t.added?v+=o.length:m+=o.length}else{if(u)if(o.length<=2*r.context&&e<s.length-2){var g;(g=p).push.apply(g,h(l(o)))}else{var _,w=Math.min(o.length,r.context);(_=p).push.apply(_,h(l(o.slice(0,w))));var b={oldStart:u,oldLines:m-u+w,newStart:f,newLines:v-f+w,lines:p};if(e>=s.length-2&&o.length<=r.context){var k=/\n$/.test(n),y=/\n$/.test(i),x=0==o.length&&p.length>b.oldLines;!k&&x&&p.splice(b.oldLines,0,"\\ No newline at end of file"),(k||x)&&y||p.push("\\ No newline at end of file")}d.push(b),u=0,f=0,p=[]}m+=o.length,v+=o.length}},_=0;_<s.length;_++)g(_);return{oldFileName:e,newFileName:t,oldHeader:o,newHeader:a,hunks:d}}function x(e,t,n,i,o,a,r){var s=y(e,t,n,i,o,a,r),l=[];e==t&&l.push("Index: "+e),l.push("==================================================================="),l.push("--- "+s.oldFileName+(void 0===s.oldHeader?"":"\t"+s.oldHeader)),l.push("+++ "+s.newFileName+(void 0===s.newHeader?"":"\t"+s.newHeader));for(var d=0;d<s.hunks.length;d++){var c=s.hunks[d];l.push("@@ -"+c.oldStart+","+c.oldLines+" +"+c.newStart+","+c.newLines+" @@"),l.push.apply(l,c.lines)}return l.join("\n")+"\n"}function C(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function S(e){var t=function e(t){var n=0,i=0;return t.forEach((function(t){if("string"!=typeof t){var o=e(t.mine),a=e(t.theirs);void 0!==n&&(o.oldLines===a.oldLines?n+=o.oldLines:n=void 0),void 0!==i&&(o.newLines===a.newLines?i+=o.newLines:i=void 0)}else void 0===i||"+"!==t[0]&&" "!==t[0]||i++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:i}}(e.lines),n=t.oldLines,i=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==i?e.newLines=i:delete e.newLines}function E(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return w(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return y(void 0,void 0,t,e)}return e}function L(e){return e.newFileName&&e.newFileName!==e.oldFileName}function F(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function D(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function T(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function N(e,t,n,i,o){var a={offset:t,lines:n,index:0},r={offset:i,lines:o,index:0};for(j(e,a,r),j(e,r,a);a.index<a.lines.length&&r.index<r.lines.length;){var s=a.lines[a.index],l=r.lines[r.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==l[0]&&"+"!==l[0])if("+"===s[0]&&" "===l[0]){var d;(d=e.lines).push.apply(d,h(z(a)))}else if("+"===l[0]&&" "===s[0]){var c;(c=e.lines).push.apply(c,h(z(r)))}else"-"===s[0]&&" "===l[0]?A(e,a,r):"-"===l[0]&&" "===s[0]?A(e,r,a,!0):s===l?(e.lines.push(s),a.index++,r.index++):P(e,z(a),z(r));else H(e,a,r)}O(e,a),O(e,r),S(e)}function H(e,t,n){var i,o,a=z(t),r=z(n);if(I(a)&&I(r)){var s,l;if(C(a,r)&&R(n,a,a.length-r.length))return void(s=e.lines).push.apply(s,h(a));if(C(r,a)&&R(t,r,r.length-a.length))return void(l=e.lines).push.apply(l,h(r))}else if(o=r,(i=a).length===o.length&&C(i,o)){var d;return void(d=e.lines).push.apply(d,h(a))}P(e,a,r)}function A(e,t,n,i){var o,a=z(t),r=function(e,t){for(var n=[],i=[],o=0,a=!1,r=!1;o<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],l=t[o];if("+"===l[0])break;if(a=a||" "!==s[0],i.push(l),o++,"+"===s[0])for(r=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];l.substr(1)===s.substr(1)?(n.push(s),e.index++):r=!0}if("+"===(t[o]||"")[0]&&a&&(r=!0),r)return n;for(;o<t.length;)i.push(t[o++]);return{merged:i,changes:n}}(n,a);r.merged?(o=e.lines).push.apply(o,h(r.merged)):P(e,i?r:a,i?a:r)}function P(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function j(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function O(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function z(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;t.push(i),e.index++}return t}function I(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function R(e,t,n){for(var i=0;i<n;i++){var o=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+o)return!1}return e.index+=n,!0}_.tokenize=function(e){return e.slice()},_.join=_.removeEmpty=function(e){return e},e.Diff=t,e.diffChars=function(e,t,n){return o.diff(e,t,n)},e.diffWords=function(e,t,n){return n=a(n,{ignoreWhitespace:!0}),l.diff(e,t,n)},e.diffWordsWithSpace=function(e,t,n){return l.diff(e,t,n)},e.diffLines=c,e.diffTrimmedLines=function(e,t,n){var i=a(n,{ignoreWhitespace:!0});return d.diff(e,t,i)},e.diffSentences=function(e,t,n){return u.diff(e,t,n)},e.diffCss=function(e,t,n){return f.diff(e,t,n)},e.diffJson=function(e,t,n){return v.diff(e,t,n)},e.diffArrays=function(e,t,n){return _.diff(e,t,n)},e.structuredPatch=y,e.createTwoFilesPatch=x,e.createPatch=function(e,t,n,i,o,a){return x(e,e,t,n,i,o,a)},e.applyPatch=k,e.applyPatches=function(e,t){"string"==typeof e&&(e=w(e));var n=0;!function i(){var o=e[n++];if(!o)return t.complete();t.loadFile(o,(function(e,n){if(e)return t.complete(e);var a=k(n,o,t);t.patched(o,a,(function(e){if(e)return t.complete(e);i()}))}))}()},e.parsePatch=w,e.merge=function(e,t,n){e=E(e,n),t=E(t,n);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(L(e)?L(t)?(i.oldFileName=F(i,e.oldFileName,t.oldFileName),i.newFileName=F(i,e.newFileName,t.newFileName),i.oldHeader=F(i,e.oldHeader,t.oldHeader),i.newHeader=F(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var o=0,a=0,r=0,s=0;o<e.hunks.length||a<t.hunks.length;){var l=e.hunks[o]||{oldStart:1/0},d=t.hunks[a]||{oldStart:1/0};if(D(l,d))i.hunks.push(T(l,r)),o++,s+=l.newLines-l.oldLines;else if(D(d,l))i.hunks.push(T(d,s)),a++,r+=d.newLines-d.oldLines;else{var c={oldStart:Math.min(l.oldStart,d.oldStart),oldLines:0,newStart:Math.min(l.newStart+r,d.oldStart+s),newLines:0,lines:[]};N(c,l.oldStart,l.lines,d.oldStart,d.lines),a++,o++,i.hunks.push(c)}}return i},e.convertChangesToDMP=function(e){for(var t,n,i=[],o=0;o<e.length;o++)n=(t=e[o]).added?1:t.removed?-1:0,i.push([n,t.value]);return i},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push((o=i.value,void 0,o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}var o;return t.join("")},e.canonicalize=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},d81d:function(e,t,n){"use strict";var i=n("23e7"),o=n("b727").map;i({target:"Array",proto:!0,forced:!n("1dde")("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);