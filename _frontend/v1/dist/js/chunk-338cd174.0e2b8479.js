(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-338cd174"],{"06a9":function(t,e,o){},"09b9":function(t,e,o){"use strict";o("caad"),o("2532");var n=function(){var t=this,e=t._self._c;return e("div",{class:["cronometro-component",t.css_class]},[t.cronometro?e("div",{class:["croncard",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""]},[e("div",{staticClass:"inner",on:{click:t.getCronometro}},[e("div",{class:["display-time",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""],style:{fontSize:t.display_size}},[t._v(" "+t._s(t.displayTime)+" ")]),e("div",{staticClass:"inner-rodape"},["elapsed"===t.display?e("div",[e("small",[t._v("Tempo Decorrido")])]):"remaining"===t.display?e("div",[t.cronometro.remaining_time<0?e("small",[t._v("Tempo Excedido")]):e("small",[t._v("Tempo Restante")])]):"last_paused"===t.display?e("div",[e("small",[t._v("Tempo de Suspensão")])]):t._e()])]),t.css_class_controls?e("div",{class:["controls",t.css_class_controls]},[e("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"First group"}},[t.controls.includes("toggleDisplay")?e("a",{staticClass:"btn btn-outline-dark",attrs:{title:"Alternar exibição"},on:{click:function(e){return e.stopPropagation(),t.toogleDisplay.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-exchange-alt",attrs:{"aria-hidden":"true"}})]):t._e(),"stopped"===t.cronometro.state&&t.controls.includes("start")?e("a",{staticClass:"btn btn-outline-dark",on:{click:function(e){return e.stopPropagation(),t.startCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),"running"===t.cronometro.state&&t.controls.includes("pause")?e("a",{staticClass:"btn btn-outline-dark",on:{click:function(e){return e.stopPropagation(),t.pauseCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})]):t._e(),"paused"===t.cronometro.state&&t.controls.includes("resume")?e("a",{staticClass:"btn btn-outline-dark",on:{click:function(e){return e.stopPropagation(),t.resumeCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),["running","paused"].includes(t.cronometro.state)&&t.controls.includes("stop")?e("a",{staticClass:"btn btn-outline-dark",on:{click:function(e){return e.stopPropagation(),t.stopCronometro.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):t._e(),t.controls.includes("add1m")?e("a",{staticClass:"btn btn-outline-dark btn-negative",attrs:{title:"Reduzir 1 minuto"},on:{click:function(e){return e.stopPropagation(),t.addTime(-60)}}},[t._v(" -1m ")]):t._e(),t.controls.includes("add1m")?e("a",{staticClass:"btn btn-outline-dark btn-negative",attrs:{title:"Reduzir 30 segundos"},on:{click:function(e){return e.stopPropagation(),t.addTime(-30)}}},[t._v(" -30s ")]):t._e(),t.controls.includes("add30s")?e("a",{staticClass:"btn btn-outline-dark",attrs:{title:"Adicionar 30 segundos"},on:{click:function(e){return e.stopPropagation(),t.addTime(30)}}},[t._v(" +30s ")]):t._e(),t.controls.includes("add1m")?e("a",{staticClass:"btn btn-outline-dark",attrs:{title:"Adicionar 1 minuto"},on:{click:function(e){return e.stopPropagation(),t.addTime(60)}}},[t._v(" +1m ")]):t._e(),t.controls.includes("add3m")?e("a",{staticClass:"btn btn-outline-dark",attrs:{title:"Adicionar 3 minutos"},on:{click:function(e){return e.stopPropagation(),t.addTime(180)}}},[t._v(" +3m ")]):t._e(),t.controls.includes("add5m")?e("a",{staticClass:"btn btn-outline-dark",attrs:{title:"Adicionar 5 minutos"},on:{click:function(e){return e.stopPropagation(),t.addTime(300)}}},[t._v(" +5m ")]):t._e()])]):t._e()]):e("div",[e("p",[t._v("Carregando cronômetro...")])])])},a=[],i=(o("a15b"),o("d81d"),o("b0c0"),o("e9c4"),o("a9e3"),o("b64b"),o("d3b7"),o("25f0"),o("cff1")),r={name:"cronometro-base",props:{cronometro_id:{type:Number,required:!0},css_class:{type:String,default:""},css_class_controls:{type:String,default:""},display_initial:{type:String,default:"elapsed",validator:function(t){return["elapsed","remaining","last_paused"].includes(t)}},display_format:{type:String,default:"hh:mm:ss"},display_size:{type:String,default:"1.5em"},auto_start:{type:Boolean,default:!1},auto_stop:{type:Boolean,default:!1},controls:{type:Array,default:function(){return["start","pause","resume","stop","add30s","add1m","add3m","add5m","toggleDisplay"]}}},data:function(){return{id:this.cronometro_id,ws:"/ws/cronometro/".concat(this.cronometro_id,"/"),app:"painelset",model:"cronometro",wsSocket:null,cronometro:null,instance:null,idInterval:null,syncInterval:30,countInterval:0,debug_verbose:!1,wait_destroy:!1,display:this.display_initial,modesDisplay:["elapsed","remaining","last_paused"],timerInterval:1500}},mounted:function(){var t=this;this.$nextTick((function(){t.ws_client_cronometro(),t.runInterval()}))},watch:{cronometro_id:function(t,e){!this.nulls.includes(e)&&t!==e&&t>0&&t!==this.id&&(this.id=t,this.ws="/ws/cronometro/".concat(this.cronometro_id,"/"),this.wsSocket&&(this.wsSocket.close(),this.wsSocket=null),this.cronometro=null,this.ws_client_cronometro(),this.runInterval())}},beforeDestroy:function(){this.wsSocket&&(this.wsSocket.close(),this.wsSocket=null),this.stopInterval()},methods:{toogleDisplay:function(){var t=this.modesDisplay.indexOf(this.display),e=(t+1)%this.modesDisplay.length,o=this.modesDisplay[e];"last_paused"===o&&"paused"!==this.cronometro.state&&(o="elapsed"),this.display=o},ws_client_cronometro:function(){var t=this;return t.wsSocket&&t.wsSocket.close(),t.wsSocket=new WebSocket(this.ws_endpoint()),t.wsSocket.onmessage=this.handleWebSocketMessageLocal,t.wsSocket.onopen=function(){t.auto_start?t.startCronometro():t.getCronometro()},t.wsSocket.onclose=function(){t.wsSocket=null},t.wsSocket.onerror=function(e){t.wsSocket=null,t.ws_client_cronometro()},t.wsSocket.onpagehide=function(){t.wsSocket.close()},t.wsSocket.onpageshow=function(){t.ws_client_cronometro()},t.wsSocket},fetch:function(t){var e=this;t&&t.hasOwnProperty("instance")&&t.instance&&(e.instance=t.instance,e.cronometro=t.instance,e.countInterval=e.syncInterval),e.refreshState(t).then((function(t){t.id===e.cronometro_id?(e.instance=t,e.cronometro=t):(e.instance=null,e.cronometro=null)}))},stopInterval:function(){this.idInterval&&(this.wait_destroy=!0,i["a"].clearInterval(this.idInterval),this.idInterval=null)},runInterval:function(){var t=this;t.idInterval&&i["a"].clearInterval(this.idInterval),t.idInterval=i["a"].setInterval((function(){if(t.wait_destroy)t.stopInterval();else{if(t.countInterval+=1,t.countInterval>=t.syncInterval)return t.countInterval=0,void t.getCronometro();t.cronometro&&"running"===t.cronometro.state?(t.cronometro.elapsed_time=t.cronometro.elapsed_time+1,t.cronometro.remaining_time=t.cronometro.remaining_time-1,t.cronometro.accumulated_time=t.cronometro.accumulated_time+1):t.cronometro&&"paused"===t.cronometro.state&&(t.cronometro.last_paused_time=t.cronometro.last_paused_time+1)}}),1e3)},handleWebSocketMessageLocal:function(t){var e=JSON.parse(t.data);"command_result"===e.type&&e.result&&e.result.cronometro&&e.result.cronometro.id===this.cronometro_id&&(this.instance=e.result.cronometro,this.cronometro=this.instance,this.$emit("cronometro_".concat(e.command),this.cronometro),"start"===e.command?this.display=this.display_initial:"pause"===e.command?this.display="last_paused":"stop"===e.command?this.display="elapsed":"resume"===e.command?this.display=this.display_initial:e.command,this.runInterval())},addTime:function(t){try{this.wsSocket.send(JSON.stringify({command:"add_time",cronometro_id:this.cronometro.id,seconds:t}))}catch(e){this.wsSocket=null,this.ws_client_cronometro()}},startCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"start",cronometro_id:this.cronometro_id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},pauseCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"pause",cronometro_id:this.cronometro.id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},resumeCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"resume",cronometro_id:this.cronometro.id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},stopCronometro:function(){try{this.wsSocket.send(JSON.stringify({command:"stop",cronometro_id:this.cronometro.id}))}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},getCronometro:function(){try{this.wsSocket?this.wsSocket.send(JSON.stringify({command:"get",cronometro_id:this.cronometro_id})):this.ws_client_cronometro()}catch(t){this.wsSocket=null,this.ws_client_cronometro()}},secondsToTime:function(t,e,o){var n=Math.round(t[e]||t[o]||0),a=n<0?"-":"";n<0&&(n*=-1);var i=Math.floor(n/3600),r=Math.floor(n%3600/60),s=n%60,c="";return"hh:mm:ss"===this.display_format?c=[i,r,s].map((function(t){return t<10?"0"+t:t})).join(":"):"mm:ss"===this.display_format?c=[r+60*i,s].map((function(t){return t<10?"0"+t:t})).join(":"):"ss"===this.display_format&&(c=(s+60*r+3600*i).toString()),a&&(c=a+c),c||"00:00:00"}},computed:{displayTime:function(){return"elapsed"===this.display?this.elapsedTime:"remaining"===this.display?this.remainingTime:"last_paused"===this.display?this.lastPausedTime:"00:00:00"},lastPausedTime:function(){return this.secondsToTime(this.cronometro,"last_paused_time")},elapsedTime:function(){return this.secondsToTime(this.cronometro,"elapsed_time")},remainingTime:function(){return this.secondsToTime(this.cronometro,"remaining_time","accumulated_time")},accumulatedTime:function(){return this.secondsToTime(this.cronometro,"accumulated_time")}}},s=r,c=(o("d340"),o("2877")),l=Object(c["a"])(s,n,a,!1,null,null,null);e["a"]=l.exports},"21e9":function(t,e,o){"use strict";o("06a9")},"25f0":function(t,e,o){"use strict";var n=o("5e77").PROPER,a=o("cb2d"),i=o("825a"),r=o("577e"),s=o("d039"),c=o("90d8"),l="toString",d=RegExp.prototype,u=d[l],m=s((function(){return"/a/b"!==u.call({source:"a",flags:"b"})})),p=n&&u.name!==l;(m||p)&&a(d,l,(function(){var t=i(this),e=r(t.source),o=r(c(t));return"/"+e+"/"+o}),{unsafe:!0})},"45d2":function(t,e,o){},"5c1a":function(t,e,o){"use strict";var n=function(){var t=this,e=t._self._c;return t.individuos?e("div",{staticClass:"popover-palavra",on:{touchstart:function(e){t.touching=!0},touchmove:function(e){return t.movePopover(e)},touchend:function(e){t.touching=!1},mouseup:function(e){t.touching=!1},mousemove:function(e){return t.movePopover(e)},mousedown:function(e){t.touching=!0}}},t._l(t.individuos,(function(o){return e("div",{key:"popover-individuo-".concat(o.id),class:["popover-individuo",o.com_a_palavra?"com_a_palavra":"aparteante"]},[e("div",{staticClass:"popover-header"},[e("div",{staticClass:"arrow"}),o.com_a_palavra?e("h3",{staticClass:"popover-title"},[t._v("Com a palavra")]):t._e(),o.aparteado?e("h3",{staticClass:"popover-title"},[t._v("Em aparte")]):t._e()]),e("div",{staticClass:"popover-body"},[o?e("div",{staticClass:"individuo-info"},[e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(o.nome))]),o.cronometro?e("div",{staticClass:"timer mt-1"},[e("cronometro-base",{key:"cronometro-popover-".concat(o.cronometro),ref:"cronometro-popover-".concat(o.cronometro),refInFor:!0,attrs:{cronometro_id:o.cronometro,css_class_controls:"d-none",css_class:"cron-popover-palavra",display_initial:"remaining",display_format:"mm:ss",display_size:"2em",controls:[]}})],1):t._e()]),o.parlamentar?e("div",{staticClass:"foto me-2",style:{backgroundImage:"url("+t.fotografiaParlamentarUrl(o.parlamentar)+")"}}):e("div",{staticClass:"foto me-2"},[e("i",{staticClass:"fas fa-user"})])]):t._e()])])})),0):t._e()},a=[],i=(o("14d9"),o("09b9")),r={name:"popover-palavra",components:{CronometroBase:i["a"]},data:function(){return{app:["painelset"],model:["individuo","cronometro"],touching:!1,moving:!1,individuo_com_a_palavra:null,cronometro_com_a_palavra:null,individuo_aparteante:null,cronometro_aparteante:null}},computed:{individuos:function(){var t=[];return this.individuo_aparteante&&t.push(this.individuo_aparteante),this.individuo_com_a_palavra&&t.push(this.individuo_com_a_palavra),t}},methods:{fotografiaParlamentarUrl:function(t){return t?"/api/parlamentares/parlamentar/"+t+"/fotografia.c96.png":null},fetch:function(t){var e=this;return e.refreshState(t).then((function(o){if("individuo"===t.model){var n,a,i;if(o&&o.com_a_palavra)return o.aparteado!==(null===(i=e.individuo_aparteante)||void 0===i?void 0:i.id)&&(e.individuo_aparteante=null),e.individuo_com_a_palavra=o,o;o&&o.aparteado&&(e.individuo_aparteante=o),!o||o.com_a_palavra||o.aparteado||(null===(n=e.individuo_com_a_palavra)||void 0===n?void 0:n.id)!==o.id||(e.individuo_com_a_palavra=null),!o||o.com_a_palavra||o.aparteado||(null===(a=e.individuo_aparteante)||void 0===a?void 0:a.id)!==o.id||(e.individuo_aparteante=null)}return o})).catch((function(t){throw t}))},movePopover:function(t){if(t.preventDefault(),this.touching){var e=t.target.closest(".popover-palavra"),o=20,n=20,a=t.touches;void 0!==a&&(a=t.touches||t.originalEvent.touches,a&&a.length&&(t=a[0]));var i=window.innerWidth-t.clientX-o-e.offsetWidth/2,r=window.innerHeight-t.clientY-n-e.offsetHeight/2;i<-e.offsetWidth/2&&(i=-e.offsetWidth/2),r<-e.offsetHeight/2&&(r=-e.offsetHeight/2),i+e.offsetWidth>window.innerWidth&&(i=window.innerWidth-e.offsetWidth),r+e.offsetHeight>window.innerHeight&&(r=window.innerHeight-e.offsetHeight),e.style.right="".concat(i,"px"),e.style.bottom="".concat(r,"px")}}}},s=r,c=(o("ea5c"),o("2877")),l=Object(c["a"])(s,n,a,!1,null,null,null);e["a"]=l.exports},"6b16":function(t,e,o){},"8e28":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sessaoplenaria-module online-module"},[e("router-view"),e("popover-palavra")],1)},a=[],i=o("9662"),r=i["a"],s=(o("21e9"),o("2877")),c=Object(s["a"])(r,n,a,!1,null,null,null);e["default"]=c.exports},"90d8":function(t,e,o){"use strict";var n=o("c65b"),a=o("1a2d"),i=o("3a9b"),r=o("ad6d"),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||a(t,"flags")||!i(s,t)?e:n(r,t)}},9662:function(t,e,o){"use strict";(function(t){var n=o("5530"),a=o("2f62"),i=o("5c1a");e["a"]={name:"sessaoplenaria-module",components:{PopoverPalavra:i["a"]},data:function(){return{ws:"/ws/time-refresh/",models_init_cache:{base:["autor"],sessao:["tiposessaoplenaria",{model:"expedientesessao",full_pages:!1,ordering:"-sessao_plenaria"}],materia:["tipomaterialegislativa","statustramitacao"],parlamentares:["legislatura",{model:"sessaolegislativa",full_pages:!1,ordering:"-data_inicio"}]}}},mounted:function(){this.setSideleftVisivel(!0),this.setSiderightVisivel(!1),this.initCache()},methods:Object(n["a"])(Object(n["a"])({},a["a"].mapActions(["setSideleftVisivel","setSiderightVisivel"])),{},{fetchList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this;a.utils.getModelOrderedList(o,a.isString(n)?n:n.model,a.isString(n)?"":n.ordering,null===e?1:e).then((function(e){t.each(e.data.results,(function(t,e){a.refreshState({app:o,model:a.isString(n)?n:n.model,id:t.id,value:t})})),a.$nextTick().then((function(){null!==e.data.pagination.next_page&&(a.isString(n)||n.full_pages)&&a.fetchList(e.data.pagination.next_page,o,n)}))}))},initCache:function(){var e=this;t.mapKeys(e.models_init_cache,(function(o,n){t.each(o,(function(t){e.fetchList(1,n,t)}))}))}})}}).call(this,o("2ef0"))},b0c0:function(t,e,o){"use strict";var n=o("83ab"),a=o("5e77").EXISTS,i=o("e330"),r=o("edd0"),s=Function.prototype,c=i(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=i(l.exec),u="name";n&&!a&&r(s,u,{configurable:!0,get:function(){try{return d(l,c(this))[1]}catch(t){return""}}})},cff1:function(t,e,o){"use strict";var n=o("ecd6"),a=o.n(n);function i(){return a()('(function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/static/",r(r.s="a016")})({a016:function(e,t){var r={};self.onmessage=function(e){switch(e.data.command){case"interval:start":var t=setInterval((function(){postMessage({message:"interval:tick",id:e.data.id})}),e.data.interval);postMessage({message:"interval:started",id:e.data.id}),r[e.data.id]=t;break;case"interval:clear":clearInterval(r[e.data.id]),postMessage({message:"interval:cleared",id:e.data.id}),delete r[e.data.id];break}}}});\n//# sourceMappingURL=timer.worker.1321ed17.worker.js.map',"Worker",void 0,o.p+"js/timer.worker.1321ed17.worker.js")}var r=new i,s={id:0,callbacks:{},setInterval:function(t,e,o){this.id++;var n=this.id;return this.callbacks[n]={fn:t,context:o},r.postMessage({command:"interval:start",interval:e,id:n}),n},onMessage:function(t){switch(t.data.message){case"interval:tick":var e=this.callbacks[t.data.id];e&&e.fn&&e.fn.apply(e.context);break;case"interval:cleared":delete this.callbacks[t.data.id];break}},clearInterval:function(t){r.postMessage({command:"interval:clear",id:t})}};r.onmessage=s.onMessage.bind(s);e["a"]=s},d340:function(t,e,o){"use strict";o("45d2")},d81d:function(t,e,o){"use strict";var n=o("23e7"),a=o("b727").map,i=o("1dde"),r=i("map");n({target:"Array",proto:!0,forced:!r},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},ea5c:function(t,e,o){"use strict";o("6b16")},ecd6:function(t,e,o){"use strict";t.exports=function(t,e,o,n){var a=self||window;try{try{var i;try{i=new a.Blob([t])}catch(d){var r=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;i=new r,i.append(t),i=i.getBlob()}var s=a.URL||a.webkitURL,c=s.createObjectURL(i),l=new a[e](c,o);return s.revokeObjectURL(c),l}catch(d){return new a[e]("data:application/javascript,".concat(encodeURIComponent(t)),o)}}catch(d){if(!n)throw Error("Inline worker is not supported");return new a[e](n,o)}}}}]);
//# sourceMappingURL=chunk-338cd174.0e2b8479.js.map