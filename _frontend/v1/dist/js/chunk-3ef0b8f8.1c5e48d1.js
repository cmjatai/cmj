(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3ef0b8f8"],{"0872":function(e,t,n){(function(e){n("99af"),n("4de4"),n("7db0"),n("a630"),n("d81d"),n("d3b7"),n("3ca3");var t=window.$;window.DispositivoEdit=function(){var n,i="textarea";if(!(this instanceof window.DispositivoEdit))return n||(n=new window.DispositivoEdit),n;n=this,window.DispositivoEdit=function(){return n},n.bindActionsEditorType=function(e){i=this.getAttribute("editortype"),window.SetCookie("editortype",i,30);var o=t(this).closest(".dpt").attr("pk");n.clearEditSelected(),n.triggerBtnDptEdit(o),e.preventDefault()},n.bindActionsClick=function(e){var i=this.getAttribute("pk"),o={action:this.getAttribute("action"),tipo_pk:this.getAttribute("tipo_pk"),perfil_pk:this.getAttribute("perfil_pk"),variacao:this.getAttribute("variacao"),pk_bloco:this.getAttribute("pk_bloco")},r=i+"/refresh";n.waitShow(),t.get(r,o).done((function(e){n.clearEditSelected(),null!=e.pk&&n.message(e)})).fail(n.waitHide).always(n.waitHide)},n.clearEditSelected=function(){t(".dpt-selected > .dpt-form").html(""),t(".dpt-actions, .dpt-actions-bottom").html(""),window.tinymce.remove(),t(".dpt-selected").removeClass("dpt-selected")},n.editDispositivo=function(e){var i=e.target.classList.contains("dpt-link")?e.target:e.target.parentElement.classList.contains("dpt-link")?e.target.parentElement:null;if(!(i&&i.getAttribute("href")&&i.getAttribute("href").length>0)){var o=t(this).closest(".dpt");if(o.hasClass("dpt-selected"))"editor-close"===this.getAttribute("action")&&n.clearEditSelected();else{n.clearEditSelected(),n.loadActionsEdit(o);var r=o.attr("formtype");o.on(r,n[r]),n.loadForm(o,r)}}},n.gc=function(){setTimeout((function(){t(".dpt:not(.dpt-selected) > .dpt-form").html("")}),500)},n.get_form_base=function(){var e=t(this);e.addClass("dpt-selected"),e.children().filter(".dpt-form").find("form").submit(n.onSubmitEditFormBase),n.scrollTo(e),e.off("get_form_base"),e.find(".btn-fechar").on("click",(function(e){n.clearEditSelected(),e.preventDefault()}));var i=e.find(".btns-excluir");e.find(".dpt-actions-bottom").first().append(i),i.find(".btn-outline-danger").on("click",n.bindActionsClick)},n.get_form_alteracao=function(){var e=t(this);e.off("get_form_alteracao"),t(".dpt-actions, .dpt-actions-bottom").html("");var i=e.children().filter(".dpt-form").children().first(),o="".concat(i[0].id_dispositivo_search_form.value,"?ta_base_id=").concat(i[0].id_texto_articulado_do_editor.value);window.DispositivoSearch({url_form:o,text_button:"Selecionar",autostart:!0}),n.scrollTo(e),i.submit(n.onSubmitFormRegistraAlteracao),e.find(".btn-fechar").on("click",(function(t){n.clearEditSelected(),n.triggerBtnDptEdit(e.attr("pk")),t.preventDefault()}))},n.get_form_inclusao=function(){var e=t(this);e.off("get_form_inclusao"),t(".dpt-actions, .dpt-actions-bottom").html("");var i=e.children().filter(".dpt-form").children().first(),o="".concat(i[0].id_dispositivo_search_form.value,"?ta_base_id=").concat(i[0].id_texto_articulado_do_editor.value);window.DispositivoSearch({url_form:o,text_button:"Selecionar",post_selected:n.allowed_inserts_registro_inclusao,params_post_selected:{pk_bloco:e.attr("pk")},autostart:!0}),n.scrollTo(e),i.submit(n.onSubmitFormRegistraInclusao),e.find(".btn-fechar").on("click",(function(t){n.clearEditSelected(),n.triggerBtnDptEdit(e.attr("pk")),t.preventDefault()}))},n.get_form_revogacao=function(){var e=t(this);e.off("get_form_revogacao"),t(".dpt-actions, .dpt-actions-bottom").html("");var i=e.children().filter(".dpt-form").children().first(),o="".concat(i[0].id_dispositivo_search_form.value,"?ta_base_id=").concat(i[0].id_texto_articulado_do_editor.value);window.DispositivoSearch({url_form:o,text_button:"Selecionar",autostart:!0}),n.scrollTo(e),i.submit(n.onSubmitFormRegistraRevogacao),e.find(".btn-fechar").on("click",(function(){n.clearEditSelected(),n.triggerBtnDptEdit(e.attr("pk"))}))},n.allowed_inserts_registro_inclusao=function(e){var i=t("#id"+e.pk_bloco+" input[name='dispositivo_base_para_inclusao']");if(0!==i.length){var o=i[0].value,r={action:"get_actions_allowed_inserts_registro_inclusao",pk_bloco:e.pk_bloco},a=o+"/refresh";n.waitShow(),t.get(a,r).done((function(e){t(".allowed_inserts").html(e),t(".allowed_inserts").find(".btn-action").on("click",n.bindActionsClick)})).fail(n.waitHide).always(n.waitHide)}},n.loadActionsEdit=function(e){var o=e.attr("pk")+"/refresh?action=get_actions";t.get(o).done((function(o){e.find(".dpt-actions").first().html(o),e.find(".btn-action").on("click",n.bindActionsClick),e.find(".btn-compila").on("click",n.loadFormsCompilacao),e.find(".btn-editor-type").on("click",n.bindActionsEditorType),"construct"===i&&(e.find(".btn-group-inserts").first().addClass("open show"),e.find(".btn-group-inserts ul").first().addClass("show")),e.find(".btn-group-inserts button").mouseenter((function(n){e.find(".btn-group-inserts ul").removeClass("show"),e.find(".btn-group-inserts").removeClass("open show"),t(this.parentElement).addClass("open show"),t(this.parentElement).find("ul").addClass("show")})),e.find(".btn-group-inserts").mouseleave((function(t){e.find(".btn-group-inserts ul").removeClass("show"),e.find(".btn-group-inserts").removeClass("open show")})),n.gc()}))},n.loadForm=function(e,o){var r=e.attr("pk"),a=e.children().filter(".dpt-form");if(1===a.length){var s=r+"/refresh?action="+o;t.get(s).done((function(t){"construct"!==i&&(a.html(t),"tinymce"===i&&window.initTextRichEditor()),e.trigger(o)})).always((function(){n.waitHide()}))}},n.loadFormsCompilacao=function(e){var i=t(this).closest(".dpt"),o=this.getAttribute("action");i.on(o,n[o]),n.loadForm(i,o)},n.modalMessage=function(e,n,i){return null!==e&&""!==e&&(t("#modal-message #message").html(e),t("#modal-message").modal("show"),t("#modal-message, #modal-message .alert button").off(),t("#modal-message .alert").removeClass("alert-success alert-info alert-warning alert-danger alert-danger"),t("#modal-message .alert").addClass(n),null!=i&&t("#modal-message").on("hidden.bs.modal",i),t("#modal-message .alert button").on("click",(function(){t("#modal-message").modal("hide")})),!0)},n.message=function(e){if(void 0!==e.message)if(e.message.modal)n.modalMessage(e.message.value,"alert-"+e.message.type,(function(){n.waitShow(),n.refreshScreenFocusPk(e)}));else{if(n.refreshScreenFocusPk(e),!("message"in e))return;var i=t(".cp-notify");i.removeClass("hide");var o=i.find(".message");o.text(e.message.value),o.removeClass("bg-primary bg-success bg-info bg-warning bg-danger").addClass("bg-"+e.message.type),setTimeout((function(){i.addClass("hide")}),e.message.time?e.message.time:3e3)}else n.refreshScreenFocusPk(e)},n.offClicks=function(){t(".btn-dpt-edit").off()},n.onClicks=function(e){(null==e?t(".btn-dpt-edit"):t(e).find(".btn-dpt-edit")).on("click",n.editDispositivo)},n.onSubmitFormRegistraAlteracao=function(e){if(void 0===this.dispositivo_alterado)return n.modalMessage("Nenhum dispositivo selecionado","alert-info"),void(null!=e&&e.preventDefault());var i=void 0===this.dispositivo_alterado.length?[this.dispositivo_alterado]:Array.from(this.dispositivo_alterado),o={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_alterado:i.filter((function(e,t,n){return e.checked})).map((function(e){return e.value})),formtype:"get_form_alteracao"},r=t(this).closest(".dpt").attr("pk")+"/refresh";n.waitShow(),t.post(r,o).done((function(e){n.clearEditSelected(),null!=e.pk?n.message(e):alert("Erro na resposta!")})).always((function(){n.waitHide()})),null!=e&&e.preventDefault()},n.onSubmitFormRegistraInclusao=function(e){var i={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_base_para_inclusao:this.dispositivo_base_para_inclusao.value,formtype:"get_form_inclusao"},o=t(this).closest(".dpt").attr("pk")+"/refresh";n.waitShow(),t.post(o,i).done((function(e){n.clearEditSelected(),null!=e.pk?n.message(e):alert("Erro na resposta!")})).always((function(){n.waitHide()})),null!=e&&e.preventDefault()},n.onSubmitFormRegistraRevogacao=function(e){if(void 0===this.dispositivo_revogado)return n.modalMessage("Nenhum dispositivo selecionado","alert-info"),void(null!=e&&e.preventDefault());var i=void 0===this.dispositivo_revogado.length?[this.dispositivo_revogado]:Array.from(this.dispositivo_revogado),o={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,dispositivo_revogado:i.filter((function(e,t,n){return e.checked})).map((function(e){return e.value})),revogacao_em_bloco:this.revogacao_em_bloco.value,formtype:"get_form_revogacao"},r=t(this).closest(".dpt").attr("pk")+"/refresh";n.waitShow(),t.post(r,o).done((function(e){n.clearEditSelected(),null!=e.pk?n.message(e):alert("Erro na resposta!")})).always((function(){n.waitHide()})),null!=e&&e.preventDefault()},n.onSubmitEditFormBase=function(e){var i=this,o="",r="",a="",s=window.tinymce.get("id_texto"),l=window.tinymce.get("id_texto_atualizador");o=null!=s?s.getContent():this.id_texto.value,null!=l?r=l.getContent():"id_texto_atualizador"in this&&(r=this.id_texto_atualizador.value),"visibilidade"in this&&(a=this.visibilidade.value);var d={csrfmiddlewaretoken:this.csrfmiddlewaretoken.value,texto:o,texto_atualizador:r,visibilidade:a,formtype:"get_form_base"},c=t(this).closest(".dpt").attr("pk")+"/refresh";n.waitShow(),t.post(c,d).done((function(e){if("string"==typeof e){var o=t(i).closest(".dpt");return o=t("#"+o.replaceWith(e).attr("id")),n.onClicks(o),void n.waitHide()}n.clearEditSelected(),null!=e.pk?n.message(e):alert("Erro na resposta!")})).always((function(){n.waitHide()})),null!=e&&e.preventDefault()},n.refreshContent=function(e,i){if(0!==e.length){var o=e.shift(),r=o+"/refresh";t.get(r).done((function(r){var a=t("#id"+o).closest(".dpt");a=t("#"+a.replaceWith(r).attr("id")),n.onClicks(a),n.reloadFunctionsDraggables(),i>0&&n.triggerBtnDptEdit(i),n.refreshContent(e)}))}else n.waitHide()},n.refreshScreenFocusPk=function(e){if(n.waitShow(),-1===e.pai[0]){n.waitShow();var t=location.href.split("#")[0];location.href=t+"#"+e.pk,location.reload(!0)}else n.refreshContent(e.pai,e.pk)},n.reloadFunctionsDraggables=function(){var n=t(".dpt-alts");n.length>0?(n.sortable({connectWith:".dpt-alts",items:".sorting-initialize",revert:!0,distance:15,start:function(e,t){},stop:function(e,n){var i=n.item.attr("pk"),o=n.item.closest(".dpt-alts").closest(".dpt").attr("pk"),r=i+"/refresh?action=json_drag_move_dpt_alterado&index="+n.item.index()+"&bloco_pk="+o;t.get(r).done((function(e){}))}}),n.find(".dpt").one("mouseenter",(function(){e(this).addClass("sorting-initialize"),n.sortable("refresh")})),t(".dpt-alts .dpt").draggable({connectToSortable:".dpt-alts",revert:"invalid",zIndex:1,distance:15,drag:function(e,n){t(".dpt-alts").addClass("drag")},stop:function(e,n){t(".dpt-alts").removeClass("drag")}}),n.disableSelection()):console.warn("No '.dpt-alts' elements found to make sortable/draggable.")},n.scrollTo=function(e){try{t("html, body").animate({scrollTop:e.offset().top-window.innerHeight/9},100)}catch(e){}},n.triggerBtnDptEdit=function(e){var n=t("#id"+e+" > .dpt-text.btn-dpt-edit");0===n.length&&(n=t("#id"+e+" > .dpt-actions-fixed > .btn-dpt-edit")),n.first().trigger("click")},n.waitHide=function(){t("#wait_message").addClass("displaynone")},n.waitShow=function(){t("#wait_message").removeClass("displaynone")},n.init=function(){t(".dpt-actions-fixed").first().css("opacity","1"),null!==(i=window.ReadCookie("editortype"))&&""!==i||(i="textarea",window.SetCookie("editortype",i,30)),n.offClicks(),n.onClicks(),n.reloadFunctionsDraggables();var e=location.href.split("#");2===e.length&&""!==e[1]&&n.triggerBtnDptEdit(e[1]),t("main").click((function(e){e.target!==this&&e.target!==this.firstElementChild||n.clearEditSelected()})),n.waitHide()},n.init()},t(document).ready((function(){e(".cpe").length>0&&window.DispositivoEdit()}))}).call(this,n("1157"))},"114c":function(e,t,n){},"129f":function(e,t,n){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"4a8b":function(e,t,n){"use strict";n("4de4"),n("7db0"),n("e9c4"),n("b64b"),n("d3b7");var i=window.$;function o(e){i(e).append('<div style="text-align:center;"><i style="font-size: 200%;" class="fa fa-refresh fa-spin"></i></div>')}t.a={SetCookie:function(e,t,n){var i=new Date,o=new Date;null!==n&&0!==n||(n=1),o.setTime(i.getTime()+864e5*n),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()},ReadCookie:function(e){var t=" "+document.cookie,n=t.indexOf(" "+e+"=");if(-1===n&&(n=t.indexOf(";"+e+"=")),-1===n||""===e)return"";var i=t.indexOf(";",n+1);return-1===i&&(i=t.length),unescape(t.substring(n+e.length+2,i))},insertWaitAjax:o,DispositivoSearch:function(e){i((function(){var t={},n=i("body").children("#container_ds");n.length>0&&i(n).remove(),n=i('<div id="container_ds"/>'),i("body").prepend(n),i('[data-sapl-ta="DispositivoSearch"]').each((function(){var r=i(this),a=r.attr("data-type-selection"),s=r.attr("data-field"),l=r.attr("data-function"),d=function(e){if("checkbox"===a){var t=r.find('input[name="ta_select_all"]');t.off(),t.on("change",(function(e){i(this).closest("ul").find('input[name="'+s+'"]').prop("checked",this.checked)}))}else{var n=r.find("input");n.off(),n.attr("type","hidden"),i('<a class="text-danger">').insertBefore(n).append(i('<span aria-hidden="true">&times;</span>')).on("click",(function(){2===i(this).closest("ul").find("li").length?i(this).closest("ul").remove():i(this).closest("li").remove()}))}};d();var c=function(e){var n=i('select[name="tipo_ta"]').val(),r=i('select[name="tipo_model"]').val(),d=i('input[name="num_ta"]').val(),c=i('input[name="ano_ta"]').val(),u=i('input[name="tipo_resultado"]:checked').val(),f=i('input[name="rotulo_dispositivo"]').val(),p=i('input[name="texto_dispositivo"]').val(),h=i('select[name="max_results"]').val(),m=i('input[name="texto_articulado_do_editor"]').val();f.length>0||p.length>0?(i('input[name="tipo_resultado"]').prop("disabled",!1),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.remove("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","1")):(i('input[name="tipo_resultado"]').filter('[value="False"]').prop("checked",!0),i('input[name="tipo_resultado"]').prop("disabled",!0),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.add("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","0.3"),u="False"),t={tipo_ta:n,tipo_model:r,num_ta:d,ano_ta:c,texto:p,rotulo:f,tipo_resultado:u,max_results:h,data_type_selection:a,data_field:s,data_function:l,texto_articulado_do_editor:m},window.localStorage.setItem("dispositivo_search_form_data",JSON.stringify(t)),i(".result-busca-dispositivo").html(""),o(".result-busca-dispositivo"),i.get("/ta/search_fragment_form",t).done((function(e){if(i(".result-busca-dispositivo").html(e),"checkbox"===a){var t=i(".result-busca-dispositivo").find('input[name="ta_select_all"]');t.off(),t.on("change",(function(e){i(this).closest("ul").find('input[name="'+s+'"]').prop("checked",this.checked)}))}}))},u=function(e){var t=i('input[name="rotulo_dispositivo"]').val(),n=i('input[name="texto_dispositivo"]').val();t.length>0||n.length>0?(i('input[name="tipo_resultado"]').prop("disabled",!1),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.remove("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","1")):(i('input[name="tipo_resultado"]').filter('[value="False"]').prop("checked",!0),i('input[name="tipo_resultado"]').prop("disabled",!0),i('input[name="tipo_resultado"]').each((function(e,t){t.parentElement.classList.add("disabled")})),i('input[name="tipo_resultado"]').closest("#div_id_tipo_resultado").css("opacity","0.3"))},f=r.children("#buttonDs");f.length>0&&i(f).remove(),f=i('<div id="buttonDs" class="clearfix"/>'),r.prepend(f);var p=i("<button>").text(e.text_button).attr("type","button").attr("class","btn btn-sm btn-success btn-modal-open");f.append(p),p.on("click",(function(){i.get(e.url_form,(function(o){n.html(o);var l=i("#modal-ds");l.find('select[name="tipo_ta"]').change((function(e){var n;n="/ta/search_fragment_form?action=get_tipos&tipo_ta="+this.value,l.find('label[for="id_tipo_model"]').html("Tipos de "+this.children[this.selectedIndex].innerHTML);var o=l.find('select[name="tipo_model"]');o.empty(),i('<option value="">Carregando...</option>').appendTo(o),i.get(n).done((function(e){for(var n in o.empty(),e)for(var r in e[n])o.append(i("<option>").attr("value",r).text(e[n][r]));setTimeout((function(){i('select[name="tipo_model"]').val(t.tipo_model)}),200)}))})),l.find('input[name="texto_dispositivo"], input[name="rotulo_dispositivo"]').on("keyup",u),l.find(".btn-busca").click(c),l.find("#btn-modal-select").click((function(){var t=r.find("ul");"radio"===a&&t.remove();var n=l.find('[name="'+s+'"]:checked');n.closest("ul").find("input:not(:checked)").filter('[name!="ta_select_all"]').closest("li").remove(),n.closest("ul").each((function(){var e=r.find("#"+this.id);0!==e.length?i(this).find("input").each((function(){e.find("#"+this.id).length>0||e.append(i(this).closest("li"))})):r.append(this)})),d(),l.modal("hide"),"post_selected"in e&&e.post_selected(e.params_post_selected)}));try{t=JSON.parse(window.localStorage.getItem("dispositivo_search_form_data")),i('input[name="num_ta"]').val(t.num_ta),i('input[name="ano_ta"]').val(t.ano_ta),i('input[name="rotulo_dispositivo"]').val(t.rotulo),i('input[name="texto_dispositivo"]').val(t.texto),i('select[name="max_results"]').val(t.max_results),i('input[name="tipo_resultado"]').filter('[value="'.concat(t.tipo_resultado,'"]')).attr("checked",!0)}catch(e){}setTimeout((function(){try{i('select[name="tipo_ta"]').val(t.tipo_ta),i('select[name="tipo_ta"]').trigger("change")}catch(e){}}),200),l.modal("show")}))})),"autostart"in e&&e.autostart&&p.trigger("click")}))}))}}},"4df4":function(e,t,n){"use strict";var i=n("0366"),o=n("c65b"),r=n("7b0b"),a=n("9bdd"),s=n("e95a"),l=n("68ee"),d=n("07fa"),c=n("8418"),u=n("9a1f"),f=n("35a1"),p=Array;e.exports=function(e){var t=r(e),n=l(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=i(m,h>2?arguments[2]:void 0));var g,w,_,b,y,k,x=f(t),C=0;if(!x||this===p&&s(x))for(g=d(t),w=n?new this(g):p(g);g>C;C++)k=v?m(t[C],C):t[C],c(w,C,k);else for(w=n?new this:[],y=(b=u(t,x)).next;!(_=o(y,b)).done;C++)k=v?a(b,m,[_.value,C],!0):_.value,c(w,C,k);return w.length=C,w}},"6c99":function(e,t,n){"use strict";var i=n("8219").a,o=(n("d90a"),n("2877")),r=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",{class:["norma-simple-modal-view","modal","fade"],attrs:{id:e.html_id}},[t("div",{staticClass:"modal-dialog modal-xl",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[e.norma_render?t("h5",{staticClass:"modal-title",attrs:{id:"#titulo"}},[e._v(" "+e._s(""!==e.norma_render.apelido?e.norma_render.apelido:"")+" ("+e._s(e.norma_render.__str__)+") ")]):e._e(),e._m(0)]),t("div",{staticClass:"modal-body"},[e.norma_render&&!e.norma_render.html?t("div",[e._v("Carregando texto...")]):e._e(),e.norma_render?t("div",{domProps:{innerHTML:e._s(e.norma_render.html)}}):e._e()]),e._m(1)])])])}),[function(){var e=this._self._c;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Fechar"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var e=this._self._c;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Fechar")])])}],!1,null,null,null);t.a=r.exports},"6ccd":function(e,t,n){"use strict";n.r(t),function(e,t){n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("159b"),n("6d5e");var i=n("4a8b"),o=n("a0fe"),r=n("aa48");n("0872");e.forEach(e.merge(e.merge(i.a,r.a),o.a),(function(e,t){window[t]=e})),t(document).ready((function(){setTimeout((function(){var e=location.href.split("#");if(2===e.length)try{t("html, body").animate({scrollTop:t("#dptt"+e[1]).offset().top-window.innerHeight/9},0)}catch(e){}}),100),t("#btn_font_menos").click((function(){t(".dpt").css("font-size","-=1")})),t("#btn_font_mais").click((function(){t(".dpt").css("font-size","+=1")})),t(".dpt.bloco_alteracao .dpt").each((function(){var e=parseInt(t(this).attr("nivel"));t(this).css("z-index",15-e)})),t(".cp-linha-vigencias > li:not(:first-child):not(:last-child) > a").click((function(e){t(".cp-linha-vigencias > li").removeClass("active"),t(this).closest("li").addClass("active"),e.preventDefault()})),t("main").click((function(e){e.target!==this&&e.target!==this.firstElementChild||t(".cp-linha-vigencias > li").removeClass("active")})),window.onReadyNotasVides()}))}.call(this,n("2ef0"),n("1157"))},"6d5e":function(e,t,n){},8219:function(e,t,n){"use strict";(function(e){n("6ccd");t.a={name:"norma-simple-modal-view",props:["html_id","modal_norma","idd"],data:function(){return{app:["norma"],model:["normajuridica"],norma_render:null}},watch:{modal_norma:function(e,t){null!==e&&(this.norma_render=e)},norma_render:function(e,t){null!==e&&void 0===e.html&&this.getText(e)},idd:function(e,t){var n=this;if(null!==e){var i=0;null!=e&&"number"==typeof e&&(i=e,n.utils.getModel("norma","normajuridica",i).then((function(e){n.norma_render=e.data})))}}},computed:{},mounted:function(){var e=this;e.$nextTick().then((function(){null!=e.idd&&"number"==typeof e.idd&&e.getObject({app:"norma",model:"normajuridica",id:e.idd}).then((function(t){e.norma_render=t}))}))},methods:{getText:function(t){var n=this;void 0!==t.id&&t.id>0&&e.ajax({url:"/norma/".concat(t.id,"/ta?embedded"),type:"GET",success:function(i){var o=i;n.$set(t,"html",o),n.$nextTick().then((function(){e(".cp a").attr("target","_blank")}))}})},fetch:function(e){var t=this;void 0!==t.modal_norma&&t.modal_norma.id===e.id&&e.model===t.model[0]&&this.refresh()},refresh:function(e){var t=this;t.getObject(e).then((function(n){n.norma_de_destaque&&t.$set(t.itens["".concat(e.model,"_list")],e.id,n)}))}}}}).call(this,n("1157"))},"841c":function(e,t,n){"use strict";var i=n("c65b"),o=n("d784"),r=n("825a"),a=n("7234"),s=n("1d80"),l=n("129f"),d=n("577e"),c=n("dc4a"),u=n("14c3");o("search",(function(e,t,n){return[function(t){var n=s(this),o=a(t)?void 0:c(t,e);return o?i(o,t,n):new RegExp(t)[e](d(n))},function(e){var i=r(this),o=d(e),a=n(t,i,o);if(a.done)return a.value;var s=i.lastIndex;l(s,0)||(i.lastIndex=0);var c=u(i,o);return l(i.lastIndex,s)||(i.lastIndex=s),null===c?-1:c.index}]}))},"9bdd":function(e,t,n){"use strict";var i=n("825a"),o=n("2a62");e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},a0fe:function(e,t,n){"use strict";(function(e){n("4de4"),n("d3b7"),n("ac1f"),n("841c"),n("159b");var i=window.$,o=n("bf68");function r(t){"function"==typeof e&&t instanceof e&&(t=t[0]);var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function a(e,t){for(var n=null,o=i(".dptt"),a=0;a<o.length;a++)if(!i(o[a]).hasClass("displaynone")&&r(o[a])){n=a+1<o.length?o[a+1]:o[a];break}if(i(".cp .tipo-vigencias a").removeClass("active"),i(e).addClass("active"),i(".dptt.desativado").addClass("displaynone"),i(".desativado > .dn").addClass("displaynone"),i(".nota-alteracao").removeClass("displaynone"),i(".dptt.revogado").removeClass("displaynone"),t||i(".nota-alteracao").addClass("displaynone"),n)try{i("html, body").animate({scrollTop:i(n).parent().offset().top-60},0)}catch(e){}}t.a={isElementInViewport:r,textoMultiVigente:function(e,t){for(var n=null,a=i(".dptt"),s=0;s<a.length;s++)if(!i(a[s]).hasClass("displaynone")&&r(a[s])){n=s+1<a.length?a[s+1]:a[s];break}if(i(".cp .tipo-vigencias a").removeClass("active"),i(e).addClass("active"),i(".dptt.desativado").removeClass("displaynone"),i(".desativado > .dn").removeClass("displaynone"),i(".dptt.revogado").removeClass("displaynone"),i(".dtxt").removeClass("displaynone"),i(".dtxt.diff").remove(),i(".nota-alteracao").removeClass("displaynone"),t&&i('.dtxt[id^="da"').each((function(){if(!(i(this).html().search(/<\/\w+>/g)>0)){var e=i(this).attr("pk"),t=i(this).attr("pks"),n=i("#d"+t).contents().filter((function(){return this.nodeType===Node.TEXT_NODE})),r=i("#da"+e).contents().filter((function(){return this.nodeType===Node.TEXT_NODE})),a=o.diffWordsWithSpace(i(n).text(),i(r).text());if(a.length>0){i("#d"+t).closest(".desativado").addClass("displaynone");var s=i("#da"+e).clone();i("#da"+e).after(s),i("#da"+e).addClass("displaynone"),i(s).addClass("diff").html(""),a.forEach((function(e){var t=document.createElement("span"),n=e.value;e.removed?(i(t).addClass("desativado"),n+=" "):e.added&&i(t).addClass("added"),t.appendChild(document.createTextNode(n)),i(s).append(t)}))}}})),n)try{i("html, body").animate({scrollTop:i(n).parent().offset().top-60},0)}catch(e){}},textoVigente:a,textoVigenteSemRevogados:function(e,t){a(e,t),i(".dptt.revogado").addClass("displaynone")}}}).call(this,n("1157"))},a630:function(e,t,n){"use strict";var i=n("23e7"),o=n("4df4");i({target:"Array",stat:!0,forced:!n("1c7e")((function(e){Array.from(e)}))},{from:o})},aa48:function(e,t,n){"use strict";var i=window.$;function o(e,t){i("html, body").animate({scrollTop:i("#dne"+e).offset().top-window.innerHeight/5},300),window.refreshDatePicker(),i("#dne"+e+" #button-id-submit-form").click(r),i("#dne"+e+" .btn-close-container").click((function(){i(this).closest(".dne-nota").removeClass("dne-nota"),i(this).closest(".dne-form").html("")})),"nota"===t?i("#dne"+e+' select[name="tipo"]').change((function(t){var n;n="text/"+e+"/nota/create?action=modelo_nota&id_tipo="+this.value,i.get(n).done((function(t){i("#dne"+e+' textarea[name="texto"]').val(t)}))})):"vide"===t&&window.DispositivoSearch({url_form:"/ta/search_form",text_button:"Definir Dispositivo"})}function r(e){var t,n="",r="nota",a=i("#id_dispositivo").val();void 0===a&&(a=i("#id_dispositivo_base").val(),r="vide"),t=i("#id_pk").val(),n="text/"+a+"/"+r+"/",n+=null===t||""===t?"create":t+"/edit",i.post(n,i("#dne"+a+" form").serialize(),(function(e){if("string"==typeof e)if(e.indexOf("<form")>=0)i("#dne"+a+" .dne-form").html(e),o(a,r);else{i("#dne"+a+" .dne-form").closest(".dpt").html(e),s();try{i("html, body").animate({scrollTop:i("#dne"+a).offset().top-window.innerHeight/3},300)}catch(e){}}}))}function a(e){var t=i(e).attr("model"),n=i(e).closest(".dn").attr("pk"),o=i(e).attr("pk"),r="text/"+n+"/"+t+"/"+o+"/delete";i.get(r,(function(e){i("#dne"+n+" .dne-form").closest(".dpt").html(e),s()}))}function s(){i(".dne-nota").removeClass("dne-nota"),i(".dne-form").html(""),i(".dne .btn-action").off(),i(".dn .btn-action").off(),i(".dne .btn-action, .dn .btn-action").not(".btn-nota-delete").not(".btn-vide-delete").click((function(){!function(e){var t="",n=i(e).attr("model"),r=i(".dne-nota .dne-form").closest(".dne").attr("pk");if(null!=r&&(i("#dne"+r).removeClass("dne-nota"),i("#dne"+r+" .dne-form").html("")),e.className.indexOf("create")>=0)t="text/"+(r=i(e).attr("pk"))+"/"+n+"/create";else if(e.className.indexOf("edit")>=0){var a=i(e).attr("pk");t="text/"+(r=i(e).closest(".dn").attr("pk"))+"/"+n+"/"+a+"/edit"}i("#dne"+r).addClass("dne-nota"),i.get(t).done((function(e){i("#dne"+r+" .dne-form").html(e),o(r,n)})).fail((function(){s()}))}(this)})),i(".dn .btn-nota-delete, .dn .btn-vide-delete").click((function(){a(this)}))}t.a={onEventsDneExec:o,onSubmitEditNVForm:r,onDelete:a,onReadyNotasVides:s}},bf68:function(e,t,n){
/*!

 diff v7.0.0

BSD 3-Clause License

Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

@license
*/
!function(e){"use strict";function t(){}function n(e,t,n,i,o){for(var r,a=[];t;)a.push(t),r=t.previousComponent,delete t.previousComponent,t=r;a.reverse();for(var s=0,l=a.length,d=0,c=0;s<l;s++){var u=a[s];if(u.removed)u.value=e.join(i.slice(c,c+u.count)),c+=u.count;else{if(!u.added&&o){var f=n.slice(d,d+u.count);f=f.map((function(e,t){var n=i[c+t];return n.length>e.length?n:e})),u.value=e.join(f)}else u.value=e.join(n.slice(d,d+u.count));d+=u.count,u.added||(c+=u.count)}}return a}t.prototype={diff:function(e,t){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.callback;"function"==typeof o&&(r=o,o={});var a=this;function s(e){return e=a.postProcess(e,o),r?(setTimeout((function(){r(e)}),0),!0):e}e=this.castInput(e,o),t=this.castInput(t,o),e=this.removeEmpty(this.tokenize(e,o));var l=(t=this.removeEmpty(this.tokenize(t,o))).length,d=e.length,c=1,u=l+d;null!=o.maxEditLength&&(u=Math.min(u,o.maxEditLength));var f=null!==(i=o.timeout)&&void 0!==i?i:1/0,p=Date.now()+f,h=[{oldPos:-1,lastComponent:void 0}],m=this.extractCommon(h[0],t,e,0,o);if(h[0].oldPos+1>=d&&m+1>=l)return s(n(a,h[0].lastComponent,t,e,a.useLongestToken));var v=-1/0,g=1/0;function w(){for(var i=Math.max(v,-c);i<=Math.min(g,c);i+=2){var r=void 0,u=h[i-1],f=h[i+1];u&&(h[i-1]=void 0);var p=!1;if(f){var w=f.oldPos-i;p=f&&0<=w&&w<l}var _=u&&u.oldPos+1<d;if(p||_){if(r=!_||p&&u.oldPos<f.oldPos?a.addToPath(f,!0,!1,0,o):a.addToPath(u,!1,!0,1,o),m=a.extractCommon(r,t,e,i,o),r.oldPos+1>=d&&m+1>=l)return s(n(a,r.lastComponent,t,e,a.useLongestToken));h[i]=r,r.oldPos+1>=d&&(g=Math.min(g,i-1)),m+1>=l&&(v=Math.max(v,i+1))}else h[i]=void 0}c++}if(r)!function e(){setTimeout((function(){if(c>u||Date.now()>p)return r();w()||e()}),0)}();else for(;c<=u&&Date.now()<=p;){var _=w();if(_)return _}},addToPath:function(e,t,n,i,o){var r=e.lastComponent;return r&&!o.oneChangePerToken&&r.added===t&&r.removed===n?{oldPos:e.oldPos+i,lastComponent:{count:r.count+1,added:t,removed:n,previousComponent:r.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:t,removed:n,previousComponent:r}}},extractCommon:function(e,t,n,i,o){for(var r=t.length,a=n.length,s=e.oldPos,l=s-i,d=0;l+1<r&&s+1<a&&this.equals(n[s+1],t[l+1],o);)l++,s++,d++,o.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return d&&!o.oneChangePerToken&&(e.lastComponent={count:d,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=s,l},equals:function(e,t,n){return n.comparator?n.comparator(e,t):e===t||n.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};var i=new t;function o(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function r(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function a(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function s(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function l(e,t){return a(e,t,"")}function d(e,t){return s(e,t,"")}function c(e,t){return t.slice(0,function(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var i=t.length;e.length<t.length&&(i=e.length);var o=Array(i),r=0;o[0]=0;for(var a=1;a<i;a++){for(t[a]==t[r]?o[a]=o[r]:o[a]=r;r>0&&t[a]!=t[r];)r=o[r];t[a]==t[r]&&r++}r=0;for(var s=n;s<e.length;s++){for(;r>0&&e[s]!=t[r];)r=o[r];e[s]==t[r]&&r++}return r}(e,t))}function u(e){return e.includes("\r\n")&&!e.startsWith("\n")&&!e.match(/[^\r]\n/)}function f(e){return!e.includes("\r\n")&&e.includes("\n")}var p="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",h=new RegExp("[".concat(p,"]+|\\s+|[^").concat(p,"]"),"ug"),m=new t;function v(e,t,n,i){if(t&&n){var u=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],p=n.value.match(/^\s*/)[0],h=n.value.match(/\s*$/)[0];if(e){var m=o(u,p);e.value=s(e.value,p,m),t.value=l(t.value,m),n.value=l(n.value,m)}if(i){var v=r(f,h);i.value=a(i.value,h,v),t.value=d(t.value,v),n.value=d(n.value,v)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),i&&(i.value=i.value.replace(/^\s*/,""));else if(e&&i){var g=i.value.match(/^\s*/)[0],w=t.value.match(/^\s*/)[0],_=t.value.match(/\s*$/)[0],b=o(g,w);t.value=l(t.value,b);var y=r(l(g,b),_);t.value=d(t.value,y),i.value=a(i.value,g,y),e.value=s(e.value,g,g.slice(0,g.length-y.length))}else if(i){var k=i.value.match(/^\s*/)[0],x=c(t.value.match(/\s*$/)[0],k);t.value=d(t.value,x)}else if(e){var C=c(e.value.match(/\s*$/)[0],t.value.match(/^\s*/)[0]);t.value=l(t.value,C)}}m.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()},m.tokenize=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.intlSegmenter){if("word"!=n.intlSegmenter.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');t=Array.from(n.intlSegmenter.segment(e),(function(e){return e.segment}))}else t=e.match(h)||[];var i=[],o=null;return t.forEach((function(e){/\s/.test(e)?null==o?i.push(e):i.push(i.pop()+e):/\s/.test(o)?i[i.length-1]==o?i.push(i.pop()+e):i.push(o+e):i.push(e),o=e})),i},m.join=function(e){return e.map((function(e,t){return 0==t?e:e.replace(/^\s+/,"")})).join("")},m.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,i=null,o=null;return e.forEach((function(e){e.added?i=e:e.removed?o=e:((i||o)&&v(n,o,i,e),n=e,i=null,o=null)})),(i||o)&&v(n,o,i,null),e};var g=new t;function w(e,t,n){return g.diff(e,t,n)}g.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(p,"]+|[^\\S\\n\\r]+|[^").concat(p,"]"),"ug");return e.match(t)||[]};var _=new t;function b(e,t,n){return _.diff(e,t,n)}_.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));var n=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(var o=0;o<i.length;o++){var r=i[o];o%2&&!t.newlineIsToken?n[n.length-1]+=r:n.push(r)}return n},_.equals=function(e,n,i){return i.ignoreWhitespace?(i.newlineIsToken&&e.includes("\n")||(e=e.trim()),i.newlineIsToken&&n.includes("\n")||(n=n.trim())):i.ignoreNewlineAtEof&&!i.newlineIsToken&&(e.endsWith("\n")&&(e=e.slice(0,-1)),n.endsWith("\n")&&(n=n.slice(0,-1))),t.prototype.equals.call(this,e,n,i)};var y=new t;y.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var k=new t;function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}k.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var N=new t;function A(e,t,n,i,o){var r,a;for(t=t||[],n=n||[],i&&(e=i(o,e)),r=0;r<t.length;r+=1)if(t[r]===e)return n[r];if("[object Array]"===Object.prototype.toString.call(e)){for(t.push(e),a=new Array(e.length),n.push(a),r=0;r<e.length;r+=1)a[r]=A(e[r],t,n,i,o);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),"object"===E(e)&&null!==e){t.push(e),a={},n.push(a);var s,l=[];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&l.push(s);for(l.sort(),r=0;r<l.length;r+=1)a[s=l[r]]=A(e[s],t,n,i,s);t.pop(),n.pop()}else a=e;return a}N.useLongestToken=!0,N.tokenize=_.tokenize,N.castInput=function(e,t){var n=t.undefinedReplacement,i=t.stringifyReplacer,o=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(A(e,null,null,o),o,"  ")},N.equals=function(e,n,i){return t.prototype.equals.call(N,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"),i)};var D=new t;function P(e){return Array.isArray(e)?e.map(P):C(C({},e),{},{hunks:e.hunks.map((function(e){return C(C({},e),{},{lines:e.lines.map((function(t,n){var i;return t.startsWith("\\")||t.endsWith("\r")||null!==(i=e.lines[n+1])&&void 0!==i&&i.startsWith("\\")?t:t+"\r"}))})}))})}function H(e){return Array.isArray(e)?e.map(H):C(C({},e),{},{hunks:e.hunks.map((function(e){return C(C({},e),{},{lines:e.lines.map((function(e){return e.endsWith("\r")?e.substring(0,e.length-1):e}))})}))})}function O(e){return Array.isArray(e)||(e=[e]),!e.some((function(e){return e.hunks.some((function(e){return e.lines.some((function(e){return!e.startsWith("\\")&&e.endsWith("\r")}))}))}))}function j(e){return Array.isArray(e)||(e=[e]),e.some((function(e){return e.hunks.some((function(e){return e.lines.some((function(e){return e.endsWith("\r")}))}))}))&&e.every((function(e){return e.hunks.every((function(e){return e.lines.every((function(t,n){var i;return t.startsWith("\\")||t.endsWith("\r")||(null===(i=e.lines[n+1])||void 0===i?void 0:i.startsWith("\\"))}))}))}))}function W(e){var t=e.split(/\n/),n=[],i=0;function o(){var e={};for(n.push(e);i<t.length;){var o=t[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(o))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(o);s&&(e.index=s[1]),i++}for(r(e),r(e),e.hunks=[];i<t.length;){var l=t[i];if(/^(Index:\s|diff\s|\-\-\-\s|\+\+\+\s|===================================================================)/.test(l))break;if(/^@@/.test(l))e.hunks.push(a());else{if(l)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(l));i++}}}function r(e){var n=/^(---|\+\+\+)\s+(.*)\r?$/.exec(t[i]);if(n){var o="---"===n[1]?"old":"new",r=n[2].split("\t",2),a=r[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),e[o+"FileName"]=a,e[o+"Header"]=(r[1]||"").trim(),i++}}function a(){var e=i,n=t[i++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),o={oldStart:+n[1],oldLines:void 0===n[2]?1:+n[2],newStart:+n[3],newLines:void 0===n[4]?1:+n[4],lines:[]};0===o.oldLines&&(o.oldStart+=1),0===o.newLines&&(o.newStart+=1);for(var r=0,a=0;i<t.length&&(a<o.oldLines||r<o.newLines||null!==(s=t[i])&&void 0!==s&&s.startsWith("\\"));i++){var s,l=0==t[i].length&&i!=t.length-1?" ":t[i][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)throw new Error("Hunk at line ".concat(e+1," contained invalid line ").concat(t[i]));o.lines.push(t[i]),"+"===l?r++:"-"===l?a++:" "===l&&(r++,a++)}if(r||1!==o.newLines||(o.newLines=0),a||1!==o.oldLines||(o.oldLines=0),r!==o.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(a!==o.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1));return o}for(;i<t.length;)o();return n}function I(e,t,n){var i=!0,o=!1,r=!1,a=1;return function s(){if(i&&!r){if(o?a++:i=!1,e+a<=n)return e+a;r=!0}if(!o)return r||(i=!0),t<=e-a?e-a++:(o=!0,s())}}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=W(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}(n.autoConvertLineEndings||null==n.autoConvertLineEndings)&&(u(e)&&O(t)?t=P(t):f(e)&&j(t)&&(t=H(t)));var i=e.split("\n"),o=t.hunks,r=n.compareLine||function(e,t,n,i){return t===i},a=n.fuzzFactor||0,s=0;if(a<0||!Number.isInteger(a))throw new Error("fuzzFactor must be a non-negative integer");if(!o.length)return e;for(var l="",d=!1,c=!1,p=0;p<o[o.length-1].lines.length;p++){var h=o[o.length-1].lines[p];"\\"==h[0]&&("+"==l[0]?d=!0:"-"==l[0]&&(c=!0)),l=h}if(d){if(c){if(!a&&""==i[i.length-1])return!1}else if(""==i[i.length-1])i.pop();else if(!a)return!1}else if(c)if(""!=i[i.length-1])i.push("");else if(!a)return!1;function m(e,t,n){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=0,c=!1;o<e.length;o++){var u=e[o],f=u.length>0?u[0]:" ",p=u.length>0?u.substr(1):u;if("-"===f){if(!r(t+1,i[t],f,p))return n&&null!=i[t]?(s[l]=i[t],m(e,t+1,n-1,o,!1,s,l+1)):null;t++,d=0}if("+"===f){if(!a)return null;s[l]=p,l++,d=0,c=!0}if(" "===f){if(d++,s[l]=i[t],!r(t+1,i[t],f,p))return c||!n?null:i[t]&&(m(e,t+1,n-1,o+1,!1,s,l+1)||m(e,t+1,n-1,o,!1,s,l+1))||m(e,t,n-1,o+1,!1,s,l);l++,a=!0,c=!1,t++}}return l-=d,t-=d,s.length=l,{patchedLines:s,oldLineLastI:t-1}}for(var v=[],g=0,w=0;w<o.length;w++){for(var _=o[w],b=void 0,y=i.length-_.oldLines+a,k=void 0,x=0;x<=a;x++){for(var C=I(k=_.oldStart+g-1,s,y);void 0!==k&&!(b=m(_.lines,k,x));k=C());if(b)break}if(!b)return!1;for(var S=s;S<k;S++)v.push(i[S]);for(var E=0;E<b.patchedLines.length;E++){var L=b.patchedLines[E];v.push(L)}s=b.oldLineLastI+1,g=k+1-_.oldStart}for(var F=s;F<i.length;F++)v.push(i[F]);return v.join("\n")}function M(e,t,n,i,o,r,a){if(a||(a={}),"function"==typeof a&&(a={callback:a}),void 0===a.context&&(a.context=4),a.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(!a.callback)return l(b(n,i,a));var s=a.callback;function l(n){if(n){n.push({value:"",lines:[]});for(var i=[],s=0,l=0,d=[],c=1,u=1,f=function(){var e,t,o,r=n[p],f=r.lines||(e=r.value,t=e.endsWith("\n"),o=e.split("\n").map((function(e){return e+"\n"})),t?o.pop():o.push(o.pop().slice(0,-1)),o);if(r.lines=f,r.added||r.removed){var h;if(!s){var m=n[p-1];s=c,l=u,m&&(d=a.context>0?w(m.lines.slice(-a.context)):[],s-=d.length,l-=d.length)}(h=d).push.apply(h,F(f.map((function(e){return(r.added?"+":"-")+e})))),r.added?u+=f.length:c+=f.length}else{if(s)if(f.length<=2*a.context&&p<n.length-2){var v;(v=d).push.apply(v,F(w(f)))}else{var g,_=Math.min(f.length,a.context);(g=d).push.apply(g,F(w(f.slice(0,_))));var b={oldStart:s,oldLines:c-s+_,newStart:l,newLines:u-l+_,lines:d};i.push(b),s=0,l=0,d=[]}c+=f.length,u+=f.length}},p=0;p<n.length;p++)f();for(var h=0,m=i;h<m.length;h++)for(var v=m[h],g=0;g<v.lines.length;g++)v.lines[g].endsWith("\n")?v.lines[g]=v.lines[g].slice(0,-1):(v.lines.splice(g+1,0,"\\ No newline at end of file"),g++);return{oldFileName:e,newFileName:t,oldHeader:o,newHeader:r,hunks:i}}function w(e){return e.map((function(e){return" "+e}))}}b(n,i,C(C({},a),{},{callback:function(e){var t=l(e);s(t)}}))}function R(e){if(Array.isArray(e))return e.map(R).join("\n");var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(void 0===e.oldHeader?"":"\t"+e.oldHeader)),t.push("+++ "+e.newFileName+(void 0===e.newHeader?"":"\t"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var i=e.hunks[n];0===i.oldLines&&(i.oldStart-=1),0===i.newLines&&(i.newStart-=1),t.push("@@ -"+i.oldStart+","+i.oldLines+" +"+i.newStart+","+i.newLines+" @@"),t.push.apply(t,i.lines)}return t.join("\n")+"\n"}function $(e,t,n,i,o,r,a){var s;if("function"==typeof a&&(a={callback:a}),null===(s=a)||void 0===s||!s.callback){var l=M(e,t,n,i,o,r,a);if(!l)return;return R(l)}var d=a.callback;M(e,t,n,i,o,r,C(C({},a),{},{callback:function(e){e?d(R(e)):d()}}))}function J(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function B(e){var t=function e(t){var n=0,i=0;return t.forEach((function(t){if("string"!=typeof t){var o=e(t.mine),r=e(t.theirs);void 0!==n&&(o.oldLines===r.oldLines?n+=o.oldLines:n=void 0),void 0!==i&&(o.newLines===r.newLines?i+=o.newLines:i=void 0)}else void 0===i||"+"!==t[0]&&" "!==t[0]||i++,void 0===n||"-"!==t[0]&&" "!==t[0]||n++})),{oldLines:n,newLines:i}}(e.lines),n=t.oldLines,i=t.newLines;void 0!==n?e.oldLines=n:delete e.oldLines,void 0!==i?e.newLines=i:delete e.newLines}function q(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return W(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return M(void 0,void 0,t,e)}return e}function V(e){return e.newFileName&&e.newFileName!==e.oldFileName}function X(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function G(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function U(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function Z(e,t,n,i,o){var r={offset:t,lines:n,index:0},a={offset:i,lines:o,index:0};for(ee(e,r,a),ee(e,a,r);r.index<r.lines.length&&a.index<a.lines.length;){var s=r.lines[r.index],l=a.lines[a.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==l[0]&&"+"!==l[0])if("+"===s[0]&&" "===l[0]){var d;(d=e.lines).push.apply(d,F(ne(r)))}else if("+"===l[0]&&" "===s[0]){var c;(c=e.lines).push.apply(c,F(ne(a)))}else"-"===s[0]&&" "===l[0]?Q(e,r,a):"-"===l[0]&&" "===s[0]?Q(e,a,r,!0):s===l?(e.lines.push(s),r.index++,a.index++):Y(e,ne(r),ne(a));else K(e,r,a)}te(e,r),te(e,a),B(e)}function K(e,t,n){var i,o,r=ne(t),a=ne(n);if(ie(r)&&ie(a)){var s,l;if(J(r,a)&&oe(n,r,r.length-a.length))return void(s=e.lines).push.apply(s,F(r));if(J(a,r)&&oe(t,a,a.length-r.length))return void(l=e.lines).push.apply(l,F(a))}else if(o=a,(i=r).length===o.length&&J(i,o)){var d;return void(d=e.lines).push.apply(d,F(r))}Y(e,r,a)}function Q(e,t,n,i){var o,r=ne(t),a=function(e,t){for(var n=[],i=[],o=0,r=!1,a=!1;o<t.length&&e.index<e.lines.length;){var s=e.lines[e.index],l=t[o];if("+"===l[0])break;if(r=r||" "!==s[0],i.push(l),o++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=e.lines[++e.index];l.substr(1)===s.substr(1)?(n.push(s),e.index++):a=!0}if("+"===(t[o]||"")[0]&&r&&(a=!0),a)return n;for(;o<t.length;)i.push(t[o++]);return{merged:i,changes:n}}(n,r);a.merged?(o=e.lines).push.apply(o,F(a.merged)):Y(e,i?a:r,i?r:a)}function Y(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function ee(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i),t.offset++}}function te(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function ne(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var i=e.lines[e.index];if("-"===n&&"+"===i[0]&&(n="+"),n!==i[0])break;t.push(i),e.index++}return t}function ie(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function oe(e,t,n){for(var i=0;i<n;i++){var o=t[t.length-n+i].substr(1);if(e.lines[e.index+i]!==" "+o)return!1}return e.index+=n,!0}D.tokenize=function(e){return e.slice()},D.join=D.removeEmpty=function(e){return e},e.Diff=t,e.applyPatch=z,e.applyPatches=function(e,t){"string"==typeof e&&(e=W(e));var n=0;!function i(){var o=e[n++];if(!o)return t.complete();t.loadFile(o,(function(e,n){if(e)return t.complete(e);var r=z(n,o,t);t.patched(o,r,(function(e){if(e)return t.complete(e);i()}))}))}()},e.canonicalize=A,e.convertChangesToDMP=function(e){for(var t,n,i=[],o=0;o<e.length;o++)n=(t=e[o]).added?1:t.removed?-1:0,i.push([n,t.value]);return i},e.convertChangesToXML=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push((o=i.value,void 0,o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}var o;return t.join("")},e.createPatch=function(e,t,n,i,o,r){return $(e,e,t,n,i,o,r)},e.createTwoFilesPatch=$,e.diffArrays=function(e,t,n){return D.diff(e,t,n)},e.diffChars=function(e,t,n){return i.diff(e,t,n)},e.diffCss=function(e,t,n){return k.diff(e,t,n)},e.diffJson=function(e,t,n){return N.diff(e,t,n)},e.diffLines=b,e.diffSentences=function(e,t,n){return y.diff(e,t,n)},e.diffTrimmedLines=function(e,t,n){var i=function(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(n,{ignoreWhitespace:!0});return _.diff(e,t,i)},e.diffWords=function(e,t,n){return null==(null==n?void 0:n.ignoreWhitespace)||n.ignoreWhitespace?m.diff(e,t,n):w(e,t,n)},e.diffWordsWithSpace=w,e.formatPatch=R,e.merge=function(e,t,n){e=q(e,n),t=q(t,n);var i={};(e.index||t.index)&&(i.index=e.index||t.index),(e.newFileName||t.newFileName)&&(V(e)?V(t)?(i.oldFileName=X(i,e.oldFileName,t.oldFileName),i.newFileName=X(i,e.newFileName,t.newFileName),i.oldHeader=X(i,e.oldHeader,t.oldHeader),i.newHeader=X(i,e.newHeader,t.newHeader)):(i.oldFileName=e.oldFileName,i.newFileName=e.newFileName,i.oldHeader=e.oldHeader,i.newHeader=e.newHeader):(i.oldFileName=t.oldFileName||e.oldFileName,i.newFileName=t.newFileName||e.newFileName,i.oldHeader=t.oldHeader||e.oldHeader,i.newHeader=t.newHeader||e.newHeader)),i.hunks=[];for(var o=0,r=0,a=0,s=0;o<e.hunks.length||r<t.hunks.length;){var l=e.hunks[o]||{oldStart:1/0},d=t.hunks[r]||{oldStart:1/0};if(G(l,d))i.hunks.push(U(l,a)),o++,s+=l.newLines-l.oldLines;else if(G(d,l))i.hunks.push(U(d,s)),r++,a+=d.newLines-d.oldLines;else{var c={oldStart:Math.min(l.oldStart,d.oldStart),oldLines:0,newStart:Math.min(l.newStart+a,d.oldStart+s),newLines:0,lines:[]};Z(c,l.oldStart,l.lines,d.oldStart,d.lines),r++,o++,i.hunks.push(c)}}return i},e.parsePatch=W,e.reversePatch=function e(t){return Array.isArray(t)?t.map(e).reverse():C(C({},t),{},{oldFileName:t.newFileName,oldHeader:t.newHeader,newFileName:t.oldFileName,newHeader:t.oldHeader,hunks:t.hunks.map((function(e){return{oldLines:e.newLines,oldStart:e.newStart,newLines:e.oldLines,newStart:e.oldStart,lines:e.lines.map((function(e){return e.startsWith("-")?"+".concat(e.slice(1)):e.startsWith("+")?"-".concat(e.slice(1)):e}))}}))})},e.structuredPatch=M}(t)},d81d:function(e,t,n){"use strict";var i=n("23e7"),o=n("b727").map;i({target:"Array",proto:!0,forced:!n("1dde")("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},d90a:function(e,t,n){"use strict";n("114c")}}]);