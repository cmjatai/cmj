(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7378b2b0"],{"0a85":function(e,t,n){},1970:function(e,t,n){"use strict";var s="undefined"!=typeof window?window:null,i=null===s,r=i?void 0:s.document,o=function(){return!1},a=i?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=r.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",c=function(e){return"string"==typeof e||e instanceof String},l=function(e){if(c(e)){var t=r.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},d=function(e,t,n){var s=e[t];return void 0!==s?s:n},u=function(e,t,n,s){if(t){if("end"===s)return 0;if("center"===s)return e/2}else if(n){if("start"===s)return 0;if("center"===s)return e/2}return e},h=function(e,t){var n=r.createElement("div");return n.className="gutter gutter-"+t,n},f=function(e,t,n){var s={};return c(t)?s[e]=t:s[e]=a+"("+t+"% - "+n+"px)",s},p=function(e,t){var n;return(n={})[e]=t+"px",n};t.a=function(e,t){if(void 0===t&&(t={}),i)return{};var n,a,c,m,v,g,_=e;Array.from&&(_=Array.from(_));var y=l(_[0]).parentNode,b=getComputedStyle?getComputedStyle(y):null,S=b?b.flexDirection:null,z=d(t,"sizes")||_.map((function(){return 100/_.length})),E=d(t,"minSize",100),k=Array.isArray(E)?E:_.map((function(){return E})),C=d(t,"maxSize",1/0),O=Array.isArray(C)?C:_.map((function(){return C})),w=d(t,"expandToMin",!1),L=d(t,"gutterSize",10),I=d(t,"gutterAlign","center"),A=d(t,"snapOffset",30),$=Array.isArray(A)?A:_.map((function(){return A})),T=d(t,"dragInterval",1),q=d(t,"direction","horizontal"),x=d(t,"cursor","horizontal"===q?"col-resize":"row-resize"),M=d(t,"gutter",h),N=d(t,"elementStyle",f),j=d(t,"gutterStyle",p);function R(e,t,s,i){var r=N(n,t,s,i);Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}function U(){return g.map((function(e){return e.size}))}function D(e){return"touches"in e?e.touches[0][a]:e[a]}function F(e){var t=g[this.a],n=g[this.b],s=t.size+n.size;t.size=e/this.size*s,n.size=s-e/this.size*s,R(t.element,t.size,this._b,t.i),R(n.element,n.size,this._c,n.i)}function B(e){var n,s=g[this.a],i=g[this.b];this.dragging&&(n=D(e)-this.start+(this._b-this.dragOffset),T>1&&(n=Math.round(n/T)*T),n<=s.minSize+s.snapOffset+this._b?n=s.minSize+this._b:n>=this.size-(i.minSize+i.snapOffset+this._c)&&(n=this.size-(i.minSize+this._c)),n>=s.maxSize-s.snapOffset+this._b?n=s.maxSize+this._b:n<=this.size-(i.maxSize-i.snapOffset+this._c)&&(n=this.size-(i.maxSize+this._c)),F.call(this,n),d(t,"onDrag",o)(U()))}function J(){var e=g[this.a].element,t=g[this.b].element,s=e.getBoundingClientRect(),i=t.getBoundingClientRect();this.size=s[n]+i[n]+this._b+this._c,this.start=s[c],this.end=s[m]}function H(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[v];return 0===n?null:n-="horizontal"===q?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(y);if(null===t)return e;if(k.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,s=[],i=e.map((function(i,r){var o=t*i/100,a=u(L,0===r,r===e.length-1,I),c=k[r]+a;return o<c?(n+=c-o,s.push(0),c):(s.push(o-c),o)}));return 0===n?e:i.map((function(e,i){var r=e;if(n>0&&s[i]-n>0){var o=Math.min(n,s[i]-n);n-=o,r=e-o}return r/t*100}))}function P(){var e=g[this.a].element,n=g[this.b].element;this.dragging&&d(t,"onDragEnd",o)(U()),this.dragging=!1,s.removeEventListener("mouseup",this.stop),s.removeEventListener("touchend",this.stop),s.removeEventListener("touchcancel",this.stop),s.removeEventListener("mousemove",this.move),s.removeEventListener("touchmove",this.move),this.stop=null,this.move=null,e.removeEventListener("selectstart",o),e.removeEventListener("dragstart",o),n.removeEventListener("selectstart",o),n.removeEventListener("dragstart",o),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",this.gutter.style.cursor="",this.parent.style.cursor="",r.body.style.cursor=""}function Q(e){if(!("button"in e)||0===e.button){var n=g[this.a].element,i=g[this.b].element;this.dragging||d(t,"onDragStart",o)(U()),e.preventDefault(),this.dragging=!0,this.move=B.bind(this),this.stop=P.bind(this),s.addEventListener("mouseup",this.stop),s.addEventListener("touchend",this.stop),s.addEventListener("touchcancel",this.stop),s.addEventListener("mousemove",this.move),s.addEventListener("touchmove",this.move),n.addEventListener("selectstart",o),n.addEventListener("dragstart",o),i.addEventListener("selectstart",o),i.addEventListener("dragstart",o),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",this.gutter.style.cursor=x,this.parent.style.cursor=x,r.body.style.cursor=x,J.call(this),this.dragOffset=D(e)-this.end}}"horizontal"===q?(n="width",a="clientX",c="left",m="right",v="clientWidth"):"vertical"===q&&(n="height",a="clientY",c="top",m="bottom",v="clientHeight"),z=H(z);var X=[];function G(e){var t=e.i===X.length,n=t?X[e.i-1]:X[e.i];J.call(n);var s=t?n.size-e.minSize-n._c:e.minSize+n._b;F.call(n,s)}return(g=_.map((function(e,t){var s,i={element:l(e),size:z[t],minSize:k[t],maxSize:O[t],snapOffset:$[t],i:t};if(t>0&&((s={a:t-1,b:t,dragging:!1,direction:q,parent:y})._b=u(L,t-1==0,!1,I),s._c=u(L,!1,t===_.length-1,I),"row-reverse"===S||"column-reverse"===S)){var r=s.a;s.a=s.b,s.b=r}if(t>0){var o=M(t,q,i.element);!function(e,t,s){var i=j(n,t,s);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}(o,L,t),s._a=Q.bind(s),o.addEventListener("mousedown",s._a),o.addEventListener("touchstart",s._a),y.insertBefore(o,i.element),s.gutter=o}return R(i.element,i.size,u(L,0===t,t===_.length-1,I),t),t>0&&X.push(s),i}))).forEach((function(e){var t=e.element.getBoundingClientRect()[n];t<e.minSize&&(w?G(e):e.minSize=t)})),{setSizes:function(e){var t=H(e);t.forEach((function(e,n){if(n>0){var s=X[n-1],i=g[s.a],r=g[s.b];i.size=t[n-1],r.size=e,R(i.element,i.size,s._b,i.i),R(r.element,r.size,s._c,r.i)}}))},getSizes:U,collapse:function(e){G(g[e])},destroy:function(e,t){X.forEach((function(s){if(!0!==t?s.parent.removeChild(s.gutter):(s.gutter.removeEventListener("mousedown",s._a),s.gutter.removeEventListener("touchstart",s._a)),!0!==e){var i=N(n,s.a.size,s._b);Object.keys(i).forEach((function(e){g[s.a].element.style[e]="",g[s.b].element.style[e]=""}))}}))},parent:y,pairs:X}}},"1cd6":function(e,t,n){"use strict";n("d2d3")},"38a5":function(e,t,n){"use strict";n("99af");var s=n("8833").a,i=(n("d8ec"),n("2877")),r=Object(i.a)(s,(function(){var e=this,t=e._self._c;return t("div",{class:["node-element",null!==e.node&&0===e.node.count_childs?"type-content":"",null!==e.node&&e.node.id===parseInt(e.nodechild_params)?"active":""]},[e.node?t("div",{class:["node-titulo","level-".concat(e.level)]},[t("span",{staticClass:"spacer"}),0!==e.node.count_childs?t("span",{staticClass:"toggle",on:{click:e.clickToggle}},[e.is_opened&&e.childs?e._e():t("i",{staticClass:"fas fa-chevron-right"}),e.is_opened&&e.childs?t("i",{staticClass:"fas fa-chevron-down"}):e._e()]):e._e(),t("span",{staticClass:"content"},[t("router-link",{attrs:{to:{name:"arqchildroute",params:{node:e.node_params,nodechild:e.node.id}}},nativeOn:{click:function(t){return e.clickRoute.apply(null,arguments)}}},[e._v(" "+e._s(e.node.id)+" - "+e._s(e.node.titulo)+" ")]),t("div",{staticClass:"btn-group btn-group-sm el-actions"},[t("a",{staticClass:"btn btn-link",attrs:{href:"/arqadmin/classe/".concat(e.node.id,"/edit"),target:"_blank"}},[t("i",{staticClass:"fas fa-edit"})]),t("a",{staticClass:"btn btn-link",attrs:{href:"/arq/".concat(e.node.id,"/").concat(e.node.id)}},[t("i",{staticClass:"fas fa-expand"})])]),t("small",{staticClass:"box-descricao",domProps:{innerHTML:e._s(e.descricao_html)}})],1)]):e._e(),e._l(e.childs,(function(n,s){return t("node-layout",{key:"class-".concat(s),attrs:{elemento:n,parent:e.elemento,level:e.level+1}})}))],2)}),[],!1,null,null,null);t.a=r.exports},8833:function(e,t,n){"use strict";(function(e){n("ac1f"),n("5319"),n("99af");t.a={name:"node-layout",props:["parent","elemento","level"],data:function(){return{childs:{},is_opened:!1,node_params:this.$route.params.node,nodechild_params:this.$route.params.nodechild,node:null,node_key_localstorage:"portalcmj_arqnode_tree_opened",click_title:!1,ARQCLASSE_FISICA:100,ARQCLASSE_LOGICA:200}},mounted:function(){this.reload()},computed:{descricao_html:function(){var e=this.node.descricao;return e=(e=e.replace("\r\n","<br>")).replace("\n","<br>"),"<strong>".concat(this.node.conta,"</strong> - <strong>").concat(this.node.titulo,"</strong><br><i>").concat(e,"</i>")}},watch:{is_opened:function(t,n){t?(this.fetch(1,"&get_all=True&parent=".concat(this.node.id)),localStorage.addArrayOfIds(this.node_key_localstorage,this.node.id)):(this.$set(this,"childs",{}),e.isEmpty(this.node)||localStorage.delItemArrayOfIds(this.node_key_localstorage,this.node.id))},$route:function(e,t){var n=this;n.node_params=e.params.node,n.nodechild_params=e.params.nodechild,n.$nextTick().then((function(){n.openIfInArrayOfIds()}))}},methods:{clickRoute:function(){this.click_title?this.clickToggle():this.click_title=!0},clickToggle:function(){this.is_opened=!this.is_opened},openIfInArrayOfIds:function(){e.isEmpty(this.node)||this.is_opened||!localStorage.inArrayOfIds(this.node_key_localstorage,this.node.id)||(this.is_opened=!0,this.fetch(1,"&get_all=True&parent=".concat(this.node.id)))},reload:function(){var e=this;e.node=e.elemento||null,"root"===e.node_params&&void 0===e.elemento?e.fetch(1,"&get_all=True&parent__isnull=True"):void 0===this.elemento?e.fetchElemento(e.node_params).then((function(){e.fetch(1,"&get_all=True&parent=".concat(e.node_params)).then((function(){e.clickToggle()}))})):e.openIfInArrayOfIds()},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=this;return s.$set(s,"childs",{}),s.utils.getModelOrderedList("arq","arqclasse","titulo",t,n).then((function(t){e.each(t.data,(function(e,t){s.$set(s.childs,e.id,e)}))})).catch((function(e){return s.sendMessage({alert:"danger",message:"Não foi possível recuperar os sub itens...",time:5})}))},fetchElemento:function(e){var t=this;return t.utils.getModel("arq","arqclasse",e).then((function(e){return t.node=e.data,e})).catch((function(e){return t.sendMessage({alert:"danger",message:"Não foi possível recuperar node...",time:5})}))}}}}).call(this,n("2ef0"))},b0c0:function(e,t,n){"use strict";var s=n("83ab"),i=n("5e77").EXISTS,r=n("e330"),o=n("edd0"),a=Function.prototype,c=r(a.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=r(l.exec);s&&!i&&o(a,"name",{configurable:!0,get:function(){try{return d(l,c(this))[1]}catch(e){return""}}})},b6bc:function(e,t,n){"use strict";n.r(t);var s=n("ea4f").a,i=(n("1cd6"),n("2877")),r=Object(i.a)(s,(function(){var e=this._self._c;return e("div",{staticClass:"container-fluid container-arqtree"},[e("div",{staticClass:"row"},[e("div",{attrs:{id:"col-classes"}},[e("div",{staticClass:"arqtree-inner"},[e("div",{staticClass:"arqtree-titulo"},[e("span",{staticClass:"collapse-all",on:{click:this.clickCollapseAll}},[e("i",{staticClass:"fas fa-chevron-left"}),e("i",{staticClass:"fas fa-chevron-left"})]),e("h1",[this._v("ArqView")])]),e("node-layout",{ref:"noderoot",attrs:{level:0}})],1)]),e("div",{attrs:{id:"col-docs"}},[e("router-view",{key:this.$route.fullPath,ref:"selectednode",on:{checkIsOpenedNodesTree:this.checkIsOpenedNodesTree}})],1)])])}),[],!1,null,null,null);t.default=r.exports},d2d3:function(e,t,n){},d8ec:function(e,t,n){"use strict";n("0a85")},ea4f:function(e,t,n){"use strict";(function(e){n("b0c0"),n("14d9"),n("b64b"),n("e9c4");var s=n("38a5"),i=n("1970");t.a={name:"admin-layout",components:{NodeLayout:s.a},data:function(){return{node_key_localstorage:"portalcmj_arqnode_tree_opened",check_opened:0}},watch:{$route:function(e,t){"arqchildroute"===e.name&&e.params.node!==t.params.node&&(this.$refs.noderoot.node_params=e.params.node,this.$refs.noderoot.nodechild_params=e.params.nodechild,this.$refs.noderoot.reload())}},methods:{checkIsOpenedNodesTree:function(){this.check_opened+=1},clickCollapseAll:function(){if(this.$refs.noderoot.is_opened)localStorage.clearArrayOfIds(this.node_key_localstorage),this.$refs.noderoot.is_opened=!1;else{var t=this.$refs.noderoot.node,n="";n=null!==t&&null!==t.parent?t.parent:"root";var s=this.$refs.selectednode;if(e.isEmpty(s)||e.isEmpty(s.classe)||null==s.classe.parent)if(!e.isEmpty(t)&&t.id!==n||void 0!==this.$route.params.nodechild){var i="arqadminroute",r={node:n};"root"!==n&&(r.nodechild=n,i="arqchildroute"),this.$router.push({name:i,params:r})}else localStorage.clearArrayOfIds(this.node_key_localstorage),this.$refs.noderoot.reload(),this.sendMessage({alert:"danger",message:"Topo atingido!",time:2});else{var o={node:n,nodechild:s.classe.parent};localStorage.delItemArrayOfIds(this.node_key_localstorage,s.classe.parent),this.$router.push({name:"arqchildroute",params:o})}}}},mounted:function(){var e=localStorage.getItem("split-sizes");e?(e=JSON.parse(e))[0]+e[1]>100&&(e=[35,65]):e=[35,65],console.log(e[0]+e[1]),Object(i.a)(["#col-classes","#col-docs"],{minSize:350,sizes:e,onDragEnd:function(e){localStorage.setItem("split-sizes",JSON.stringify(e))}})}}}).call(this,n("2ef0"))}}]);