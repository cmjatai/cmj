(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-97172720"],{1970:function(e,t,n){"use strict";var i="undefined"!=typeof window?window:null,s=null===i,r=s?void 0:i.document,o=function(){return!1},a=s?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=r.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",l=function(e){return"string"==typeof e||e instanceof String},c=function(e){if(l(e)){var t=r.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},u=function(e,t,n){var i=e[t];return void 0!==i?i:n},d=function(e,t,n,i){if(t){if("end"===i)return 0;if("center"===i)return e/2}else if(n){if("start"===i)return 0;if("center"===i)return e/2}return e},h=function(e,t){var n=r.createElement("div");return n.className="gutter gutter-"+t,n},f=function(e,t,n){var i={};return l(t)?i[e]=t:i[e]=a+"("+t+"% - "+n+"px)",i},m=function(e,t){var n;return(n={})[e]=t+"px",n};t.a=function(e,t){if(void 0===t&&(t={}),s)return{};var n,a,l,p,v,g,_=e;Array.from&&(_=Array.from(_));var y=c(_[0]).parentNode,b=getComputedStyle?getComputedStyle(y):null,z=b?b.flexDirection:null,S=u(t,"sizes")||_.map((function(){return 100/_.length})),E=u(t,"minSize",100),w=Array.isArray(E)?E:_.map((function(){return E})),k=u(t,"maxSize",1/0),L=Array.isArray(k)?k:_.map((function(){return k})),C=u(t,"expandToMin",!1),O=u(t,"gutterSize",10),$=u(t,"gutterAlign","center"),A=u(t,"snapOffset",30),x=Array.isArray(A)?A:_.map((function(){return A})),M=u(t,"dragInterval",1),T=u(t,"direction","horizontal"),q=u(t,"cursor","horizontal"===T?"col-resize":"row-resize"),j=u(t,"gutter",h),I=u(t,"elementStyle",f),U=u(t,"gutterStyle",m);function D(e,t,i,s){var r=I(n,t,i,s);Object.keys(r).forEach((function(t){e.style[t]=r[t]}))}function N(){return g.map((function(e){return e.size}))}function B(e){return"touches"in e?e.touches[0][a]:e[a]}function F(e){var t=g[this.a],n=g[this.b],i=t.size+n.size;t.size=e/this.size*i,n.size=i-e/this.size*i,D(t.element,t.size,this._b,t.i),D(n.element,n.size,this._c,n.i)}function J(e){var n,i=g[this.a],s=g[this.b];this.dragging&&(n=B(e)-this.start+(this._b-this.dragOffset),M>1&&(n=Math.round(n/M)*M),n<=i.minSize+i.snapOffset+this._b?n=i.minSize+this._b:n>=this.size-(s.minSize+s.snapOffset+this._c)&&(n=this.size-(s.minSize+this._c)),n>=i.maxSize-i.snapOffset+this._b?n=i.maxSize+this._b:n<=this.size-(s.maxSize-s.snapOffset+this._c)&&(n=this.size-(s.maxSize+this._c)),F.call(this,n),u(t,"onDrag",o)(N()))}function R(){var e=g[this.a].element,t=g[this.b].element,i=e.getBoundingClientRect(),s=t.getBoundingClientRect();this.size=i[n]+s[n]+this._b+this._c,this.start=i[l],this.end=i[p]}function H(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[v];return 0===n?null:n-="horizontal"===T?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(y);if(null===t)return e;if(w.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,i=[],s=e.map((function(s,r){var o=t*s/100,a=d(O,0===r,r===e.length-1,$),l=w[r]+a;return o<l?(n+=l-o,i.push(0),l):(i.push(o-l),o)}));return 0===n?e:s.map((function(e,s){var r=e;if(n>0&&i[s]-n>0){var o=Math.min(n,i[s]-n);n-=o,r=e-o}return r/t*100}))}function P(){var e=g[this.a].element,n=g[this.b].element;this.dragging&&u(t,"onDragEnd",o)(N()),this.dragging=!1,i.removeEventListener("mouseup",this.stop),i.removeEventListener("touchend",this.stop),i.removeEventListener("touchcancel",this.stop),i.removeEventListener("mousemove",this.move),i.removeEventListener("touchmove",this.move),this.stop=null,this.move=null,e.removeEventListener("selectstart",o),e.removeEventListener("dragstart",o),n.removeEventListener("selectstart",o),n.removeEventListener("dragstart",o),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",this.gutter.style.cursor="",this.parent.style.cursor="",r.body.style.cursor=""}function W(e){if(!("button"in e)||0===e.button){var n=g[this.a].element,s=g[this.b].element;this.dragging||u(t,"onDragStart",o)(N()),e.preventDefault(),this.dragging=!0,this.move=J.bind(this),this.stop=P.bind(this),i.addEventListener("mouseup",this.stop),i.addEventListener("touchend",this.stop),i.addEventListener("touchcancel",this.stop),i.addEventListener("mousemove",this.move),i.addEventListener("touchmove",this.move),n.addEventListener("selectstart",o),n.addEventListener("dragstart",o),s.addEventListener("selectstart",o),s.addEventListener("dragstart",o),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",s.style.userSelect="none",s.style.webkitUserSelect="none",s.style.MozUserSelect="none",s.style.pointerEvents="none",this.gutter.style.cursor=q,this.parent.style.cursor=q,r.body.style.cursor=q,R.call(this),this.dragOffset=B(e)-this.end}}"horizontal"===T?(n="width",a="clientX",l="left",p="right",v="clientWidth"):"vertical"===T&&(n="height",a="clientY",l="top",p="bottom",v="clientHeight"),S=H(S);var X=[];function Y(e){var t=e.i===X.length,n=t?X[e.i-1]:X[e.i];R.call(n);var i=t?n.size-e.minSize-n._c:e.minSize+n._b;F.call(n,i)}return(g=_.map((function(e,t){var i,s={element:c(e),size:S[t],minSize:w[t],maxSize:L[t],snapOffset:x[t],i:t};if(t>0&&((i={a:t-1,b:t,dragging:!1,direction:T,parent:y})._b=d(O,t-1==0,!1,$),i._c=d(O,!1,t===_.length-1,$),"row-reverse"===z||"column-reverse"===z)){var r=i.a;i.a=i.b,i.b=r}if(t>0){var o=j(t,T,s.element);!function(e,t,i){var s=U(n,t,i);Object.keys(s).forEach((function(t){e.style[t]=s[t]}))}(o,O,t),i._a=W.bind(i),o.addEventListener("mousedown",i._a),o.addEventListener("touchstart",i._a),y.insertBefore(o,s.element),i.gutter=o}return D(s.element,s.size,d(O,0===t,t===_.length-1,$),t),t>0&&X.push(i),s}))).forEach((function(e){var t=e.element.getBoundingClientRect()[n];t<e.minSize&&(C?Y(e):e.minSize=t)})),{setSizes:function(e){var t=H(e);t.forEach((function(e,n){if(n>0){var i=X[n-1],s=g[i.a],r=g[i.b];s.size=t[n-1],r.size=e,D(s.element,s.size,i._b,s.i),D(r.element,r.size,i._c,r.i)}}))},getSizes:N,collapse:function(e){Y(g[e])},destroy:function(e,t){X.forEach((function(i){if(!0!==t?i.parent.removeChild(i.gutter):(i.gutter.removeEventListener("mousedown",i._a),i.gutter.removeEventListener("touchstart",i._a)),!0!==e){var s=I(n,i.a.size,i._b);Object.keys(s).forEach((function(e){g[i.a].element.style[e]="",g[i.b].element.style[e]=""}))}}))},parent:y,pairs:X}}},"2fa0":function(e,t,n){},"38a5":function(e,t,n){"use strict";var i=n("42ca").a,s=(n("bfe3"),n("2877")),r=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["node-element",null!==e.node&&1===e.node.perfil?"type-content":""]},[e.node?n("div",{class:["node-titulo","level-"+e.level]},[n("span",{staticClass:"spacer"}),1!==e.node.perfil?n("span",{staticClass:"toggle",on:{click:e.clickToggle}},[e.is_opened&&e.childs?e._e():n("i",{staticClass:"fas fa-chevron-right"}),e.is_opened&&e.childs?n("i",{staticClass:"fas fa-chevron-down"}):e._e()]):e._e(),n("span",{staticClass:"content"},[n("router-link",{attrs:{to:{name:"childroute",params:{node:e.node_params,nodechild:e.node.id}}}},[e._v(e._s(e.node.titulo))]),n("div",{staticClass:"btn-group btn-group-sm el-actions"},[n("a",{staticClass:"btn btn-link",attrs:{href:"/arq/"+e.node.id}},[n("i",{staticClass:"fas fa-expand"})])]),e.node.descricao?n("small",{domProps:{innerHTML:e._s(e.descricao_html)}}):e._e()],1)]):e._e(),e._l(e.childs,(function(t,i){return n("node-layout",{key:"class-"+i,attrs:{elemento:t,parent:e.elemento,level:e.level+1}})}))],2)}),[],!1,null,null,null);t.a=r.exports},"42ca":function(e,t,n){"use strict";(function(e){n("ac1f"),n("5319"),n("99af");t.a={name:"node-layout",props:["parent","elemento","level"],data:function(){return{childs:{},is_opened:!1,node_params:this.$route.params.node,nodechild_params:this.$route.params.nodechild,node:null,node_key_localstorage:"portalcmj_arqnode_tree_opened"}},mounted:function(){this.reload()},computed:{descricao_html:function(){var e=this.node.descricao;return e=(e=e.replace("\r\n","<br>")).replace("\n","<br>"),"".concat(e," - ").concat(this.node.id)}},watch:{is_opened:function(e,t){e?(this.fetch(1,"&get_all=True&parent=".concat(this.node.id)),localStorage.addArrayOfIds(this.node_key_localstorage,this.node.id)):(this.$set(this,"childs",{}),localStorage.delItemArrayOfIds(this.node_key_localstorage,this.node.id))}},methods:{clickToggle:function(){this.is_opened=!this.is_opened},reload:function(){var e=this;e.node=e.elemento||null,"root"===e.node_params&&void 0===e.elemento?e.fetch(1,"&get_all=True&parent__isnull=True"):void 0===this.elemento?e.fetchElemento(e.node_params).then((function(){e.fetch(1,"&get_all=True&parent=".concat(e.node_params)).then((function(){e.clickToggle()}))})):localStorage.inArrayOfIds(this.node_key_localstorage,this.node.id)&&(this.is_opened=!0,this.fetch(1,"&get_all=True&parent=".concat(this.node.id)))},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this;return i.$set(i,"childs",{}),i.utils.getModelOrderedList("arq","arqclasse","titulo",t,n).then((function(t){e.each(t.data,(function(e,t){i.$set(i.childs,e.id,e)}))})).catch((function(e){return i.sendMessage({alert:"danger",message:"Não foi possível recuperar os sub itens...",time:5})}))},fetchElemento:function(e){var t=this;return t.utils.getModel("arq","arqclasse",e).then((function(e){return t.node=e.data,e})).catch((function(e){return t.sendMessage({alert:"danger",message:"Não foi possível recuperar node...",time:5})}))}}}}).call(this,n("2ef0"))},a729:function(e,t,n){},b6bc:function(e,t,n){"use strict";n.r(t);var i=n("e4b7").a,s=(n("be46"),n("2877")),r=Object(s.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container-fluid container-arqtree"},[t("div",{staticClass:"row"},[t("div",{attrs:{id:"col-classes"}},[t("div",{staticClass:"arqtree-inner"},[t("div",{staticClass:"arqtree-titulo"},[t("span",{staticClass:"collapse-all",on:{click:this.clickCollapseAll}},[t("i",{staticClass:"fas fa-chevron-left"}),t("i",{staticClass:"fas fa-chevron-left"})]),t("h1",[this._v("ArqAdmin")])]),t("node-layout",{ref:"noderoot",attrs:{level:0}})],1)]),t("div",{attrs:{id:"col-docs"}},[t("router-view",{key:this.$route.fullPath})],1)])])}),[],!1,null,null,null);t.default=r.exports},be46:function(e,t,n){"use strict";n("a729")},bfe3:function(e,t,n){"use strict";n("2fa0")},e4b7:function(e,t,n){"use strict";(function(e){n("e9c4");var i=n("38a5"),s=n("1970");t.a={name:"admin-layout",components:{NodeLayout:i.a},watch:{$route:function(e,t){this.$refs.noderoot.node_params=this.$route.params.node,this.$refs.noderoot.nodechild_params=this.$route.params.nodechild,this.$refs.noderoot.reload()}},methods:{clickCollapseAll:function(){if(this.$refs.noderoot.is_opened)localStorage.clearArrayOfIds("portalcmj_arqnode_tree_opened"),this.$refs.noderoot.reload();else{var t=this.$refs.noderoot.node,n="";n=null!==t&&null!==t.parent?t.parent:"root",!e.isEmpty(t)&&t.id!==n||void 0!==this.$route.params.nodechild?this.$router.push({name:"adminroute",params:{node:n}}):this.sendMessage({alert:"danger",message:"Topo atingido!",time:2})}}},mounted:function(){var e=localStorage.getItem("split-sizes");e=e?JSON.parse(e):[50,50],Object(s.a)(["#col-classes","#col-docs"],{minSize:350,sizes:e,onDragEnd:function(e){localStorage.setItem("split-sizes",JSON.stringify(e))}})}}}).call(this,n("2ef0"))}}]);