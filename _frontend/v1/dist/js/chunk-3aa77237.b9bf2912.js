(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3aa77237"],{"3f1b":function(e,t,a){"use strict";a("c47a")},"4df4":function(e,t,a){"use strict";var s=a("0366"),i=a("c65b"),c=a("7b0b"),r=a("9bdd"),n=a("e95a"),o=a("68ee"),l=a("07fa"),d=a("8418"),u=a("9a1f"),p=a("35a1"),f=Array;e.exports=function(e){var t=c(e),a=o(this),h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v;m&&(v=s(v,h>2?arguments[2]:void 0));var _,g,b,C,q,w,k=p(t),y=0;if(!k||this===f&&n(k))for(_=l(t),g=a?new this(_):f(_);_>y;y++)w=m?v(t[y],y):t[y],d(g,y,w);else for(q=(C=u(t,k)).next,g=a?new this:[];!(b=i(q,C)).done;y++)w=m?r(C,v,[b.value,y],!0):b.value,d(g,y,w);return g.length=y,g}},"4eca":function(e,t,a){"use strict";(function(e){a("99af"),a("ac1f"),a("5319");var s=a("de88");t.a={name:"doc-list-layout",components:{ArqDocItem:s.a},data:function(){return{params_node:this.$route.params.node,params_nodechild:this.$route.params.nodechild,classe:null,node_key_localstorage:"portalcmj_arqnode_tree_opened",arqdocs:{},ARQCLASSE_FISICA:100,ARQCLASSE_LOGICA:200}},mounted:function(){var t=this;t.fetchClasse().then((function(a){e.each(t.classe.parents,(function(e,a){localStorage.addArrayOfIds(t.node_key_localstorage,e.id)})),t.$emit("checkIsOpenedNodesTree");var s=t.classe.perfil===t.ARQCLASSE_FISICA?"classe_estrutural":"classe_logica";t.fetch(1,"&get_all=True&".concat(s,"=").concat(t.classe.id))}))},computed:{arqdocs_ordered:{get:function(){return e.orderBy(this.arqdocs,["id"],["desc"])}},descricao_html:function(){var e=this.classe.descricao;return e=(e=e.replace("\r\n","<br>")).replace("\n","<br>")}},methods:{clickItemBreadCrumb:function(){this.$refs.noderoot.reload()},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=this;return s.$set(s,"arqdocs",{}),s.utils.getModelOrderedList("arq","arqdoc","-data",t,a).then((function(t){e.each(t.data,(function(e,t){s.$set(s.arqdocs,e.id,e)}))})).catch((function(e){return s.sendMessage({alert:"danger",message:"Não foi possível recuperar os documentos...",time:5})}))},fetchClasse:function(){var e=this;return"root"===e.params_nodechild?null:e.utils.getModel("arq","arqclasse",e.params_nodechild).then((function(t){return e.classe=t.data,t})).catch((function(t){return e.sendMessage({alert:"danger",message:"Não foi possível recuperar classe selecionada...",time:5})}))}}}}).call(this,a("2ef0"))},"94e9":function(e,t,a){"use strict";a.r(t);var s=a("4eca").a,i=(a("9959"),a("2877")),c=Object(i.a)(s,(function(){var e=this,t=e._self._c;return e.classe?t("div",{staticClass:"doclist-layout container-fluid"},[e.classe.parents?t("nav",{attrs:{"aria-label":"breadcrumb"}},[t("ol",{staticClass:"breadcrumb"},e._l(e.classe.parents,(function(a,s){return t("li",{key:"cp-".concat(s),staticClass:"breadcrumb-item"},[t("router-link",{attrs:{to:{name:"arqchildroute",params:{node:s>0?e.classe.parents[s-1].id:"root",nodechild:a.id}}},nativeOn:{click:function(t){return e.clickItemBreadCrumb.apply(null,arguments)}}},[e._v(" "+e._s(a.titulo)+" ")])],1)})),0)]):e._e(),t("div",{staticClass:"row-fluid"},[t("div",{staticClass:"col"},[t("h2",[e._v(e._s(e.classe.titulo))]),t("small",{domProps:{innerHTML:e._s(e.descricao_html)}}),t("div",{staticClass:"inner-list"},e._l(e.arqdocs_ordered,(function(a,s){return t("arq-doc-item",{key:"ad-".concat(s),attrs:{arqdoc:a,classe:e.classe}},[e._v(" "+e._s(a.titulo)+" ")])})),1),t("div",{staticClass:"text-info"},[e._v("TODO: implementar paginação")])]),t("div",{staticClass:"col-3 d-none"},[t("div",{staticClass:"classechild"},[t("h4",[e._v(" Subclasses de "+e._s(e.classe.titulo)+" ")]),e._v(" "+e._s(e.params_node)+" - "+e._s(e.params_nodechild)+" ")])])])]):e._e()}),[],!1,null,null,null);t.default=c.exports},9959:function(e,t,a){"use strict";a("e5bb")},"9bdd":function(e,t,a){"use strict";var s=a("825a"),i=a("2a62");e.exports=function(e,t,a,c){try{return c?t(s(a)[0],a[1]):t(a)}catch(t){i(e,"throw",t)}}},c47a:function(e,t,a){},de88:function(e,t,a){"use strict";a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("88a7"),a("271a"),a("5494"),a("a15b");var s=a("bc3a"),i=a.n(s),c={name:"arq-doc-item",props:["arqdoc","classe"],data:function(){return{imgdisplay:!1,img_src:null,dpi:72,page:1}},watch:{dpi:function(e,t){this.img_src="".concat(this.arqdoc.arquivo,"?page=").concat(this.page,"&dpi=").concat(e)},page:function(e,t){this.img_src="".concat(this.arqdoc.arquivo,"?page=").concat(e,"&dpi=").concat(this.dpi)},img_src:function(e,t){var a=this;a.imgdisplay=!0,a.$nextTick((function(){a.$refs.imgpreview.src=e}))},img_src__blob:function(e,t){var a=this;i()({url:e,method:"GET",responseType:"blob"}).then((function(e){return a.imgdisplay=!0,e})).then((function(e){var t=new Blob([e.data],{type:"image/png"}),s=(window.URL||window.webkitURL).createObjectURL(t);a.$refs.imgpreview.src=s})).catch((function(e){a.page>1?(a.page-=1,a.sendMessage({alert:"info",message:"Esta é a última página.",time:2})):a.sendMessage({alert:"info",message:"Esta é a primeira página.",time:2})}))}},computed:{data_computed:function(){return this.arqdoc.data.split("-").reverse().join("/")},created_computed:function(){return new Date(this.arqdoc.created).toLocaleString()}},methods:{loadPreview:function(e){this.$refs.preview_actions.style.display="flex"},errorPreview:function(e){this.page>1?(this.page-=1,this.sendMessage({alert:"info",message:"Esta é a última página.",time:2})):this.sendMessage({alert:"info",message:"Esta é a primeira página.",time:2})},clickPrevious:function(e){this.page>1&&(this.page-=1)},clickNext:function(e){this.page+=1},mouseMove:function(e){null===this.img_src&&(this.img_src="".concat(this.arqdoc.arquivo,"?page=").concat(this.page,"&dpi=").concat(this.dpi));var t=(e.offsetX+30)/this.$vnode.elm.offsetWidth;t>.7&&(t=.7),e.target.closest(".inner-preview")||(this.$refs.preview.style.top="".concat(-100*t/1.7,"vh"),this.$refs.preview.style.bottom="".concat(-100*t/1.7,"vh")),t>.5&&(this.dpi=300)}},mounted:function(){}},r=(a("3f1b"),a("2877")),n=Object(r.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"arq-doc-item",on:{mousemove:e.mouseMove}},[t("div",{staticClass:"inner"},[t("div",{staticClass:"titulo"},[t("a",{attrs:{href:e.arqdoc.arquivo,target:"_blank"}},[e._v(e._s(e.arqdoc.titulo))])]),t("div",{staticClass:"descricao",domProps:{innerHTML:e._s(e.arqdoc.descricao)}}),t("div",{staticClass:"rodape"},[t("span",{staticClass:"data"},[e._v(" Data do Documento: "+e._s(e.data_computed)+" ")]),t("span",{staticClass:"created"},[e._v(" Inclusão no ArqDoc: "+e._s(e.created_computed)+" ")])]),e._m(0),t("div",{ref:"preview",staticClass:"inner-preview"},[e.imgdisplay?t("img",{ref:"imgpreview",on:{error:e.errorPreview,load:e.loadPreview}}):e._e(),t("div",{ref:"preview_actions",staticClass:"actions"},[t("a",{staticClass:"previous",on:{click:e.clickPrevious}},[t("i",{staticClass:"fas fa-chevron-left"})]),t("a",{staticClass:"next",on:{click:e.clickNext}},[t("i",{staticClass:"fas fa-chevron-right"})])])])])])}),[function(){var e=this._self._c;return e("div",{staticClass:"rodape"},[e("span",{staticClass:"text-info"},[this._v("TODO: se acessado via "),e("strong",[this._v("localização física")]),this._v(", mostrar aqui a "),e("strong",[this._v("localização lógica")]),this._v(" e viceversa")])])}],!1,null,null,null);t.a=n.exports},e5bb:function(e,t,a){}}]);