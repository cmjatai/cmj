"use strict";(self["webpackChunkPortalCMJ_Frontend_v2018"]=self["webpackChunkPortalCMJ_Frontend_v2018"]||[]).push([[4366],{4366:function(t,s,e){e.d(s,{A:function(){return m}});e(4423),e(1699);var a=function(){var t=this,s=t._self._c;return s("div",{class:["cronometro-component",t.css_class]},[t.cronometro?s("div",{class:["croncard",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""]},[s("div",{staticClass:"inner"},[s("div",{class:["display-time",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""],style:{fontSize:t.display_size}},[t._v(" "+t._s(t.displayTime)+" ")]),s("div",{staticClass:"inner-rodape"},["elapsed"===t.display?s("div",[s("small",[t._v("Tempo Decorrido")])]):"remaining"===t.display?s("div",[t.cronometro.remaining_time<0?s("small",[t._v("Tempo Excedido")]):s("small",[t._v("Tempo Restante")])]):"last_paused"===t.display?s("div",[s("small",[t._v("Tempo de Suspensão")])]):t._e()])]),t.css_class_controls?s("div",{class:["controls",t.css_class_controls]},[s("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"First group"}},[t.controls.includes("toggleDisplay")?s("a",{staticClass:"btn btn-outline-dark btn-toggle",attrs:{title:"Alternar exibição"},on:{click:function(s){return s.stopPropagation(),t.toogleDisplay.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-exchange-alt",attrs:{"aria-hidden":"true"}})]):t._e(),"stopped"===t.cronometro.state&&t.controls.includes("start")?s("a",{staticClass:"btn btn-outline-dark btn-start",on:{click:function(s){return s.stopPropagation(),t.startCronometro.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),"running"===t.cronometro.state&&t.controls.includes("pause")?s("a",{staticClass:"btn btn-outline-dark btn-pause",on:{click:function(s){return s.stopPropagation(),t.pauseCronometro.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})]):t._e(),"paused"===t.cronometro.state&&t.controls.includes("resume")?s("a",{staticClass:"btn btn-outline-dark btn-resume",on:{click:function(s){return s.stopPropagation(),t.resumeCronometro.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),["running","paused"].includes(t.cronometro.state)&&t.controls.includes("stop")?s("a",{staticClass:"btn btn-outline-dark btn-stop",on:{click:function(s){return s.stopPropagation(),t.stopCronometro.apply(null,arguments)}}},[s("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):t._e(),t.controls.includes("add1m")?s("a",{staticClass:"btn btn-outline-dark btn-negative btn-add1m",attrs:{title:"Reduzir 1 minuto"},on:{click:function(s){return s.stopPropagation(),t.addTime(-60)}}},[t._v(" -1m ")]):t._e(),t.controls.includes("add30s")?s("a",{staticClass:"btn btn-outline-dark btn-negative btn-add30s",attrs:{title:"Reduzir 30 segundos"},on:{click:function(s){return s.stopPropagation(),t.addTime(-30)}}},[t._v(" -30s ")]):t._e(),t.controls.includes("add30s")?s("a",{staticClass:"btn btn-outline-dark btn-add30s",attrs:{title:"Adicionar 30 segundos"},on:{click:function(s){return s.stopPropagation(),t.addTime(30)}}},[t._v(" +30s ")]):t._e(),t.controls.includes("add1m")?s("a",{staticClass:"btn btn-outline-dark btn-add1m",attrs:{title:"Adicionar 1 minuto"},on:{click:function(s){return s.stopPropagation(),t.addTime(60)}}},[t._v(" +1m ")]):t._e(),t.controls.includes("add3m")?s("a",{staticClass:"btn btn-outline-dark btn-add3m",attrs:{title:"Adicionar 3 minutos"},on:{click:function(s){return s.stopPropagation(),t.addTime(180)}}},[t._v(" +3m ")]):t._e(),t.controls.includes("add5m")?s("a",{staticClass:"btn btn-outline-dark btn-add5m",attrs:{title:"Adicionar 5 minutos"},on:{click:function(s){return s.stopPropagation(),t.addTime(300)}}},[t._v(" +5m ")]):t._e()])]):t._e()]):s("div",[s("p",[t._v("Carregando cronômetro...")])])])},n=[],o=e(7180),i=(e(113),e(8598),e(2062),e(8111),e(116),e(8130),e(6099),e(6034),e(8781),e(5353)),r={name:"cronometro-base",props:{cronometro_id:{type:Number,required:!0},css_class:{type:String,default:""},css_class_controls:{type:String,default:""},display_initial:{type:String,default:"elapsed",validator:function(t){return["elapsed","remaining","last_paused"].includes(t)}},display_format:{type:String,default:"hh:mm:ss"},display_size:{type:String,default:"1.5em"},auto_start:{type:Boolean,default:!1},auto_stop:{type:Boolean,default:!1},controls:{type:Array,default:function(){return["start","pause","resume","stop","add30s","add1m","add3m","add5m","toggleDisplay"]}}},data:function(){return{display:this.display_initial,modesDisplay:["elapsed","remaining","last_paused"],timerInterval:1500,controlsDisplay:this.controls}},mounted:function(){},methods:(0,o.A)((0,o.A)({},i.Ay.mapActions("store__sync",["sendSyncMessage"])),{},{toogleDisplay:function(){var t=this.modesDisplay.indexOf(this.display),s=(t+1)%this.modesDisplay.length,e=this.modesDisplay[s];"last_paused"===e&&"paused"!==this.cronometro.state&&(e="elapsed"),this.display=e},addTime:function(t){this.sendSyncMessage({type:"command",command:"add_time",app:"painelset",model:"cronometro",params:{id:this.cronometro_id,seconds:t}})},startCronometro:function(){this.sendSyncMessage({type:"command",command:"start",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_start")},pauseCronometro:function(){this.sendSyncMessage({type:"command",command:"pause",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="last_paused",this.$emit("cronometro_pause")},resumeCronometro:function(){this.sendSyncMessage({type:"command",command:"resume",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_resume")},stopCronometro:function(){this.sendSyncMessage({type:"command",command:"stop",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="elapsed"},secondsToTime:function(t,s,e){var a=Math.round(t[s]||t[e]||0),n=a<0?"-":"";a<0&&(a*=-1);var o=Math.floor(a/3600),i=Math.floor(a%3600/60),r=a%60,d="";return"hh:mm:ss"===this.display_format?d=[o,i,r].map(function(t){return t<10?"0"+t:t}).join(":"):"mm:ss"===this.display_format?d=[i+60*o,r].map(function(t){return t<10?"0"+t:t}).join(":"):"ss"===this.display_format&&(d=(r+60*i+3600*o).toString()),n&&(d=n+d),d||"00:00:00"}}),computed:{cronometro:function(){var t,s=this;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_cronometro?Object.values(this.data_cache.painelset_cronometro).find(function(t){return t.id===s.cronometro_id}):null},displayTime:function(){return"elapsed"===this.display?this.elapsedTime:"remaining"===this.display?this.remainingTime:"last_paused"===this.display?this.lastPausedTime:"00:00:00"},lastPausedTime:function(){return this.secondsToTime(this.cronometro,"last_paused_time")},elapsedTime:function(){return this.secondsToTime(this.cronometro,"elapsed_time")},remainingTime:function(){return this.secondsToTime(this.cronometro,"remaining_time","accumulated_time")},accumulatedTime:function(){return this.secondsToTime(this.cronometro,"accumulated_time")}}},d=r,l=e(1656),c=(0,l.A)(d,a,n,!1,null,null,null),m=c.exports}}]);