"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[58],{9868:function(t,i,e){var a=e(46518),n=e(79504),o=e(91291),s=e(31240),r=e(72333),d=e(79039),c=RangeError,l=String,u=Math.floor,v=n(r),p=n("".slice),m=n(1.1.toFixed),f=function(t,i,e){return 0===i?e:i%2===1?f(t,i-1,e*t):f(t*t,i/2,e)},_=function(t){var i=0,e=t;while(e>=4096)i+=12,e/=4096;while(e>=2)i+=1,e/=2;return i},h=function(t,i,e){var a=-1,n=e;while(++a<6)n+=i*t[a],t[a]=n%1e7,n=u(n/1e7)},g=function(t,i){var e=6,a=0;while(--e>=0)a+=t[e],t[e]=u(a/i),a=a%i*1e7},y=function(t){var i=6,e="";while(--i>=0)if(""!==e||0===i||0!==t[i]){var a=l(t[i]);e=""===e?a:e+v("0",7-a.length)+a}return e},C=d(function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)})||!d(function(){m({})});a({target:"Number",proto:!0,forced:C},{toFixed:function(t){var i,e,a,n,r=s(this),d=o(t),u=[0,0,0,0,0,0],m="",C="0";if(d<0||d>20)throw new c("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return l(r);if(r<0&&(m="-",r=-r),r>1e-21)if(i=_(r*f(2,69,1))-69,e=i<0?r*f(2,-i,1):r/f(2,i,1),e*=4503599627370496,i=52-i,i>0){h(u,0,e),a=d;while(a>=7)h(u,1e7,0),a-=7;h(u,f(10,a,1),0),a=i-1;while(a>=23)g(u,1<<23),a-=23;g(u,1<<a),h(u,1,1),g(u,2),C=y(u)}else h(u,0,e),h(u,1<<-i,0),C=y(u)+v("0",d);return d>0?(n=C.length,C=m+(n<=d?"0."+v("0",d-n)+C:p(C,0,n-d)+"."+p(C,n-d))):C=m+C,C}})},16034:function(t,i,e){var a=e(46518),n=e(32357).values;a({target:"Object",stat:!0},{values:function(t){return n(t)}})},32357:function(t,i,e){var a=e(43724),n=e(79039),o=e(79504),s=e(42787),r=e(71072),d=e(25397),c=e(48773).f,l=o(c),u=o([].push),v=a&&n(function(){var t=Object.create(null);return t[2]=2,!l(t,2)}),p=function(t){return function(i){var e,n=d(i),o=r(n),c=v&&null===s(n),p=o.length,m=0,f=[];while(p>m)e=o[m++],a&&!(c?e in n:l(n,e))||u(f,t?[e,n[e]]:n[e]);return f}};t.exports={entries:p(!0),values:p(!1)}},34782:function(t,i,e){var a=e(46518),n=e(34376),o=e(33517),s=e(20034),r=e(35610),d=e(26198),c=e(25397),l=e(97040),u=e(78227),v=e(70597),p=e(67680),m=v("slice"),f=u("species"),_=Array,h=Math.max;a({target:"Array",proto:!0,forced:!m},{slice:function(t,i){var e,a,u,v=c(this),m=d(v),g=r(t,m),y=r(void 0===i?m:i,m);if(n(v)&&(e=v.constructor,o(e)&&(e===_||n(e.prototype))?e=void 0:s(e)&&(e=e[f],null===e&&(e=void 0)),e===_||void 0===e))return p(v,g,y);for(a=new(void 0===e?_:e)(h(y-g,0)),u=0;g<y;g++,u++)g in v&&l(a,u,v[g]);return a.length=u,a}})},38255:function(t,i,e){e.d(i,{A:function(){return u}});e(74423),e(21699);var a=function(){var t=this,i=t._self._c;return i("div",{class:["cronometro-component",t.css_class]},[t.cronometro?i("div",{class:["croncard",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""]},[i("div",{staticClass:"inner"},[i("div",{class:["display-time",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""],style:{fontSize:t.display_size}},[t._v(" "+t._s(t.displayTime)+" ")]),i("div",{staticClass:"inner-rodape"},["elapsed"===t.display?i("div",[i("small",[t._v("Tempo Decorrido")])]):"remaining"===t.display?i("div",[t.cronometro.remaining_time<0?i("small",[t._v("Tempo Excedido")]):i("small",[t._v("Tempo Restante")])]):"last_paused"===t.display?i("div",[i("small",[t._v("Tempo de Suspensão")])]):t._e()])]),t.css_class_controls?i("div",{class:["controls",t.css_class_controls]},[i("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"First group"}},[t.controls.includes("toggleDisplay")?i("a",{staticClass:"btn btn-outline-dark btn-toggle",attrs:{title:"Alternar exibição"},on:{click:function(i){return i.stopPropagation(),t.toogleDisplay.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-exchange-alt",attrs:{"aria-hidden":"true"}})]):t._e(),"stopped"===t.cronometro.state&&t.controls.includes("start")?i("a",{staticClass:"btn btn-outline-dark btn-start",on:{click:function(i){return i.stopPropagation(),t.startCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),"running"===t.cronometro.state&&t.controls.includes("pause")?i("a",{staticClass:"btn btn-outline-dark btn-pause",on:{click:function(i){return i.stopPropagation(),t.pauseCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})]):t._e(),"paused"===t.cronometro.state&&t.controls.includes("resume")?i("a",{staticClass:"btn btn-outline-dark btn-resume",on:{click:function(i){return i.stopPropagation(),t.resumeCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),["running","paused"].includes(t.cronometro.state)&&t.controls.includes("stop")?i("a",{staticClass:"btn btn-outline-dark btn-stop",on:{click:function(i){return i.stopPropagation(),t.stopCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):t._e(),t.controls.includes("add1m")?i("a",{staticClass:"btn btn-outline-dark btn-negative btn-add1m",attrs:{title:"Reduzir 1 minuto"},on:{click:function(i){return i.stopPropagation(),t.addTime(-60)}}},[t._v(" -1m ")]):t._e(),t.controls.includes("add30s")?i("a",{staticClass:"btn btn-outline-dark btn-negative btn-add30s",attrs:{title:"Reduzir 30 segundos"},on:{click:function(i){return i.stopPropagation(),t.addTime(-30)}}},[t._v(" -30s ")]):t._e(),t.controls.includes("add30s")?i("a",{staticClass:"btn btn-outline-dark btn-add30s",attrs:{title:"Adicionar 30 segundos"},on:{click:function(i){return i.stopPropagation(),t.addTime(30)}}},[t._v(" +30s ")]):t._e(),t.controls.includes("add1m")?i("a",{staticClass:"btn btn-outline-dark btn-add1m",attrs:{title:"Adicionar 1 minuto"},on:{click:function(i){return i.stopPropagation(),t.addTime(60)}}},[t._v(" +1m ")]):t._e(),t.controls.includes("add3m")?i("a",{staticClass:"btn btn-outline-dark btn-add3m",attrs:{title:"Adicionar 3 minutos"},on:{click:function(i){return i.stopPropagation(),t.addTime(180)}}},[t._v(" +3m ")]):t._e(),t.controls.includes("add5m")?i("a",{staticClass:"btn btn-outline-dark btn-add5m",attrs:{title:"Adicionar 5 minutos"},on:{click:function(i){return i.stopPropagation(),t.addTime(300)}}},[t._v(" +5m ")]):t._e()])]):t._e()]):i("div",[i("p",[t._v("Carregando cronômetro...")])])])},n=[],o=e(78042),s=(e(50113),e(48598),e(62062),e(18111),e(20116),e(2892),e(26099),e(16034),e(38781),e(95353)),r={name:"cronometro-base",props:{cronometro_id:{type:Number,required:!0},css_class:{type:String,default:""},css_class_controls:{type:String,default:""},display_initial:{type:String,default:"elapsed",validator:function(t){return["elapsed","remaining","last_paused"].includes(t)}},display_format:{type:String,default:"hh:mm:ss"},display_size:{type:String,default:"1.5em"},auto_start:{type:Boolean,default:!1},auto_stop:{type:Boolean,default:!1},controls:{type:Array,default:function(){return["start","pause","resume","stop","add30s","add1m","add3m","add5m","toggleDisplay"]}}},data:function(){return{display:this.display_initial,modesDisplay:["elapsed","remaining","last_paused"],timerInterval:1500,controlsDisplay:this.controls}},mounted:function(){},methods:(0,o.A)((0,o.A)({},s.Ay.mapActions("store__sync",["sendSyncMessage"])),{},{toogleDisplay:function(){var t=this.modesDisplay.indexOf(this.display),i=(t+1)%this.modesDisplay.length,e=this.modesDisplay[i];"last_paused"===e&&"paused"!==this.cronometro.state&&(e="elapsed"),this.display=e},addTime:function(t){this.sendSyncMessage({type:"command",command:"add_time",app:"painelset",model:"cronometro",params:{id:this.cronometro_id,seconds:t}})},startCronometro:function(){this.sendSyncMessage({type:"command",command:"start",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_start")},pauseCronometro:function(){this.sendSyncMessage({type:"command",command:"pause",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="last_paused",this.$emit("cronometro_pause")},resumeCronometro:function(){this.sendSyncMessage({type:"command",command:"resume",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_resume")},stopCronometro:function(){this.sendSyncMessage({type:"command",command:"stop",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="elapsed"},secondsToTime:function(t,i,e){var a=Math.round(t[i]||t[e]||0),n=a<0?"-":"";a<0&&(a*=-1);var o=Math.floor(a/3600),s=Math.floor(a%3600/60),r=a%60,d="";return"hh:mm:ss"===this.display_format?d=[o,s,r].map(function(t){return t<10?"0"+t:t}).join(":"):"mm:ss"===this.display_format?d=[s+60*o,r].map(function(t){return t<10?"0"+t:t}).join(":"):"ss"===this.display_format&&(d=(r+60*s+3600*o).toString()),n&&(d=n+d),d||"00:00:00"}}),computed:{cronometro:function(){var t,i=this;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_cronometro?Object.values(this.data_cache.painelset_cronometro).find(function(t){return t.id===i.cronometro_id}):null},displayTime:function(){return"elapsed"===this.display?this.elapsedTime:"remaining"===this.display?this.remainingTime:"last_paused"===this.display?this.lastPausedTime:"00:00:00"},lastPausedTime:function(){return this.secondsToTime(this.cronometro,"last_paused_time")},elapsedTime:function(){return this.secondsToTime(this.cronometro,"elapsed_time")},remainingTime:function(){return this.secondsToTime(this.cronometro,"remaining_time","accumulated_time")},accumulatedTime:function(){return this.secondsToTime(this.cronometro,"accumulated_time")}}},d=r,c=e(845),l=(0,c.A)(d,a,n,!1,null,null,null),u=l.exports},62010:function(t,i,e){var a=e(43724),n=e(10350).EXISTS,o=e(79504),s=e(62106),r=Function.prototype,d=o(r.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(c.exec),u="name";a&&!n&&s(r,u,{configurable:!0,get:function(){try{return l(c,d(this))[1]}catch(t){return""}}})},62062:function(t,i,e){var a=e(46518),n=e(59213).map,o=e(70597),s=o("map");a({target:"Array",proto:!0,forced:!s},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},72333:function(t,i,e){var a=e(91291),n=e(655),o=e(67750),s=RangeError;t.exports=function(t){var i=n(o(this)),e="",r=a(t);if(r<0||r===1/0)throw new s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(i+=i))1&r&&(e+=i);return e}},81148:function(t,i,e){var a=e(46518),n=e(69565),o=e(72652),s=e(79306),r=e(28551),d=e(1767),c=e(9539),l=e(84549),u=l("every",TypeError);a({target:"Iterator",proto:!0,real:!0,forced:u},{every:function(t){r(this);try{s(t)}catch(a){c(this,"throw",a)}if(u)return n(u,this,t);var i=d(this),e=0;return!o(i,function(i,a){if(!t(i,e++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},82058:function(t,i,e){e.r(i),e.d(i,{default:function(){return J}});e(62010);var a=function(){var t=this,i=t._self._c;return i("div",{staticClass:"painelset-admin"},[i("div",{staticClass:"container-grid"},[i("div",{staticClass:"row header"},[i("div",{staticClass:"col"},[i("div",{staticClass:"titulo-evento"},[t._v(" "+t._s(t.evento?t.evento.name:"Carregando evento...")+" "),i("small",[t._v(" "+t._s(t.datahora_prevista_real[0])+" - "+t._s(t.datahora_prevista_real[1])+" "+t._s(t.datahora_prevista_real[2])+" ")])])]),i("div",{staticClass:"col-auto"},[t.cronometro?i("cronometro-base",{attrs:{cronometro_id:t.cronometro.id,css_class_controls:"hover",css_class:"cronometro-global",controls:["start","pause","resume","toggleDisplay"]},on:{cronometro_start:function(i){return t.startEvento()},cronometro_pause:function(i){return t.pauseEvento()},cronometro_resume:function(i){return t.resumeEvento()}}}):t._e()],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 container-individuos"},[t.evento?i("individuo-list",{ref:"individuoList",attrs:{evento:t.evento,pause_parent_on_start:t.cronometro&&t.cronometro.pause_parent_on_start}}):t._e()],1),i("div",{staticClass:"col-7 container-controls"},[t.evento?i("palavra-em-uso",{ref:"palavraEmUso",attrs:{evento:t.evento}}):t._e(),t.evento?i("visoes-control",{ref:"visoesControl",attrs:{evento:t.evento}}):t._e()],1)])]),t.cronometro&&"running"!==t.cronometro.state?i("div",{staticClass:"disabled"},[i("div",{staticClass:"overlay-paused"},[i("div",{staticClass:"text-paused"},[t.cronometro&&"paused"===t.cronometro.state?i("div",[t._v(" EVENTO EM SUSPENSÃO ")]):t.cronometro&&"stopped"===t.cronometro.state?i("div",[t._v("EVENTO NÃO INICIADO")]):t._e()])])]):t._e()])},n=[],o=(e(74423),e(44114),e(2892),e(21699),e(38255)),s=(e(28706),e(34782),e(9868),function(){var t=this,i=t._self._c;return i("div",{staticClass:"individuo-list"},[i("div",{class:["individuo-base","manager",t.status_microfone?"":"muted"]},[i("div",{staticClass:"inner"},[i("div",{staticClass:"controls"},[i("button",{staticClass:"btn-action btn-fone",attrs:{title:"Ativar/Desativar Todos os Microfones"},on:{click:function(i){return t.toggleAllMicrofones()}}},[i("i",{class:t.status_microfone?"fas fa-2x fa-microphone":"fas fa-2x fa-microphone-slash"})])]),i("div",{staticClass:"inner-individuo py-2"},[t._v(t._s(t.individuos.length)+" CANAIS")]),i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"default-timer"},[i("button",{staticClass:"btn btn-link"},[i("i",{staticClass:"fas fa-arrow-down",on:{click:function(i){t.default_timer>60?t.default_timer-=60:t.default_timer=60}}})]),t._v(" Tempo Padrão: "+t._s((t.default_timer/60).toFixed(0))+" min "),i("button",{staticClass:"btn btn-link"},[i("i",{staticClass:"fas fa-arrow-up",on:{click:function(i){t.default_timer<600?t.default_timer+=60:t.default_timer=600}}})])])]),i("div",{staticClass:"inner-individuo"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pause_parent_on_aparte,expression:"pause_parent_on_aparte"}],attrs:{type:"checkbox",id:"pause_parent_on_aparte",title:"Pausar o Cronômetro de quem está com a palavra quando alguém solicitar aparte"},domProps:{checked:Array.isArray(t.pause_parent_on_aparte)?t._i(t.pause_parent_on_aparte,null)>-1:t.pause_parent_on_aparte},on:{change:function(i){var e=t.pause_parent_on_aparte,a=i.target,n=!!a.checked;if(Array.isArray(e)){var o=null,s=t._i(e,o);a.checked?s<0&&(t.pause_parent_on_aparte=e.concat([o])):s>-1&&(t.pause_parent_on_aparte=e.slice(0,s).concat(e.slice(s+1)))}else t.pause_parent_on_aparte=n}}})])])]),i("div",{staticClass:"individuos"},t._l(t.individuos,function(e){return i("individuo-base",{key:"individuo-".concat(e.id,"-").concat(e.order),ref:"individuo-".concat(e.id),refInFor:!0,attrs:{individuo_id:e.id,default_timer:t.default_timer}})}),1)])}),r=[],d=(e(2008),e(18111),e(81148),e(22489),e(26099),e(16034),function(){var t=this,i=t._self._c;return i("div",{class:["individuo-base",t.individuo&&t.individuo.status_microfone?"":"muted",t.individuo&&t.individuo.parlamentar?"parlamentar":"",t.individuo&&t.individuo.com_a_palavra?"com-a-palavra":t.individuo&&t.individuo.microfone_sempre_ativo?"always-on":"active",t.individuo&&t.individuo.aparteado?"aparteante":""]},[i("div",{staticClass:"inner"},[i("div",{class:["inner-individuo",t.fotografiaUrl?"":"no-photo"],on:{click:function(i){return t.clickIndividuo(i)},dblclick:function(i){return t.dblclickIndividuo(i)}}},[i("div",{staticClass:"avatar"},[t.fotografiaUrl?i("img",{attrs:{src:t.fotografiaUrl,alt:"Foto do individuo"}}):i("i",{staticClass:"fas fa-user"})]),i("div",{staticClass:"name"},[t._v(" "+t._s(t.individuo?t.individuo.name:"Carregando indivíduo...")+" "),i("small",[t._v(t._s(t.individuo?"(".concat(t.individuo.canal,")"):""))])])]),i("div",{staticClass:"controls"},[t.individuo?i("button",{staticClass:"btn-action btn-fone",attrs:{title:t.individuo&&!t.individuo.status_microfone?"Ativar microfone":"Desativar microfone"},on:{click:function(i){return t.toggleMicrofone()}}},[i("i",{class:t.individuo&&t.individuo.status_microfone?"fas fa-2x fa-microphone":"fas fa-2x fa-microphone-slash"})]):t._e(),i("button",{staticClass:"btn-action btn-aparte",attrs:{title:"Solicitar aparte"},on:{click:function(i){return i.preventDefault(),t.clickIndividuo(i)}}},[i("i",{staticClass:"fas fa-hand-rock"})]),i("button",{staticClass:"btn-action btn-palavra",attrs:{title:"Solicitar a palavra"},on:{click:function(i){return i.stopPropagation(),t.dblclickIndividuo(i)}}},[i("i",{staticClass:"fas fa-hand-paper"})]),t._e()])])])}),c=[],l=(e(50113),e(20116),e(45020)),u={name:"individuo-base",props:{individuo_id:{type:Number,required:!0},default_timer:{type:Number,required:!1,default:300},default_timer_aparteante:{type:Number,required:!1,default:60}},data:function(){return{click_timeout:null}},computed:{individuoComPalavra:{get:function(){var t,i=this;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo&&Object.values(this.data_cache.painelset_individuo).find(function(t){return t.com_a_palavra&&t.evento===i.individuo.evento})||null}},individuo:function(){var t;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo&&this.individuo_id&&this.data_cache.painelset_individuo[this.individuo_id]||null},fotografiaUrl:function(){var t,i;return null!==(t=this.individuo)&&void 0!==t&&t.fotografia?"/api/painelset/individuo/"+this.individuo.id+"/fotografia.c96.png":null!==(i=this.individuo)&&void 0!==i&&i.parlamentar?"/api/parlamentares/parlamentar/"+this.individuo.parlamentar+"/fotografia.c96.png":""}},mounted:function(){var t=this;l.l.$on("toggle-microfone-individuo",function(i){i===t.individuo_id&&t.toggleMicrofone()})},methods:{toggleMicrofone:function(){var t,i;this.sendUpdate("toggle_microfone",{status_microfone:null!==(t=this.individuo)&&void 0!==t&&t.status_microfone?"off":"on",default_timer:this.default_timer,com_a_palavra:null!==(i=this.individuo)&&void 0!==i&&i.com_a_palavra?1:0})},clickIndividuo:function(t){var i=this,e=this;clearTimeout(e.click_timeout),e.click_timeout=setTimeout(function(){var t;if(null!==(t=e.individuo)&&void 0!==t&&t.com_a_palavra||!e.individuoComPalavra)return e.individuo===e.individuoComPalavra?void e.sendMessage({alert:"error",message:"A palavra já está sendo utilizada por este indivíduo.",time:7}):void i.sendMessage({alert:"error",message:"A palavra não está sendo utilizada. Não é possível fazer aparte.",time:7});e.sendUpdate("toggle_aparteante",{aparteante_status:e.individuo.aparteado?0:1,default_timer:e.default_timer_aparteante||60})},600)},dblclickIndividuo:function(t){var i,e,a;clearTimeout(this.click_timeout),this.sendUpdate("toggle_microfone",{status_microfone:null!==(i=this.individuo)&&void 0!==i&&i.status_microfone||null===(e=this.individuo)||void 0===e||!e.com_a_palavra?"on":"off",default_timer:this.default_timer,com_a_palavra:null!==(a=this.individuo)&&void 0!==a&&a.com_a_palavra?0:1})},sendUpdate:function(t,i){var e=this;return this.utils.patchModelAction("painelset","individuo",this.individuo_id,t,i).then(function(t){}).catch(function(t){e.sendMessage({alert:"error",message:"Erro ao atualizar indivíduo: "+t.response.data,time:5})})}}},v=u,p=e(845),m=(0,p.A)(v,d,c,!1,null,null,null),f=m.exports,_=e(2543),h={name:"individuo-list",props:{evento:{type:Object,required:!0},pause_parent_on_start:{type:Boolean,required:!1,default:!1}},components:{IndividuoBase:f},data:function(){return{init:!1,status_microfone:!1,pause_parent_on_aparte:this.pause_parent_on_start,default_timer:300}},computed:{individuos:{get:function(){var t;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo?_.orderBy(_.filter(Object.values(this.data_cache.painelset_individuo),{evento:this.evento.id}),["order"],["asc"]):[]}},cronometros:function(){var t;if(null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo){for(var i=[],e=0,a=Object.values(this.data_cache.painelset_individuo);e<a.length;e++){var n=a[e];n.evento===this.evento.id&&n.cronometro&&i.push(this.data_cache.painelset_cronometro[n.cronometro])}return i}return[]}},watch:{individuos:{handler:function(t,i){this.status_microfone=this.individuos.every(function(t){return!0===t.status_microfone})},deep:!0},pause_parent_on_start:function(t,i){this.pause_parent_on_aparte=t},pause_parent_on_aparte:function(t,i){var e=this,a=this;if(!(a.cronometros&&a.cronometros.length>0&&a.cronometros[0]&&a.cronometros[0].pause_parent_on_start===t)){var n={pause_parent_on_aparte:t?"on":"off"};a.utils.patchModelAction("painelset","evento",this.evento.id,"pause_parent_on_aparte",n).then(function(t){}).catch(function(t){e.sendMessage({alert:"error",message:"Erro ao atualizar Configurar Pausa: "+t.response.data,time:5})})}}},mounted:function(){this.fetchSync({app:"painelset",model:"individuo",params:{evento:this.evento.id}})},methods:{toggleAllMicrofones:function(){var t=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;e.status_microfone=!e.status_microfone;var a={status_microfone:e.status_microfone?"on":"off",inclui_microfone_sempre_ativo:i?"on":"off"};e.utils.patchModelAction("painelset","evento",this.evento.id,"toggle_microfones",a).then(function(t){}).catch(function(i){t.sendMessage({alert:"error",message:"Erro ao atualizar Microfones: "+i.response.data,time:5})})}}},g=h,y=(0,p.A)(g,s,r,!1,null,null,null),C=y.exports,b=function(){var t=this,i=t._self._c;return i("div",{staticClass:"palavraemuso-component"},[t.individuo?i("div",{key:"individuo-com-a-palavra-".concat(t.individuo.id),ref:"individuo-com-a-palavra-".concat(t.individuo.id),class:["individuo-com-a-palavra"]},[i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo-header"},[i("div",{staticClass:"name"},[t._v(" "+t._s(t.individuo?t.individuo.name:"Carregando indivíduo...")+" ")])])]),i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo"},[i("div",{staticClass:"avatar"},[t.fotografiaUrl?i("img",{attrs:{src:t.fotografiaUrl,alt:"Foto do indivíduo"}}):i("i",{staticClass:"fas fa-user-circle fa-2x"})])]),i("div",{staticClass:"divide"}),i("div",{staticClass:"cronometro"},[i("cronometro-palavra",{key:"cronometro-com-a-palavra-".concat(t.individuo.cronometro),ref:"cronometro-com-a-palavra-".concat(t.individuo.cronometro),attrs:{cronometro_id:t.individuo.cronometro}}),i("div",{staticClass:"icon-status-microfone",on:{click:t.toggleMicrofone}},[t.individuo&&t.individuo.status_microfone?i("i",{staticClass:"fas fa-microphone"}):i("i",{staticClass:"fas fa-microphone-slash"})])],1)])]):t._e(),t.individuo&&t.individuo.aparteante?i("individuo-aparteante",{key:"individuo-aparteante-".concat(t.individuo.aparteante),ref:"individuo-aparteante-".concat(t.individuo.aparteante),attrs:{individuo_id:t.individuo.aparteante}}):t._e()],1)},k=[],A=function(){var t=this,i=t._self._c;return i("div",{staticClass:"cronometro-palavra"},[i("cronometro-base",{key:"cronometro-palavra-".concat(t.cronometro_id),ref:"cronometro-palavra-".concat(t.cronometro_id),attrs:{cronometro_id:t.cronometro_id,css_class_controls:"visible",css_class:"cron-palavra",display_initial:"remaining",display_format:"mm:ss",display_size:"4em",auto_start:!0,controls:t.controls}})],1)},T=[],M={name:"cronometro-palavra",components:{CronometroBase:o.A},props:{cronometro_id:{type:Number,required:!0},controls:{type:Array,required:!1,default:function(){return["pause","resume","add30s","add1m","add3m","add5m"]}}},data:function(){return{}}},x=M,S=(0,p.A)(x,A,T,!1,null,null,null),w=S.exports,E=function(){var t=this,i=t._self._c;return i("div",{staticClass:"individuo-aparteante-component"},[t.individuo?i("div",{key:"individuo-aparteante-".concat(t.individuo.id),ref:"individuo-aparteante-".concat(t.individuo.id),class:["individuo-aparteante"]},[i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo-header"},[i("div",{staticClass:"name"},[i("strong",[t._v("EM APARTE:")]),t._v(" "+t._s(t.individuo?t.individuo.name:"Carregando indivíduo...")+" ")])])]),i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo"},[i("div",{staticClass:"avatar"},[t.fotografiaUrl?i("img",{attrs:{src:t.fotografiaUrl,alt:"Foto do parlamentar"}}):i("i",{staticClass:"fas fa-user-circle fa-2x"})])]),i("div",{staticClass:"divide"}),i("div",{staticClass:"cronometro"},[i("cronometro-palavra",{key:"cronometro-com-a-palavra-".concat(t.individuo.cronometro),ref:"cronometro-com-a-palavra-".concat(t.individuo.cronometro),attrs:{cronometro_id:t.individuo.cronometro,controls:["pause","resume","add30s","add1m"]}}),i("div",{staticClass:"icon-status-microfone",on:{click:t.toggleMicrofone}},[t.individuo&&t.individuo.status_microfone?i("i",{staticClass:"fas fa-microphone"}):i("i",{staticClass:"fas fa-microphone-slash"})])],1)])]):t._e()])},P=[],D={name:"individuo-aparteante",components:{CronometroPalavra:w},props:{individuo_id:{type:Number,required:!1,default:null}},data:function(){return{}},computed:{individuo:{get:function(){var t;return this.individuo_id&&null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo&&this.data_cache.painelset_individuo[this.individuo_id]||null}},fotografiaUrl:function(){var t,i;return null!==(t=this.individuo)&&void 0!==t&&t.fotografia?"/api/painelset/individuo/"+this.individuo.id+"/fotografia.c96.png":null!==(i=this.individuo)&&void 0!==i&&i.parlamentar?"/api/parlamentares/parlamentar/"+this.individuo.parlamentar+"/fotografia.c96.png":""}},methods:{toggleMicrofone:function(){l.l.$emit("toggle-microfone-individuo",this.individuo.id)}}},I=D,N=(0,p.A)(I,E,P,!1,null,null,null),$=N.exports,O={name:"palavra-em-uso",components:{CronometroPalavra:w,IndividuoAparteante:$},props:{evento:{type:Object,required:!0}},data:function(){return{}},computed:{individuo:{get:function(){var t,i=this;return this.evento&&null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo&&Object.values(this.data_cache.painelset_individuo).find(function(t){return t.com_a_palavra&&t.evento===i.evento.id})||null}},fotografiaUrl:function(){var t,i;return null!==(t=this.individuo)&&void 0!==t&&t.fotografia?"/api/painelset/individuo/"+this.individuo.id+"/fotografia.c96.png":null!==(i=this.individuo)&&void 0!==i&&i.parlamentar?"/api/parlamentares/parlamentar/"+this.individuo.parlamentar+"/fotografia.c96.png":""}},methods:{toggleMicrofone:function(){l.l.$emit("toggle-microfone-individuo",this.individuo.id)}}},U=O,j=(0,p.A)(U,b,k,!1,null,null,null),q=j.exports,z=function(){var t=this,i=t._self._c;return i("div",{staticClass:"painelset-visoes-control"},[i("div",{staticClass:"youtube_id"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.youtube_id,expression:"youtube_id"}],attrs:{type:"text"},domProps:{value:t.youtube_id},on:{change:function(i){return t.utils.patchModel("painelset","evento",t.evento.id,{youtube_id:t.youtube_id})},input:function(i){i.target.composing||(t.youtube_id=i.target.value)}}})]),t.painel?i("div",{staticClass:"inner"},[i("div",{staticClass:"checkbox-auto-select-visoes"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.painel.auto_select_visoes,expression:"painel.auto_select_visoes"}],attrs:{type:"checkbox",id:"autoSelectVisoes"},domProps:{checked:Array.isArray(t.painel.auto_select_visoes)?t._i(t.painel.auto_select_visoes,null)>-1:t.painel.auto_select_visoes},on:{change:[function(i){var e=t.painel.auto_select_visoes,a=i.target,n=!!a.checked;if(Array.isArray(e)){var o=null,s=t._i(e,o);a.checked?s<0&&t.$set(t.painel,"auto_select_visoes",e.concat([o])):s>-1&&t.$set(t.painel,"auto_select_visoes",e.slice(0,s).concat(e.slice(s+1)))}else t.$set(t.painel,"auto_select_visoes",n)},function(i){return t.utils.patchModel("painelset","painel",t.painel.id,{auto_select_visoes:t.painel.auto_select_visoes})}]}})]),i("div",{staticClass:"inner-visoes"},[i("div",{staticClass:"title-visao-ativa"},[t.visoes.length>0?i("div",t._l(t.visoes,function(e){return i("span",{key:"visao-ativa-".concat(e.id)},[e.active?i("span",[i("i",{staticClass:"fas fa-check-circle"}),t._v(" "+t._s(e.name)+" ")]):t._e()])}),0):t._e()]),i("div",{staticClass:"lista-visoes btn-group"},t._l(t.visoes,function(e){return i("a",{key:"visao-control-".concat(e.id),class:["btn btn-secondary",e.active?"active":"",e.config.only_manual_activation?"btn-warning":""],attrs:{title:e.name},on:{click:function(i){return t.manualActiveVisao(e.id)}}},[t._v(" "+t._s(e.position)+" ")])}),0)])]):t._e()])},V=[],L=e(2543),R={name:"visoes-control",props:{evento:{type:Object,required:!0}},components:{},data:function(){return{evento_id:Number(this.$route.params.id),youtube_id:""}},watch:{evento:{handler:function(t){var i=this;!this.finished&&t&&t.end_real&&(this.finished=!0,this.sendMessage({alert:"danger",message:"Evento já finalizado. Você pode copiá-lo para gerar um novo evento.",time:10}),this.$router.push({name:"painelset_evento_list_link"})),t&&(this.youtube_id=t.youtube_id||"",this.fetchSync({app:"painelset",model:"painel",params:{evento:t.id,principal:!0}}).then(function(){i.fetchSync({app:"painelset",model:"visaodepainel",params:{painel:i.painel.id}})}))},immediate:!0}},computed:{painel:function(){var t,i,e=this;return this.evento&&null!==(t=this.data_cache)&&void 0!==t&&t.painelset_painel&&Object.values(null===(i=this.data_cache)||void 0===i?void 0:i.painelset_painel).find(function(t){return t.evento===e.evento.id})||null},visoes:function(){var t,i;return this.painel&&null!==(t=this.data_cache)&&void 0!==t&&t.painelset_visaodepainel?L.orderBy(L.filter(Object.values(null===(i=this.data_cache)||void 0===i?void 0:i.painelset_visaodepainel),{painel:this.painel.id}),["position"],["asc"]):[]}},mounted:function(){var t=this;this.$nextTick(function(){t.permissions.includes("painelset.change_evento")?(t.registerModels({app:"painelset",models:["evento","painel","visaodepainel"]}),t.fetchSync({app:"painelset",model:"evento",id:t.evento_id})):(t.$router.push({name:"online_index_link"}),t.sendMessage({alert:"danger",message:"Você não tem permissão para acessar esta página. aqui1",time:5}))})},methods:{manualActiveVisao:function(t){var i=this;this.utils.patchModelAction("painelset","visaodepainel",t,"activate").then(function(t){}).catch(function(t){i.sendMessage({alert:"error",message:"Erro ao atualizar Visão Ativa: "+t.response.data,time:5})})}}},F=R,B=(0,p.A)(F,z,V,!1,null,null,null),W=B.exports,X={name:"painelset-admin",components:{CronometroBase:o.A,IndividuoList:C,PalavraEmUso:q,VisoesControl:W},data:function(){return{evento_id:Number(this.$route.params.id),finished:!1}},watch:{evento:{handler:function(t){if(!this.finished&&t&&t.end_real&&(this.finished=!0,this.sendMessage({alert:"danger",message:"Evento já finalizado. Você pode copiá-lo para gerar um novo evento.",time:10}),this.$router.push({name:"painelset_evento_list_link"})),t&&t.cronometro)return this.fetchSync({app:"painelset",model:"cronometro",id:t.cronometro})},immediate:!0}},computed:{evento:function(){return this.data_cache["painelset_evento"]?this.data_cache["painelset_evento"][this.evento_id]:null},cronometro:function(){return this.evento&&this.evento.cronometro&&this.data_cache["painelset_cronometro"]?this.data_cache["painelset_cronometro"][this.evento.cronometro]:null},datahora_prevista_real:function(){if(this.evento&&!this.evento.start_real){var t=new Date(this.evento.start_previsto);return["Início previsto",t.toLocaleDateString(),t.toLocaleTimeString()]}if(this.evento&&this.evento.start_real){var i=new Date(this.evento.start_real);return["Iniciado em",i.toLocaleDateString(),i.toLocaleTimeString()]}return["Data e hora não definidas","",""]}},mounted:function(){var t=this;setTimeout(function(){t.permissions.includes("painelset.change_evento")?t.fetchSync({app:"painelset",model:"evento",id:t.evento_id}):(t.$router.push({name:"online_index_link"}),t.sendMessage({alert:"danger",message:"Você não tem permissão para acessar esta página. aqui 2",time:5}))},1e3)},methods:{resumeEvento:function(){this.$refs.individuoList.status_microfone=0,this.$refs.individuoList.toggleAllMicrofones()},startEvento:function(){this.utils.patchModelAction("painelset","evento",this.evento.id,"start").then(function(t){}).catch(function(t){})},pauseEvento:function(){this.$refs.individuoList.status_microfone=1,this.$refs.individuoList.toggleAllMicrofones(!1)}}},G=X,H=(0,p.A)(G,a,n,!1,null,null,null),J=H.exports}}]);
//# sourceMappingURL=58-legacy.6cad11e3.js.map