function plot_chart(t,a,r){a||(a=$(t).attr("data-url"));let e=$(t).attr("id"),n=a.split("?")[0];$.ajax({type:"GET",url:a,data:r,success:function(a){let r=$(`a.dash-nav.previous[data-chart-target='#${e}']`),o=$(`a.dash-nav.next[data-chart-target='#${e}']`);if("html"===a.type)$(t).html(a.html);else{let r=Chart.getChart(t);void 0!==r&&r.destroy(),new Chart(t,a)}if(a.previous_page?(r.attr("href",`${n}?${a.previous_page}`),r.parent().removeClass("disabled")):(r.removeAttr("href"),r.parent().addClass("disabled")),a.next_page?(o.attr("href",`${n}?${a.next_page}`),o.parent().removeClass("disabled")):(o.removeAttr("href"),o.parent().addClass("disabled")),a.querystr){let t=new URLSearchParams(a.querystr);$(`a.export-link[data-chart-target='#${e}']`).each(function(a){var r=$(this),[e,n]=r.attr("href").split("?"),o=new URLSearchParams(n);for(const[l,h]of t.entries())o.set(l,h);r.attr("href",`${e}?${o.toString()}`)})}}})}function plot_charts(t){let a=t.serialize(),r=$(`#${t.data("chart-target")} [role="dashcard-render"]`);r.each(function(t,r){let e=$(r)[0],n=$(e).attr("data-url");n||(n=$(e).attr("data-url"));$(e).attr("id");plot_chart(e,n,a)})}$(function(){$('form[role="chart-global-filter"] :input').on("change",function(t){var a=$(this.form);plot_charts(a)})[0];$('form[role="chart-filter"] :input').on("change",function(t){var a=$(this.form),r=$(a.attr("data-chart-target")),e=a.attr("action"),n=a.serialize();plot_chart(r,e,n)}),$("a.dash-nav[data-chart-target]").on("click",function(t){t.preventDefault();var a=$(this),r=$(a.attr("data-chart-target")),e=a.attr("href");plot_chart(r,e)}),$('form[role="chart-global-filter"]').each(function(t,a){var r=$(a);let e=new URLSearchParams(window.location.search);for(const[n,o]of e.entries())r.find(`[name="${n}"]`).val(o).trigger("change");plot_charts(r)})});