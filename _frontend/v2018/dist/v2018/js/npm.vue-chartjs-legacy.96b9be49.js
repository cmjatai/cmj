"use strict";(self["webpackChunkPortalCMJ_Frontend_v2018"]=self["webpackChunkPortalCMJ_Frontend_v2018"]||[]).push([[102],{7317:function(t,e,a){a.d(e,{nu:function(){return y},yP:function(){return g}});var s,r=a(7237);function n(t,e,a,r){t(e,a),void 0!==r&&r.emit(s.ChartRendered)}function h(t,e){t.update(),void 0!==e&&e.emit(s.ChartUpdated)}function i(t,e){t.destroy(),void 0!==e&&e.emit(s.ChartDestroyed)}function d(t,e){const a={labels:"undefined"===typeof t.labels?[]:[...t.labels],datasets:[]};return o(a,{...t},e),a}function o(t,e,a){const s=[];t.datasets=e.datasets.map(e=>{const r=t.datasets.find(t=>t[a]===e[a]);return r&&e.data&&!s.includes(r)?(s.push(r),Object.assign(r,e),r):{...e}})}function u(t,e,a){t.data.labels=e,void 0!==a&&a.emit(s.LabelsUpdated)}function l(t,e){t.options={...e}}function c(t,e){const a=t.datasets.map(t=>t.label),s=e.datasets.map(t=>t.label);return e.datasets.length===t.datasets.length&&a.every((t,e)=>t===s[e])}(function(t){t["ChartRendered"]="chart:rendered",t["ChartUpdated"]="chart:updated",t["ChartDestroyed"]="chart:destroyed",t["LabelsUpdated"]="labels:updated"})(s||(s={}));const p="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components",C="annotation";function f(t,e,a){let f={};return{props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},data(){return{_chart:null,_id:Math.random().toString(36).substring(2)}},computed:{hasAnnotationPlugin(){var t,e;const a=null===(t=this.chartOptions)||void 0===t||null===(e=t.plugins)||void 0===e?void 0:e[C];return"undefined"!==typeof a}},created(){r.t1.register(a)},mounted(){f[this.$data._id]=null,"datasets"in this.chartData&&this.chartData.datasets.length>0&&(n(this.renderChart,this.chartData,this.chartOptions),this.$emit(s.ChartRendered))},watch:{chartData:{handler:function(t,e){this.chartDataHandler(t,e)},deep:!0},chartOptions:{handler:function(t){this.chartOptionsHandler(t)},deep:!0}},methods:{renderChart(t,a){const n=this.getCurrentChart();if(null!==n&&(i(n),this.$emit(s.ChartDestroyed)),!this.$refs.canvas)throw new Error(p);{const s=d(t,this.datasetIdKey),n=this.$refs.canvas.getContext("2d");null!==n&&this.setCurrentChart(new r.t1(n,{type:e,data:s,options:a,plugins:this.plugins}))}},chartDataHandler(t,e){const a={...t},r={...e},h=this.getCurrentChart();if(Object.keys(r).length>0){const t=c(a,r);t&&null!==h?(o(h.data,a,this.datasetIdKey),void 0!==a.labels&&(u(h,a.labels),this.$emit(s.LabelsUpdated)),this.updateChart(),this.$emit(s.ChartUpdated)):(null!==h&&(i(h),this.$emit(s.ChartDestroyed)),n(this.renderChart,this.chartData,this.chartOptions),this.$emit(s.ChartRendered))}else null!==h&&(i(h),this.$emit(s.ChartDestroyed)),n(this.renderChart,this.chartData,this.chartOptions),this.$emit(s.ChartRendered)},chartOptionsHandler(t){const e=this.getCurrentChart();null!==e?(l(e,t),this.updateChart()):n(this.renderChart,this.chartData,this.chartOptions)},updateChart(){const t=this.getCurrentChart();h(t)},getCurrentChart(){return this.hasAnnotationPlugin?f[this.$data._id]:this.$data._chart},setCurrentChart(t){this.hasAnnotationPlugin?f[this.$data._id]=t:this.$data._chart=t}},beforeDestroy(){const t=this.getCurrentChart();null!==t&&(i(t),this.$emit(s.ChartDestroyed))},render:function(t){return t("div",{style:this.styles,class:this.cssClasses},[t("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])}}}const g=f("bar-chart","bar",r.A6),y=f("doughnut-chart","doughnut",r.ju)}}]);