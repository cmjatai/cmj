(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7deb771f"],{"07ac":function(t,a,e){"use strict";var i=e("23e7"),n=e("6f53").values;i({target:"Object",stat:!0},{values:function(t){return n(t)}})},"097c":function(t,a,e){},"09b9":function(t,a,e){"use strict";e("caad"),e("2532");var i=function(){var t=this,a=t._self._c;return a("div",{class:["cronometro-component",t.css_class]},[t.cronometro?a("div",{class:["croncard",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""]},[a("div",{staticClass:"inner"},[a("div",{class:["display-time",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""],style:{fontSize:t.display_size}},[t._v(" "+t._s(t.displayTime)+" ")]),a("div",{staticClass:"inner-rodape"},["elapsed"===t.display?a("div",[a("small",[t._v("Tempo Decorrido")])]):"remaining"===t.display?a("div",[t.cronometro.remaining_time<0?a("small",[t._v("Tempo Excedido")]):a("small",[t._v("Tempo Restante")])]):"last_paused"===t.display?a("div",[a("small",[t._v("Tempo de Suspensão")])]):t._e()])]),t.css_class_controls?a("div",{class:["controls",t.css_class_controls]},[a("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"First group"}},[t.controls.includes("toggleDisplay")?a("a",{staticClass:"btn btn-outline-dark btn-toggle",attrs:{title:"Alternar exibição"},on:{click:function(a){return a.stopPropagation(),t.toogleDisplay.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-exchange-alt",attrs:{"aria-hidden":"true"}})]):t._e(),"stopped"===t.cronometro.state&&t.controls.includes("start")?a("a",{staticClass:"btn btn-outline-dark btn-start",on:{click:function(a){return a.stopPropagation(),t.startCronometro.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),"running"===t.cronometro.state&&t.controls.includes("pause")?a("a",{staticClass:"btn btn-outline-dark btn-pause",on:{click:function(a){return a.stopPropagation(),t.pauseCronometro.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})]):t._e(),"paused"===t.cronometro.state&&t.controls.includes("resume")?a("a",{staticClass:"btn btn-outline-dark btn-resume",on:{click:function(a){return a.stopPropagation(),t.resumeCronometro.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),["running","paused"].includes(t.cronometro.state)&&t.controls.includes("stop")?a("a",{staticClass:"btn btn-outline-dark btn-stop",on:{click:function(a){return a.stopPropagation(),t.stopCronometro.apply(null,arguments)}}},[a("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):t._e(),t.controls.includes("add1m")?a("a",{staticClass:"btn btn-outline-dark btn-negative btn-add1m",attrs:{title:"Reduzir 1 minuto"},on:{click:function(a){return a.stopPropagation(),t.addTime(-60)}}},[t._v(" -1m ")]):t._e(),t.controls.includes("add30s")?a("a",{staticClass:"btn btn-outline-dark btn-negative btn-add30s",attrs:{title:"Reduzir 30 segundos"},on:{click:function(a){return a.stopPropagation(),t.addTime(-30)}}},[t._v(" -30s ")]):t._e(),t.controls.includes("add30s")?a("a",{staticClass:"btn btn-outline-dark btn-add30s",attrs:{title:"Adicionar 30 segundos"},on:{click:function(a){return a.stopPropagation(),t.addTime(30)}}},[t._v(" +30s ")]):t._e(),t.controls.includes("add1m")?a("a",{staticClass:"btn btn-outline-dark btn-add1m",attrs:{title:"Adicionar 1 minuto"},on:{click:function(a){return a.stopPropagation(),t.addTime(60)}}},[t._v(" +1m ")]):t._e(),t.controls.includes("add3m")?a("a",{staticClass:"btn btn-outline-dark btn-add3m",attrs:{title:"Adicionar 3 minutos"},on:{click:function(a){return a.stopPropagation(),t.addTime(180)}}},[t._v(" +3m ")]):t._e(),t.controls.includes("add5m")?a("a",{staticClass:"btn btn-outline-dark btn-add5m",attrs:{title:"Adicionar 5 minutos"},on:{click:function(a){return a.stopPropagation(),t.addTime(300)}}},[t._v(" +5m ")]):t._e()])]):t._e()]):a("div",[a("p",[t._v("Carregando cronômetro...")])])])},n=[],o=e("5530"),s=(e("7db0"),e("a15b"),e("d81d"),e("e9f5"),e("f665"),e("a9e3"),e("d3b7"),e("07ac"),e("25f0"),e("2f62")),r={name:"cronometro-base",props:{cronometro_id:{type:Number,required:!0},css_class:{type:String,default:""},css_class_controls:{type:String,default:""},display_initial:{type:String,default:"elapsed",validator:function(t){return["elapsed","remaining","last_paused"].includes(t)}},display_format:{type:String,default:"hh:mm:ss"},display_size:{type:String,default:"1.5em"},auto_start:{type:Boolean,default:!1},auto_stop:{type:Boolean,default:!1},controls:{type:Array,default:function(){return["start","pause","resume","stop","add30s","add1m","add3m","add5m","toggleDisplay"]}}},data:function(){return{display:this.display_initial,modesDisplay:["elapsed","remaining","last_paused"],timerInterval:1500,controlsDisplay:this.controls}},mounted:function(){},methods:Object(o["a"])(Object(o["a"])({},s["a"].mapActions("store__sync",["sendSyncMessage"])),{},{toogleDisplay:function(){var t=this.modesDisplay.indexOf(this.display),a=(t+1)%this.modesDisplay.length,e=this.modesDisplay[a];"last_paused"===e&&"paused"!==this.cronometro.state&&(e="elapsed"),this.display=e},addTime:function(t){this.sendSyncMessage({type:"command",command:"add_time",app:"painelset",model:"cronometro",params:{id:this.cronometro_id,seconds:t}})},startCronometro:function(){this.sendSyncMessage({type:"command",command:"start",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_start")},pauseCronometro:function(){this.sendSyncMessage({type:"command",command:"pause",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="last_paused",this.$emit("cronometro_pause")},resumeCronometro:function(){this.sendSyncMessage({type:"command",command:"resume",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_resume")},stopCronometro:function(){this.sendSyncMessage({type:"command",command:"stop",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="elapsed"},secondsToTime:function(t,a,e){var i=Math.round(t[a]||t[e]||0),n=i<0?"-":"";i<0&&(i*=-1);var o=Math.floor(i/3600),s=Math.floor(i%3600/60),r=i%60,c="";return"hh:mm:ss"===this.display_format?c=[o,s,r].map((function(t){return t<10?"0"+t:t})).join(":"):"mm:ss"===this.display_format?c=[s+60*o,r].map((function(t){return t<10?"0"+t:t})).join(":"):"ss"===this.display_format&&(c=(r+60*s+3600*o).toString()),n&&(c=n+c),c||"00:00:00"}}),computed:{cronometro:function(){var t,a=this;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_cronometro?Object.values(this.data_cache.painelset_cronometro).find((function(t){return t.id===a.cronometro_id})):null},displayTime:function(){return"elapsed"===this.display?this.elapsedTime:"remaining"===this.display?this.remainingTime:"last_paused"===this.display?this.lastPausedTime:"00:00:00"},lastPausedTime:function(){return this.secondsToTime(this.cronometro,"last_paused_time")},elapsedTime:function(){return this.secondsToTime(this.cronometro,"elapsed_time")},remainingTime:function(){return this.secondsToTime(this.cronometro,"remaining_time","accumulated_time")},accumulatedTime:function(){return this.secondsToTime(this.cronometro,"accumulated_time")}}},c=r,l=(e("63c6"),e("2877")),d=Object(l["a"])(c,i,n,!1,null,null,null);a["a"]=d.exports},4057:function(t,a,e){"use strict";var i=e("23e7"),n=Math.hypot,o=Math.abs,s=Math.sqrt,r=!!n&&n(1/0,NaN)!==1/0;i({target:"Math",stat:!0,arity:2,forced:r},{hypot:function(t,a){var e,i,n=0,r=0,c=arguments.length,l=0;while(r<c)e=o(arguments[r++]),l<e?(i=l/e,n=n*i*i+1,l=e):e>0?(i=e/l,n+=i*i):n+=e;return l===1/0?1/0:l*s(n)}})},"5c1a":function(t,a,e){"use strict";var i=function(){var t=this,a=t._self._c;return t.individuos?a("div",{staticClass:"popover-palavra",on:{touchstart:function(a){t.touching=!0},touchmove:function(a){return t.movePopover(a)},touchend:function(a){t.touching=!1},mouseup:function(a){t.touching=!1},mousemove:function(a){return t.movePopover(a)},mousedown:function(a){t.touching=!0}}},t._l(t.individuos,(function(e){return a("div",{key:"popover-individuo-".concat(e.id),class:["popover-individuo",e.com_a_palavra?"com_a_palavra":"aparteante"]},[a("div",{staticClass:"popover-header"},[a("div",{staticClass:"arrow"}),e.com_a_palavra?a("h3",{staticClass:"popover-title"},[a("i",{staticClass:"fas fa-expand-alt"}),a("span",[t._v(" Com a palavra ")])]):t._e(),e.aparteado?a("h3",{staticClass:"popover-title"},[t._v("Em aparte")]):t._e()]),a("div",{staticClass:"popover-body"},[e?a("div",{staticClass:"individuo-info"},[a("div",{staticClass:"info"},[a("div",{staticClass:"name"},[t._v(t._s(e.nome))]),e.cronometro?a("div",{staticClass:"timer mt-1"},[a("cronometro-base",{key:"cronometro-popover-".concat(e.cronometro),ref:"cronometro-popover-".concat(e.cronometro),refInFor:!0,attrs:{cronometro_id:e.cronometro,css_class_controls:"d-none",css_class:"cron-popover-palavra",display_initial:"remaining",display_format:"mm:ss",display_size:"2em",controls:[]}})],1):t._e()]),t.fotografiaUrl(e)?a("div",{staticClass:"foto me-2",style:{backgroundImage:"url("+t.fotografiaUrl(e)+")"}}):a("div",{staticClass:"foto me-2"},[a("i",{staticClass:"fas fa-user"})])]):t._e()])])})),0):t._e()},n=[],o=e("5530"),s=(e("7db0"),e("14d9"),e("e9f5"),e("f665"),e("4057"),e("d3b7"),e("07ac"),e("09b9")),r=e("2f62"),c={name:"popover-palavra",components:{CronometroBase:s["a"]},data:function(){return{touching:!1,moving:!1}},watch:{wsConnected:{immediate:!0,handler:function(t){var a=this;t||this.$nextTick((function(){a.invalidateCacheModels({app:"painelset",models:["individuo","cronometro"]})}))}}},computed:{individuo_com_a_palavra:function(){var t;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo?Object.values(this.data_cache.painelset_individuo).find((function(t){return t.com_a_palavra})):null},individuo_aparteante:function(){var t;return null!==(t=this.data_cache)&&void 0!==t&&t.painelset_individuo?Object.values(this.data_cache.painelset_individuo).find((function(t){return t.aparteado})):null},individuos:function(){var t=[];return this.individuo_aparteante&&t.push(this.individuo_aparteante),this.individuo_com_a_palavra&&t.push(this.individuo_com_a_palavra),t}},mounted:function(){this.registerModels({app:"painelset",models:["individuo","cronometro"]})},methods:Object(o["a"])(Object(o["a"])({},r["a"].mapActions("store__sync",["invalidateCacheModels"])),{},{fotografiaUrl:function(t){return t.parlamentar?"/api/parlamentares/parlamentar/"+t.parlamentar+"/fotografia.c96.png":t.fotografia?"/api/painelset/individuo/"+t.id+"/fotografia.c96.png":null},movePopover:function(t){if(this.touching){var a=this.$el,e=a.getBoundingClientRect();if(t.touches&&t.touches.length>1){t.preventDefault();var i=Math.hypot(t.touches[0].clientX-t.touches[1].clientX,t.touches[0].clientY-t.touches[1].clientY),n=Math.min(Math.max(i/10,10),100);a.style.fontSize="".concat(n,"px")}else{var o=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY,r=window.innerWidth-o-e.width/2,c=window.innerHeight-s-e.height/2,l=Math.max(0,Math.min(r,window.innerWidth-e.width)),d=Math.max(0,Math.min(c,window.innerHeight-e.height));a.style.right="".concat(l,"px"),a.style.bottom="".concat(d,"px")}}}})},l=c,d=(e("7850"),e("2877")),u=Object(d["a"])(l,i,n,!1,null,null,null);a["a"]=u.exports},"63c6":function(t,a,e){"use strict";e("caba")},"6f53":function(t,a,e){"use strict";var i=e("83ab"),n=e("d039"),o=e("e330"),s=e("e163"),r=e("df75"),c=e("fc6a"),l=e("d1e7").f,d=o(l),u=o([].push),p=i&&n((function(){var t=Object.create(null);return t[2]=2,!d(t,2)})),m=function(t){return function(a){var e,n=c(a),o=r(n),l=p&&null===s(n),m=o.length,h=0,f=[];while(m>h)e=o[h++],i&&!(l?e in n:d(n,e))||u(f,t?[e,n[e]]:n[e]);return f}};t.exports={entries:m(!0),values:m(!1)}},7850:function(t,a,e){"use strict";e("a897")},"8e28":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"sessaoplenaria-module online-module"},[a("router-view"),a("popover-palavra")],1)},n=[],o=e("9662"),s=o["a"],r=(e("e09f"),e("2877")),c=Object(r["a"])(s,i,n,!1,null,null,null);a["default"]=c.exports},9662:function(t,a,e){"use strict";(function(t){var i=e("5530"),n=e("2f62"),o=e("5c1a");a["a"]={name:"sessaoplenaria-module",components:{PopoverPalavra:o["a"]},data:function(){return{ws:"/ws/time-refresh/",models_init_cache:{base:["autor"],sessao:["tiposessaoplenaria",{model:"expedientesessao",full_pages:!1,ordering:"-sessao_plenaria"}],materia:["tipomaterialegislativa","statustramitacao"],parlamentares:["legislatura",{model:"sessaolegislativa",full_pages:!1,ordering:"-data_inicio"}]}}},mounted:function(){this.setSideleftVisivel(!0),this.setSiderightVisivel(!1),this.initCache()},methods:Object(i["a"])(Object(i["a"])({},n["a"].mapActions(["setSideleftVisivel","setSiderightVisivel"])),{},{fetchList:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this;n.utils.getModelOrderedList(e,n.isString(i)?i:i.model,n.isString(i)?"":i.ordering,null===a?1:a).then((function(a){t.each(a.data.results,(function(t,a){n.refreshState({app:e,model:n.isString(i)?i:i.model,id:t.id,value:t})})),n.$nextTick().then((function(){null!==a.data.pagination.next_page&&(n.isString(i)||i.full_pages)&&n.fetchList(a.data.pagination.next_page,e,i)}))}))},initCache:function(){var a=this;t.mapKeys(a.models_init_cache,(function(e,i){t.each(e,(function(t){a.fetchList(1,i,t)}))}))}})}}).call(this,e("2ef0"))},a897:function(t,a,e){},caba:function(t,a,e){},d81d:function(t,a,e){"use strict";var i=e("23e7"),n=e("b727").map,o=e("1dde"),s=o("map");i({target:"Array",proto:!0,forced:!s},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e09f:function(t,a,e){"use strict";e("097c")}}]);
//# sourceMappingURL=chunk-7deb771f.9583df7c.js.map