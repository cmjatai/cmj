"use strict";(self["webpackChunkPortalCMJ_Frontend_v2018"]=self["webpackChunkPortalCMJ_Frontend_v2018"]||[]).push([[323],{684:function(t){t.exports=function(t,i){var e="function"==typeof Iterator&&Iterator.prototype[t];if(e)try{e.call({next:null},i).next()}catch(a){return!0}}},1385:function(t,i,e){var a=e(9539);t.exports=function(t,i,e){for(var o=t.length-1;o>=0;o--)if(void 0!==t[o])try{e=a(t[o].iterator,i,e)}catch(n){i="throw",e=n}if("throw"===i)throw e;return e}},2489:function(t,i,e){var a=e(6518),o=e(9565),n=e(9306),s=e(8551),r=e(1767),d=e(9462),l=e(6319),c=e(6395),u=e(9539),p=e(684),v=e(4549),m=!c&&!p("filter",function(){}),_=!c&&!m&&v("filter",TypeError),f=c||m||_,h=d(function(){var t,i,e,a=this.iterator,n=this.predicate,r=this.next;while(1){if(t=s(o(r,a)),i=this.done=!!t.done,i)return;if(e=t.value,l(a,n,[e,this.counter++],!0))return e}});a({target:"Iterator",proto:!0,real:!0,forced:f},{filter:function(t){s(this);try{n(t)}catch(i){u(this,"throw",i)}return _?o(_,this,t):new h(r(this),{predicate:t})}})},2529:function(t){t.exports=function(t,i){return{value:t,done:i}}},6176:function(t,i,e){e.d(i,{A:function(){return c}});var a=function(){var t=this,i=t._self._c;return i("div",{class:["cronometro-component",t.css_class]},[t.cronometro?i("div",{class:["croncard",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""]},[i("div",{staticClass:"inner"},[i("div",{class:["display-time",t.display,t.cronometro.state,t.cronometro.remaining_time<0?"exceeded":""],style:{fontSize:t.display_size}},[t._v(" "+t._s(t.displayTime)+" ")]),i("div",{staticClass:"inner-rodape"},["elapsed"===t.display?i("div",[i("small",[t._v("Tempo Decorrido")])]):"remaining"===t.display?i("div",[t.cronometro.remaining_time<0?i("small",[t._v("Tempo Excedido")]):i("small",[t._v("Tempo Restante")])]):"last_paused"===t.display?i("div",[i("small",[t._v("Tempo de Suspensão")])]):t._e()])]),t.css_class_controls?i("div",{class:["controls",t.css_class_controls]},[i("div",{staticClass:"btn-group btn-group-sm",attrs:{role:"group","aria-label":"First group"}},[t.controls.includes("toggleDisplay")?i("a",{staticClass:"btn btn-outline-dark btn-toggle",attrs:{title:"Alternar exibição"},on:{click:function(i){return i.stopPropagation(),t.toogleDisplay.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-exchange-alt",attrs:{"aria-hidden":"true"}})]):t._e(),"stopped"===t.cronometro.state&&t.controls.includes("start")?i("a",{staticClass:"btn btn-outline-dark btn-start",on:{click:function(i){return i.stopPropagation(),t.startCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),"running"===t.cronometro.state&&t.controls.includes("pause")?i("a",{staticClass:"btn btn-outline-dark btn-pause",on:{click:function(i){return i.stopPropagation(),t.pauseCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})]):t._e(),"paused"===t.cronometro.state&&t.controls.includes("resume")?i("a",{staticClass:"btn btn-outline-dark btn-resume",on:{click:function(i){return i.stopPropagation(),t.resumeCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})]):t._e(),["running","paused"].includes(t.cronometro.state)&&t.controls.includes("stop")?i("a",{staticClass:"btn btn-outline-dark btn-stop",on:{click:function(i){return i.stopPropagation(),t.stopCronometro.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-stop",attrs:{"aria-hidden":"true"}})]):t._e(),t.controls.includes("add1m")?i("a",{staticClass:"btn btn-outline-dark btn-negative btn-add1m",attrs:{title:"Reduzir 1 minuto"},on:{click:function(i){return i.stopPropagation(),t.addTime(-60)}}},[t._v(" -1m ")]):t._e(),t.controls.includes("add30s")?i("a",{staticClass:"btn btn-outline-dark btn-negative btn-add30s",attrs:{title:"Reduzir 30 segundos"},on:{click:function(i){return i.stopPropagation(),t.addTime(-30)}}},[t._v(" -30s ")]):t._e(),t.controls.includes("add30s")?i("a",{staticClass:"btn btn-outline-dark btn-add30s",attrs:{title:"Adicionar 30 segundos"},on:{click:function(i){return i.stopPropagation(),t.addTime(30)}}},[t._v(" +30s ")]):t._e(),t.controls.includes("add1m")?i("a",{staticClass:"btn btn-outline-dark btn-add1m",attrs:{title:"Adicionar 1 minuto"},on:{click:function(i){return i.stopPropagation(),t.addTime(60)}}},[t._v(" +1m ")]):t._e(),t.controls.includes("add3m")?i("a",{staticClass:"btn btn-outline-dark btn-add3m",attrs:{title:"Adicionar 3 minutos"},on:{click:function(i){return i.stopPropagation(),t.addTime(180)}}},[t._v(" +3m ")]):t._e(),t.controls.includes("add5m")?i("a",{staticClass:"btn btn-outline-dark btn-add5m",attrs:{title:"Adicionar 5 minutos"},on:{click:function(i){return i.stopPropagation(),t.addTime(300)}}},[t._v(" +5m ")]):t._e()])]):t._e()]):i("div",[i("p",[t._v("Carregando cronômetro...")])])])},o=[],n=(e(8111),e(116),e(5353)),s={name:"cronometro-base",props:{cronometro_id:{type:Number,required:!0},css_class:{type:String,default:""},css_class_controls:{type:String,default:""},display_initial:{type:String,default:"elapsed",validator:function(t){return["elapsed","remaining","last_paused"].includes(t)}},display_format:{type:String,default:"hh:mm:ss"},display_size:{type:String,default:"1.5em"},auto_start:{type:Boolean,default:!1},auto_stop:{type:Boolean,default:!1},controls:{type:Array,default:()=>["start","pause","resume","stop","add30s","add1m","add3m","add5m","toggleDisplay"]}},data(){return{display:this.display_initial,modesDisplay:["elapsed","remaining","last_paused"],timerInterval:1500,controlsDisplay:this.controls}},mounted:function(){},methods:{...n.Ay.mapActions("store__sync",["sendSyncMessage"]),toogleDisplay(){const t=this.modesDisplay.indexOf(this.display),i=(t+1)%this.modesDisplay.length;let e=this.modesDisplay[i];"last_paused"===e&&"paused"!==this.cronometro.state&&(e="elapsed"),this.display=e},addTime(t){this.sendSyncMessage({type:"command",command:"add_time",app:"painelset",model:"cronometro",params:{id:this.cronometro_id,seconds:t}})},startCronometro(){this.sendSyncMessage({type:"command",command:"start",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_start")},pauseCronometro(){this.sendSyncMessage({type:"command",command:"pause",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="last_paused",this.$emit("cronometro_pause")},resumeCronometro(){this.sendSyncMessage({type:"command",command:"resume",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display=this.display_initial,this.$emit("cronometro_resume")},stopCronometro(){this.sendSyncMessage({type:"command",command:"stop",app:"painelset",model:"cronometro",params:{id:this.cronometro_id}}),this.display="elapsed"},secondsToTime:function(t,i,e){let a=Math.round(t[i]||t[e]||0);const o=a<0?"-":"";a<0&&(a*=-1);const n=Math.floor(a/3600),s=Math.floor(a%3600/60),r=a%60;let d="";return"hh:mm:ss"===this.display_format?d=[n,s,r].map(t=>t<10?"0"+t:t).join(":"):"mm:ss"===this.display_format?d=[s+60*n,r].map(t=>t<10?"0"+t:t).join(":"):"ss"===this.display_format&&(d=(r+60*s+3600*n).toString()),o&&(d=o+d),d||"00:00:00"}},computed:{cronometro:function(){return this.data_cache?.painelset_cronometro?Object.values(this.data_cache.painelset_cronometro).find(t=>t.id===this.cronometro_id):null},displayTime:function(){return"elapsed"===this.display?this.elapsedTime:"remaining"===this.display?this.remainingTime:"last_paused"===this.display?this.lastPausedTime:"00:00:00"},lastPausedTime:function(){return this.secondsToTime(this.cronometro,"last_paused_time")},elapsedTime:function(){return this.secondsToTime(this.cronometro,"elapsed_time")},remainingTime:function(){return this.secondsToTime(this.cronometro,"remaining_time","accumulated_time")},accumulatedTime:function(){return this.secondsToTime(this.cronometro,"accumulated_time")}}},r=s,d=e(1656),l=(0,d.A)(r,a,o,!1,null,null,null),c=l.exports},6279:function(t,i,e){var a=e(6840);t.exports=function(t,i,e){for(var o in i)a(t,o,i[o],e);return t}},6319:function(t,i,e){var a=e(8551),o=e(9539);t.exports=function(t,i,e,n){try{return n?i(a(e)[0],e[1]):i(e)}catch(s){o(t,"throw",s)}}},8323:function(t,i,e){e.r(i),e.d(i,{default:function(){return K}});var a=function(){var t=this,i=t._self._c;return i("div",{staticClass:"painelset-admin"},[i("div",{staticClass:"container-grid"},[i("div",{staticClass:"row header"},[i("div",{staticClass:"col"},[i("div",{staticClass:"titulo-evento"},[t._v(" "+t._s(t.evento?t.evento.name:"Carregando evento...")+" "),i("small",[t._v(" "+t._s(t.datahora_prevista_real[0])+" - "+t._s(t.datahora_prevista_real[1])+" "+t._s(t.datahora_prevista_real[2])+" ")])])]),i("div",{staticClass:"col-auto"},[t.cronometro?i("cronometro-base",{attrs:{cronometro_id:t.cronometro.id,css_class_controls:"hover",css_class:"cronometro-global",controls:["start","pause","resume","toggleDisplay"]},on:{cronometro_start:function(i){return t.startEvento()},cronometro_pause:function(i){return t.pauseEvento()},cronometro_resume:function(i){return t.resumeEvento()}}}):t._e()],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 container-individuos"},[t.evento?i("individuo-list",{ref:"individuoList",attrs:{evento:t.evento,pause_parent_on_start:t.cronometro&&t.cronometro.pause_parent_on_start}}):t._e()],1),i("div",{staticClass:"col-7 container-controls"},[t.evento?i("palavra-em-uso",{ref:"palavraEmUso",attrs:{evento:t.evento}}):t._e(),t.evento?i("visoes-control",{ref:"visoesControl",attrs:{evento:t.evento}}):t._e()],1)])]),t.cronometro&&"running"!==t.cronometro.state?i("div",{staticClass:"disabled"},[i("div",{staticClass:"overlay-paused"},[i("div",{staticClass:"text-paused"},[t.cronometro&&"paused"===t.cronometro.state?i("div",[t._v(" EVENTO EM SUSPENSÃO ")]):t.cronometro&&"stopped"===t.cronometro.state?i("div",[t._v("EVENTO NÃO INICIADO")]):t._e()])])]):t._e()])},o=[],n=(e(4114),e(6176)),s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"individuo-list"},[i("div",{class:["individuo-base","manager",t.status_microfone?"":"muted"]},[i("div",{staticClass:"inner"},[i("div",{staticClass:"controls"},[i("button",{staticClass:"btn-action btn-fone",attrs:{title:"Ativar/Desativar Todos os Microfones"},on:{click:function(i){return t.toggleAllMicrofones()}}},[i("i",{class:t.status_microfone?"fas fa-2x fa-microphone":"fas fa-2x fa-microphone-slash"})])]),i("div",{staticClass:"inner-individuo py-2"},[t._v(t._s(t.individuos.length)+" CANAIS")]),i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"default-timer"},[i("button",{staticClass:"btn btn-link"},[i("i",{staticClass:"fas fa-arrow-down",on:{click:function(i){t.default_timer>60?t.default_timer-=60:t.default_timer=60}}})]),t._v(" Tempo Padrão: "+t._s((t.default_timer/60).toFixed(0))+" min "),i("button",{staticClass:"btn btn-link"},[i("i",{staticClass:"fas fa-arrow-up",on:{click:function(i){t.default_timer<600?t.default_timer+=60:t.default_timer=600}}})])])]),i("div",{staticClass:"inner-individuo"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pause_parent_on_aparte,expression:"pause_parent_on_aparte"}],attrs:{type:"checkbox",id:"pause_parent_on_aparte",title:"Pausar o Cronômetro de quem está com a palavra quando alguém solicitar aparte"},domProps:{checked:Array.isArray(t.pause_parent_on_aparte)?t._i(t.pause_parent_on_aparte,null)>-1:t.pause_parent_on_aparte},on:{change:function(i){var e=t.pause_parent_on_aparte,a=i.target,o=!!a.checked;if(Array.isArray(e)){var n=null,s=t._i(e,n);a.checked?s<0&&(t.pause_parent_on_aparte=e.concat([n])):s>-1&&(t.pause_parent_on_aparte=e.slice(0,s).concat(e.slice(s+1)))}else t.pause_parent_on_aparte=o}}})])])]),i("div",{staticClass:"individuos"},t._l(t.individuos,function(e){return i("individuo-base",{key:`individuo-${e.id}-${e.order}`,ref:`individuo-${e.id}`,refInFor:!0,attrs:{individuo_id:e.id,default_timer:t.default_timer}})}),1)])},r=[],d=(e(8111),e(8767),e(2489),function(){var t=this,i=t._self._c;return i("div",{class:["individuo-base",t.individuo&&t.individuo.status_microfone?"":"muted",t.individuo&&t.individuo.parlamentar?"parlamentar":"",t.individuo&&t.individuo.com_a_palavra?"com-a-palavra":t.individuo&&t.individuo.microfone_sempre_ativo?"always-on":"active",t.individuo&&t.individuo.aparteado?"aparteante":""]},[i("div",{staticClass:"inner"},[i("div",{class:["inner-individuo",t.fotografiaUrl?"":"no-photo"],on:{click:function(i){return t.clickIndividuo(i)},dblclick:function(i){return t.dblclickIndividuo(i)}}},[i("div",{staticClass:"avatar"},[t.fotografiaUrl?i("img",{attrs:{src:t.fotografiaUrl,alt:"Foto do individuo"}}):i("i",{staticClass:"fas fa-user"})]),i("div",{staticClass:"name"},[t._v(" "+t._s(t.individuo?t.individuo.name:"Carregando indivíduo...")+" "),i("small",[t._v(t._s(t.individuo?`(${t.individuo.canal})`:""))])])]),i("div",{staticClass:"controls"},[t.individuo?i("button",{staticClass:"btn-action btn-fone",attrs:{title:t.individuo&&!t.individuo.status_microfone?"Ativar microfone":"Desativar microfone"},on:{click:function(i){return t.toggleMicrofone()}}},[i("i",{class:t.individuo&&t.individuo.status_microfone?"fas fa-2x fa-microphone":"fas fa-2x fa-microphone-slash"})]):t._e(),i("button",{staticClass:"btn-action btn-aparte",attrs:{title:"Solicitar aparte"},on:{click:function(i){return i.preventDefault(),t.clickIndividuo(i)}}},[i("i",{staticClass:"fas fa-hand-rock"})]),i("button",{staticClass:"btn-action btn-palavra",attrs:{title:"Solicitar a palavra"},on:{click:function(i){return i.stopPropagation(),t.dblclickIndividuo(i)}}},[i("i",{staticClass:"fas fa-hand-paper"})]),t._e()])])])}),l=[],c=(e(116),e(3412)),u={name:"individuo-base",props:{individuo_id:{type:Number,required:!0},default_timer:{type:Number,required:!1,default:300},default_timer_aparteante:{type:Number,required:!1,default:60}},data(){return{click_timeout:null}},computed:{individuoComPalavra:{get(){return this.data_cache?.painelset_individuo&&Object.values(this.data_cache.painelset_individuo).find(t=>t.com_a_palavra&&t.evento===this.individuo.evento)||null}},individuo:function(){return this.data_cache?.painelset_individuo&&this.individuo_id&&this.data_cache.painelset_individuo[this.individuo_id]||null},fotografiaUrl:function(){return this.individuo?.fotografia?"/api/painelset/individuo/"+this.individuo.id+"/fotografia.c96.png":this.individuo?.parlamentar?"/api/parlamentares/parlamentar/"+this.individuo.parlamentar+"/fotografia.c96.png":""}},mounted(){c.l.$on("toggle-microfone-individuo",t=>{t===this.individuo_id&&this.toggleMicrofone()})},methods:{toggleMicrofone:function(){this.sendUpdate("toggle_microfone",{status_microfone:this.individuo?.status_microfone?"off":"on",default_timer:this.default_timer,com_a_palavra:this.individuo?.com_a_palavra?1:0})},clickIndividuo:function(t){const i=this;clearTimeout(i.click_timeout),i.click_timeout=setTimeout(()=>{if(i.individuo?.com_a_palavra||!i.individuoComPalavra)return i.individuo===i.individuoComPalavra?void i.sendMessage({alert:"error",message:"A palavra já está sendo utilizada por este indivíduo.",time:7}):void this.sendMessage({alert:"error",message:"A palavra não está sendo utilizada. Não é possível fazer aparte.",time:7});i.sendUpdate("toggle_aparteante",{aparteante_status:i.individuo.aparteado?0:1,default_timer:i.default_timer_aparteante||60})},600)},dblclickIndividuo:function(t){clearTimeout(this.click_timeout),this.sendUpdate("toggle_microfone",{status_microfone:this.individuo?.status_microfone||!this.individuo?.com_a_palavra?"on":"off",default_timer:this.default_timer,com_a_palavra:this.individuo?.com_a_palavra?0:1})},sendUpdate(t,i){return this.utils.patchModelAction("painelset","individuo",this.individuo_id,t,i).then(t=>{}).catch(t=>{this.sendMessage({alert:"error",message:"Erro ao atualizar indivíduo: "+t.response.data,time:5})})}}},p=u,v=e(1656),m=(0,v.A)(p,d,l,!1,null,null,null),_=m.exports,f=e(2543),h={name:"individuo-list",props:{evento:{type:Object,required:!0},pause_parent_on_start:{type:Boolean,required:!1,default:!1}},components:{IndividuoBase:_},data(){return{init:!1,status_microfone:!1,pause_parent_on_aparte:this.pause_parent_on_start,default_timer:300}},computed:{individuos:{get(){return this.data_cache?.painelset_individuo?f.orderBy(f.filter(Object.values(this.data_cache.painelset_individuo),{evento:this.evento.id}),["order"],["asc"]):[]}},cronometros(){if(this.data_cache?.painelset_individuo){const t=[];for(const i of Object.values(this.data_cache.painelset_individuo))i.evento===this.evento.id&&i.cronometro&&t.push(this.data_cache.painelset_cronometro[i.cronometro]);return t}return[]}},watch:{individuos:{handler(t,i){this.status_microfone=this.individuos.every(t=>!0===t.status_microfone)},deep:!0},pause_parent_on_start:function(t,i){this.pause_parent_on_aparte=t},pause_parent_on_aparte:function(t,i){const e=this;if(e.cronometros&&e.cronometros.length>0&&e.cronometros[0]&&e.cronometros[0].pause_parent_on_start===t)return;const a={pause_parent_on_aparte:t?"on":"off"};e.utils.patchModelAction("painelset","evento",this.evento.id,"pause_parent_on_aparte",a).then(t=>{}).catch(t=>{this.sendMessage({alert:"error",message:"Erro ao atualizar Configurar Pausa: "+t.response.data,time:5})})}},mounted(){this.fetchSync({app:"painelset",model:"individuo",params:{evento:this.evento.id}})},methods:{toggleAllMicrofones(t=!0){const i=this;i.status_microfone=!i.status_microfone;const e={status_microfone:i.status_microfone?"on":"off",inclui_microfone_sempre_ativo:t?"on":"off"};i.utils.patchModelAction("painelset","evento",this.evento.id,"toggle_microfones",e).then(t=>{}).catch(t=>{this.sendMessage({alert:"error",message:"Erro ao atualizar Microfones: "+t.response.data,time:5})})}}},g=h,y=(0,v.A)(g,s,r,!1,null,null,null),C=y.exports,b=function(){var t=this,i=t._self._c;return i("div",{staticClass:"palavraemuso-component"},[t.individuo?i("div",{key:`individuo-com-a-palavra-${t.individuo.id}`,ref:`individuo-com-a-palavra-${t.individuo.id}`,class:["individuo-com-a-palavra"]},[i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo-header"},[i("div",{staticClass:"name"},[t._v(" "+t._s(t.individuo?t.individuo.name:"Carregando indivíduo...")+" ")])])]),i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo"},[i("div",{staticClass:"avatar"},[t.fotografiaUrl?i("img",{attrs:{src:t.fotografiaUrl,alt:"Foto do indivíduo"}}):i("i",{staticClass:"fas fa-user-circle fa-2x"})])]),i("div",{staticClass:"divide"}),i("div",{staticClass:"cronometro"},[i("cronometro-palavra",{key:`cronometro-com-a-palavra-${t.individuo.cronometro}`,ref:`cronometro-com-a-palavra-${t.individuo.cronometro}`,attrs:{cronometro_id:t.individuo.cronometro}}),i("div",{staticClass:"icon-status-microfone",on:{click:t.toggleMicrofone}},[t.individuo&&t.individuo.status_microfone?i("i",{staticClass:"fas fa-microphone"}):i("i",{staticClass:"fas fa-microphone-slash"})])],1)])]):t._e(),t.individuo&&t.individuo.aparteante?i("individuo-aparteante",{key:`individuo-aparteante-${t.individuo.aparteante}`,ref:`individuo-aparteante-${t.individuo.aparteante}`,attrs:{individuo_id:t.individuo.aparteante}}):t._e()],1)},k=[],A=function(){var t=this,i=t._self._c;return i("div",{staticClass:"cronometro-palavra"},[i("cronometro-base",{key:`cronometro-palavra-${t.cronometro_id}`,ref:`cronometro-palavra-${t.cronometro_id}`,attrs:{cronometro_id:t.cronometro_id,css_class_controls:"visible",css_class:"cron-palavra",display_initial:"remaining",display_format:"mm:ss",display_size:"4em",auto_start:!0,controls:t.controls}})],1)},x=[],T={name:"cronometro-palavra",components:{CronometroBase:n.A},props:{cronometro_id:{type:Number,required:!0},controls:{type:Array,required:!1,default:function(){return["pause","resume","add30s","add1m","add3m","add5m"]}}},data(){return{}}},M=T,$=(0,v.A)(M,A,x,!1,null,null,null),S=$.exports,P=function(){var t=this,i=t._self._c;return i("div",{staticClass:"individuo-aparteante-component"},[t.individuo?i("div",{key:`individuo-aparteante-${t.individuo.id}`,ref:`individuo-aparteante-${t.individuo.id}`,class:["individuo-aparteante"]},[i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo-header"},[i("div",{staticClass:"name"},[i("strong",[t._v("EM APARTE:")]),t._v(" "+t._s(t.individuo?t.individuo.name:"Carregando indivíduo...")+" ")])])]),i("div",{staticClass:"inner-individuo"},[i("div",{staticClass:"individuo"},[i("div",{staticClass:"avatar"},[t.fotografiaUrl?i("img",{attrs:{src:t.fotografiaUrl,alt:"Foto do parlamentar"}}):i("i",{staticClass:"fas fa-user-circle fa-2x"})])]),i("div",{staticClass:"divide"}),i("div",{staticClass:"cronometro"},[i("cronometro-palavra",{key:`cronometro-com-a-palavra-${t.individuo.cronometro}`,ref:`cronometro-com-a-palavra-${t.individuo.cronometro}`,attrs:{cronometro_id:t.individuo.cronometro,controls:["pause","resume","add30s","add1m"]}}),i("div",{staticClass:"icon-status-microfone",on:{click:t.toggleMicrofone}},[t.individuo&&t.individuo.status_microfone?i("i",{staticClass:"fas fa-microphone"}):i("i",{staticClass:"fas fa-microphone-slash"})])],1)])]):t._e()])},I=[],E={name:"individuo-aparteante",components:{CronometroPalavra:S},props:{individuo_id:{type:Number,required:!1,default:null}},data(){return{}},computed:{individuo:{get(){return this.individuo_id&&this.data_cache?.painelset_individuo&&this.data_cache.painelset_individuo[this.individuo_id]||null}},fotografiaUrl:function(){return this.individuo?.fotografia?"/api/painelset/individuo/"+this.individuo.id+"/fotografia.c96.png":this.individuo?.parlamentar?"/api/parlamentares/parlamentar/"+this.individuo.parlamentar+"/fotografia.c96.png":""}},methods:{toggleMicrofone:function(){c.l.$emit("toggle-microfone-individuo",this.individuo.id)}}},w=E,D=(0,v.A)(w,P,I,!1,null,null,null),N=D.exports,U={name:"palavra-em-uso",components:{CronometroPalavra:S,IndividuoAparteante:N},props:{evento:{type:Object,required:!0}},data(){return{}},computed:{individuo:{get(){return this.evento&&this.data_cache?.painelset_individuo&&Object.values(this.data_cache.painelset_individuo).find(t=>t.com_a_palavra&&t.evento===this.evento.id)||null}},fotografiaUrl:function(){return this.individuo?.fotografia?"/api/painelset/individuo/"+this.individuo.id+"/fotografia.c96.png":this.individuo?.parlamentar?"/api/parlamentares/parlamentar/"+this.individuo.parlamentar+"/fotografia.c96.png":""}},methods:{toggleMicrofone:function(){c.l.$emit("toggle-microfone-individuo",this.individuo.id)}}},O=U,j=(0,v.A)(O,b,k,!1,null,null,null),q=j.exports,z=function(){var t=this,i=t._self._c;return i("div",{staticClass:"painelset-visoes-control"},[i("div",{staticClass:"youtube_id"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.youtube_id,expression:"youtube_id"}],attrs:{type:"text"},domProps:{value:t.youtube_id},on:{change:function(i){return t.utils.patchModel("painelset","evento",t.evento.id,{youtube_id:t.youtube_id})},input:function(i){i.target.composing||(t.youtube_id=i.target.value)}}})]),t.painel?i("div",{staticClass:"inner"},[i("div",{staticClass:"checkbox-auto-select-visoes"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.painel.auto_select_visoes,expression:"painel.auto_select_visoes"}],attrs:{type:"checkbox",id:"autoSelectVisoes"},domProps:{checked:Array.isArray(t.painel.auto_select_visoes)?t._i(t.painel.auto_select_visoes,null)>-1:t.painel.auto_select_visoes},on:{change:[function(i){var e=t.painel.auto_select_visoes,a=i.target,o=!!a.checked;if(Array.isArray(e)){var n=null,s=t._i(e,n);a.checked?s<0&&t.$set(t.painel,"auto_select_visoes",e.concat([n])):s>-1&&t.$set(t.painel,"auto_select_visoes",e.slice(0,s).concat(e.slice(s+1)))}else t.$set(t.painel,"auto_select_visoes",o)},function(i){return t.utils.patchModel("painelset","painel",t.painel.id,{auto_select_visoes:t.painel.auto_select_visoes})}]}})]),i("div",{staticClass:"inner-visoes"},[i("div",{staticClass:"title-visao-ativa"},[t.visoes.length>0?i("div",t._l(t.visoes,function(e){return i("span",{key:`visao-ativa-${e.id}`},[e.active?i("span",[i("i",{staticClass:"fas fa-check-circle"}),t._v(" "+t._s(e.name)+" ")]):t._e()])}),0):t._e()]),i("div",{staticClass:"lista-visoes btn-group"},t._l(t.visoes,function(e){return i("a",{key:`visao-control-${e.id}`,class:["btn btn-secondary",e.active?"active":"",e.config.only_manual_activation?"btn-warning":""],attrs:{title:e.name},on:{click:function(i){return t.manualActiveVisao(e.id)}}},[t._v(" "+t._s(e.position)+" ")])}),0)])]):t._e()])},V=[],F=e(2543),L={name:"visoes-control",props:{evento:{type:Object,required:!0}},components:{},data(){return{evento_id:Number(this.$route.params.id),youtube_id:""}},watch:{evento:{handler(t){!this.finished&&t&&t.end_real&&(this.finished=!0,this.sendMessage({alert:"danger",message:"Evento já finalizado. Você pode copiá-lo para gerar um novo evento.",time:10}),this.$router.push({name:"painelset_evento_list_link"})),t&&(this.youtube_id=t.youtube_id||"",this.fetchSync({app:"painelset",model:"painel",params:{evento:t.id,principal:!0}}).then(()=>{this.fetchSync({app:"painelset",model:"visaodepainel",params:{painel:this.painel.id}})}))},immediate:!0}},computed:{painel:function(){return this.evento&&this.data_cache?.painelset_painel&&Object.values(this.data_cache?.painelset_painel).find(t=>t.evento===this.evento.id)||null},visoes:function(){return this.painel&&this.data_cache?.painelset_visaodepainel?F.orderBy(F.filter(Object.values(this.data_cache?.painelset_visaodepainel),{painel:this.painel.id}),["position"],["asc"]):[]}},mounted:function(){this.$nextTick(()=>{this.permissions.includes("painelset.change_evento")?(this.registerModels({app:"painelset",models:["evento","painel","visaodepainel"]}),this.fetchSync({app:"painelset",model:"evento",id:this.evento_id})):(this.$router.push({name:"online_index_link"}),this.sendMessage({alert:"danger",message:"Você não tem permissão para acessar esta página. aqui1",time:5}))})},methods:{manualActiveVisao:function(t){this.utils.patchModelAction("painelset","visaodepainel",t,"activate").then(t=>{}).catch(t=>{this.sendMessage({alert:"error",message:"Erro ao atualizar Visão Ativa: "+t.response.data,time:5})})}}},R=L,B=(0,v.A)(R,z,V,!1,null,null,null),H=B.exports,J={name:"painelset-admin",components:{CronometroBase:n.A,IndividuoList:C,PalavraEmUso:q,VisoesControl:H},data(){return{evento_id:Number(this.$route.params.id),finished:!1}},watch:{evento:{handler(t){if(!this.finished&&t&&t.end_real&&(this.finished=!0,this.sendMessage({alert:"danger",message:"Evento já finalizado. Você pode copiá-lo para gerar um novo evento.",time:10}),this.$router.push({name:"painelset_evento_list_link"})),t&&t.cronometro)return this.fetchSync({app:"painelset",model:"cronometro",id:t.cronometro})},immediate:!0}},computed:{evento:function(){return this.data_cache["painelset_evento"]?this.data_cache["painelset_evento"][this.evento_id]:null},cronometro:function(){return this.evento&&this.evento.cronometro&&this.data_cache["painelset_cronometro"]?this.data_cache["painelset_cronometro"][this.evento.cronometro]:null},datahora_prevista_real:function(){if(this.evento&&!this.evento.start_real){const t=new Date(this.evento.start_previsto);return["Início previsto",t.toLocaleDateString(),t.toLocaleTimeString()]}if(this.evento&&this.evento.start_real){const t=new Date(this.evento.start_real);return["Iniciado em",t.toLocaleDateString(),t.toLocaleTimeString()]}return["Data e hora não definidas","",""]}},mounted:function(){setTimeout(()=>{this.permissions.includes("painelset.change_evento")?this.fetchSync({app:"painelset",model:"evento",id:this.evento_id}):(this.$router.push({name:"online_index_link"}),this.sendMessage({alert:"danger",message:"Você não tem permissão para acessar esta página. aqui 2",time:5}))},1e3)},methods:{resumeEvento(){this.$refs.individuoList.status_microfone=0,this.$refs.individuoList.toggleAllMicrofones()},startEvento(){this.utils.patchModelAction("painelset","evento",this.evento.id,"start").then(t=>{}).catch(t=>{})},pauseEvento(){this.$refs.individuoList.status_microfone=1,this.$refs.individuoList.toggleAllMicrofones(!1)}}},W=J,G=(0,v.A)(W,a,o,!1,null,null,null),K=G.exports},8767:function(t,i,e){var a=e(6518),o=e(9565),n=e(2652),s=e(9306),r=e(8551),d=e(1767),l=e(9539),c=e(4549),u=c("every",TypeError);a({target:"Iterator",proto:!0,real:!0,forced:u},{every:function(t){r(this);try{s(t)}catch(a){l(this,"throw",a)}if(u)return o(u,this,t);var i=d(this),e=0;return!n(i,function(i,a){if(!t(i,e++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},9462:function(t,i,e){var a=e(9565),o=e(2360),n=e(6699),s=e(6279),r=e(8227),d=e(1181),l=e(5966),c=e(7657).IteratorPrototype,u=e(2529),p=e(9539),v=e(1385),m=r("toStringTag"),_="IteratorHelper",f="WrapForValidIterator",h="normal",g="throw",y=d.set,C=function(t){var i=d.getterFor(t?f:_);return s(o(c),{next:function(){var e=i(this);if(t)return e.nextHandler();if(e.done)return u(void 0,!0);try{var a=e.nextHandler();return e.returnHandlerResult?a:u(a,e.done)}catch(o){throw e.done=!0,o}},return:function(){var e=i(this),o=e.iterator;if(e.done=!0,t){var n=l(o,"return");return n?a(n,o):u(void 0,!0)}if(e.inner)try{p(e.inner.iterator,h)}catch(s){return p(o,g,s)}if(e.openIters)try{v(e.openIters,h)}catch(s){return p(o,g,s)}return o&&p(o,h),u(void 0,!0)}})},b=C(!0),k=C(!1);n(k,m,"Iterator Helper"),t.exports=function(t,i,e){var a=function(a,o){o?(o.iterator=a.iterator,o.next=a.next):o=a,o.type=i?f:_,o.returnHandlerResult=!!e,o.nextHandler=t,o.counter=0,o.done=!1,y(this,o)};return a.prototype=i?b:k,a}}}]);