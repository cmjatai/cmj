{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/__apps/compilacao/js/old/compilacao_edit.js","webpack:///./src/__apps/compilacao/js/old/compilacao.js","webpack:///./src/__apps/compilacao/main.js","webpack:///./src/__apps/compilacao/js/old/compilacao_view.js","webpack:///./src/__apps/compilacao/js/old/compilacao_notas.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_$","$","DispositivoEdit","instance","editortype","this","bindActionsEditorType","event","getAttribute","SetCookie","dpt","closest","pk","attr","clearEditSelected","triggerBtnDptEdit","preventDefault","bindActionsClick","form_data","url","waitShow","done","message","fail","waitHide","always","html","tinymce","remove","removeClass","editDispositivo","obj_click","target","classList","contains","parentElement","hasClass","loadActionsEdit","formtype","on","loadForm","gc","setTimeout","get_form_base","_this","addClass","dpt_form","children","filter","find","submit","onSubmitEditFormBase","scrollTo","off","btn_fechar","btns_excluir","first","append","get_form_alteracao","url_search","concat","DispositivoSearch","autostart","onSubmitFormRegistraAlteracao","get_form_inclusao","allowed_inserts_registro_inclusao","onSubmitFormRegistraInclusao","get_form_revogacao","onSubmitFormRegistraRevogacao","params","dispositivo_base_para_inclusao","pk_bloco","loadFormsCompilacao","mouseenter","mouseleave","trigger","initTextRichEditor","modalMessage","alert","closeFunction","modal","undefined","type","refreshScreenFocusPk","cp_notify","msg","text","time","offClicks","onClicks","container","objects","dispositivo_alterado","Array","from","csrfmiddlewaretoken","elem","idx","array","checked","map","dsp","post","dispositivo_revogado","revogacao_em_bloco","texto","texto_atualizador","visibilidade","editor_tiny_texto","editor_tiny_texto_atualizador","getContent","replaceWith","refreshContent","pais","trigger_edit_pk","reloadFunctionsDraggables","pai","href","location","split","reload","dptAlts","sortable","connectWith","items","revert","distance","start","ui","stop","item","bloco_pk","index","one","draggable","connectToSortable","zIndex","drag","disableSelection","animate","scrollTop","offset","top","innerHeight","err","btn_dpt_edit","init","css","ReadCookie","click","firstElementChild","document","ready","cookieName","cookieValue","nDays","today","Date","expire","setTime","getTime","cookie","escape","toGMTString","theCookie","ind","indexOf","ind1","unescape","substring","insertWaitAjax","element","opts","formData","containerDs","prepend","fields","each","field","dataTypeSelection","dataField","dataFunction","onChangeFieldSelects","tas","prop","dpts","insertBefore","onChangeParamTA","tipoTa","val","tipoModel","numTa","anoTa","tipoResultado","rotuloDispositivo","textoDispositivo","maxResults","taEditor","add","localStorage","setItem","JSON","stringify","onKeyPressRotuloBuscaTextual","buttonDs","btnOpenSearch","modalDs","change","selectedIndex","innerHTML","select","empty","appendTo","tipo_model","listas","selecionados","ulLista","id","inputForThis","parse","getItem","num_ta","ano_ta","rotulo","max_results","tipo_resultado","e","tipo_ta","_","forEach","merge","compilacao","compilacaoNotas","compilacaoView","func","nivel","parseInt","onReadyNotasVides","JsDiff","require","isElementInViewport","el","jQuery","rect","getBoundingClientRect","left","bottom","documentElement","clientHeight","right","innerWidth","clientWidth","textoMultiVigente","diff","elv","ldpts","search","pks","a","contents","nodeType","Node","TEXT_NODE","b","diffWordsWithSpace","clone","after","part","span","createElement","removed","added","appendChild","createTextNode","parent","textoVigente","link","textoVigenteSemRevogados","onEventsDneExec","model","refreshDatePicker","onSubmitEditNVForm","idEdit","idDispositivo","serialize","onDelete","idDelete","getForm","className","not"],"mappings":"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","file":"js/compilacao.f94dccf4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"compilacao\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/v2018/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([3,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\nlet _$ = window.$\n\nwindow.DispositivoEdit = function () {\n  // Função única - Singleton pattern - operador new sempre devolve o mesmo objeto\n  let instance\n\n  let editortype = 'textarea'\n\n  if (!(this instanceof window.DispositivoEdit)) {\n    if (!instance) {\n      instance = new window.DispositivoEdit()\n    }\n    return instance\n  }\n  instance = this\n  window.DispositivoEdit = function () {\n    return instance\n  }\n\n  instance.bindActionsEditorType = function (event) {\n    editortype = this.getAttribute('editortype')\n    window.SetCookie('editortype', editortype, 30)\n    let dpt = _$(this).closest('.dpt')\n\n    let pk = dpt.attr('pk')\n    instance.clearEditSelected()\n    instance.triggerBtnDptEdit(pk)\n    event.preventDefault()\n  }\n\n  instance.bindActionsClick = function (event) {\n    let pk = this.getAttribute('pk')\n\n    let form_data = {\n      'action': this.getAttribute('action'),\n      'tipo_pk': this.getAttribute('tipo_pk'),\n      'perfil_pk': this.getAttribute('perfil_pk'),\n      'variacao': this.getAttribute('variacao'),\n      'pk_bloco': this.getAttribute('pk_bloco')\n    }\n\n    let url = pk + '/refresh'\n    instance.waitShow()\n\n    _$.get(url, form_data).done(function (data) {\n      instance.clearEditSelected()\n      if (data.pk != null) {\n        instance.message(data)\n      }\n    }).fail(instance.waitHide).always(instance.waitHide)\n  }\n\n  instance.clearEditSelected = function () {\n    _$('.dpt-selected > .dpt-form').html('')\n    _$('.dpt-actions, .dpt-actions-bottom').html('')\n    window.tinymce.remove()\n    _$('.dpt-selected').removeClass('dpt-selected')\n  }\n\n  instance.editDispositivo = function (event) {\n    let obj_click = (event.target.classList.contains('dpt-link')\n      ? event.target\n      : (event.target.parentElement.classList.contains('dpt-link')\n        ? event.target.parentElement\n        : null))\n\n    if (obj_click && obj_click.getAttribute('href') && obj_click.getAttribute('href').length > 0) { return }\n\n    let dpt = _$(this).closest('.dpt')\n    if (dpt.hasClass('dpt-selected')) {\n      if (this.getAttribute('action') === 'editor-close') { instance.clearEditSelected() }\n      return\n    }\n    instance.clearEditSelected()\n    instance.loadActionsEdit(dpt)\n\n    let formtype = dpt.attr('formtype')\n    dpt.on(formtype, instance[formtype])\n    instance.loadForm(dpt, formtype)\n  }\n\n  instance.gc = function () {\n    setTimeout(function () {\n      _$('.dpt:not(.dpt-selected) > .dpt-form').html('')\n    }, 500)\n  }\n\n  instance.get_form_base = function () {\n    let _this = _$(this)\n    _this.addClass('dpt-selected')\n\n    let dpt_form = _this.children().filter('.dpt-form')\n    dpt_form.find('form').submit(instance.onSubmitEditFormBase)\n\n    instance.scrollTo(_this)\n    _this.off('get_form_base')\n\n    let btn_fechar = _this.find('.btn-fechar')\n    btn_fechar.on('click', function (event) {\n      instance.clearEditSelected()\n      event.preventDefault()\n    })\n\n    let btns_excluir = _this.find('.btns-excluir')\n    _this.find('.dpt-actions-bottom').first().append(btns_excluir)\n\n    btns_excluir.find('.btn-outline-danger').on('click', instance.bindActionsClick)\n  }\n\n  instance.get_form_alteracao = function () {\n    let _this = _$(this)\n    _this.off('get_form_alteracao')\n    _$('.dpt-actions, .dpt-actions-bottom').html('')\n\n    let dpt_form = _this.children().filter('.dpt-form').children().first()\n    let url_search = `${dpt_form[0]['id_dispositivo_search_form'].value}?ta_base_id=${dpt_form[0]['id_texto_articulado_do_editor'].value}`\n    window.DispositivoSearch({\n      'url_form': url_search,\n      'text_button': 'Selecionar',\n      autostart: true\n    })\n\n    instance.scrollTo(_this)\n    dpt_form.submit(instance.onSubmitFormRegistraAlteracao)\n\n    let btn_fechar = _this.find('.btn-fechar')\n    btn_fechar.on('click', function (event) {\n      instance.clearEditSelected()\n      instance.triggerBtnDptEdit(_this.attr('pk'))\n      event.preventDefault()\n    })\n  }\n\n  instance.get_form_inclusao = function () {\n    let _this = _$(this)\n    _this.off('get_form_inclusao')\n    _$('.dpt-actions, .dpt-actions-bottom').html('')\n\n    let dpt_form = _this.children().filter('.dpt-form').children().first()\n    let url_search = `${dpt_form[0]['id_dispositivo_search_form'].value}?ta_base_id=${dpt_form[0]['id_texto_articulado_do_editor'].value}`\n    window.DispositivoSearch({\n      'url_form': url_search,\n      'text_button': 'Selecionar',\n      'post_selected': instance.allowed_inserts_registro_inclusao,\n      'params_post_selected': { 'pk_bloco': _this.attr('pk') },\n      autostart: true\n\n    })\n\n    instance.scrollTo(_this)\n    dpt_form.submit(instance.onSubmitFormRegistraInclusao)\n\n    let btn_fechar = _this.find('.btn-fechar')\n    btn_fechar.on('click', function (event) {\n      instance.clearEditSelected()\n      instance.triggerBtnDptEdit(_this.attr('pk'))\n      event.preventDefault()\n    })\n  }\n\n  instance.get_form_revogacao = function () {\n    let _this = _$(this)\n    _this.off('get_form_revogacao')\n    _$('.dpt-actions, .dpt-actions-bottom').html('')\n\n    let dpt_form = _this.children().filter('.dpt-form').children().first()\n    let url_search = `${dpt_form[0]['id_dispositivo_search_form'].value}?ta_base_id=${dpt_form[0]['id_texto_articulado_do_editor'].value}`\n    window.DispositivoSearch({\n      'url_form': url_search,\n      'text_button': 'Selecionar',\n      autostart: true\n    })\n\n    instance.scrollTo(_this)\n    dpt_form.submit(instance.onSubmitFormRegistraRevogacao)\n\n    let btn_fechar = _this.find('.btn-fechar')\n    btn_fechar.on('click', function () {\n      instance.clearEditSelected()\n      instance.triggerBtnDptEdit(_this.attr('pk'))\n    })\n  }\n\n  instance.allowed_inserts_registro_inclusao = function (params) {\n    let dispositivo_base_para_inclusao = _$('#id' + params.pk_bloco + \" input[name='dispositivo_base_para_inclusao']\")\n    if (dispositivo_base_para_inclusao.length === 0) { return }\n\n    let pk = dispositivo_base_para_inclusao[0].value\n    let form_data = {\n      'action': 'get_actions_allowed_inserts_registro_inclusao',\n      'pk_bloco': params.pk_bloco\n    }\n\n    let url = pk + '/refresh'\n    instance.waitShow()\n\n    _$.get(url, form_data).done(function (data) {\n      _$('.allowed_inserts').html(data)\n      _$('.allowed_inserts').find('.btn-action').on('click', instance.bindActionsClick)\n    }).fail(instance.waitHide).always(instance.waitHide)\n  }\n\n  instance.loadActionsEdit = function (dpt) {\n    let pk = dpt.attr('pk')\n    let url = pk + '/refresh?action=get_actions'\n    _$.get(url).done(function (data) {\n      dpt.find('.dpt-actions').first().html(data)\n      dpt.find('.btn-action').on('click', instance.bindActionsClick)\n      // dpt.find('.btn-perfis').on('click', instance.bindActionsClick);\n      dpt.find('.btn-compila').on('click', instance.loadFormsCompilacao)\n      dpt.find('.btn-editor-type').on('click', instance.bindActionsEditorType)\n\n      if (editortype === 'construct') {\n        dpt.find('.btn-group-inserts').first().addClass('open show')\n        dpt.find('.btn-group-inserts ul').first().addClass('show')\n      }\n\n      dpt.find('.btn-group-inserts button').mouseenter(function (event) {\n        dpt.find('.btn-group-inserts ul').removeClass('show')\n        dpt.find('.btn-group-inserts').removeClass('open show')\n        _$(this.parentElement).addClass('open show')\n        _$(this.parentElement).find('ul').addClass('show')\n      })\n\n      dpt.find('.btn-group-inserts').mouseleave(function (event) {\n        dpt.find('.btn-group-inserts ul').removeClass('show')\n        dpt.find('.btn-group-inserts').removeClass('open show')\n      })\n\n      instance.gc()\n    })\n  }\n\n  instance.loadForm = function (dpt, trigger) {\n    let pk = dpt.attr('pk')\n    let dpt_form = dpt.children().filter('.dpt-form')\n    if (dpt_form.length === 1) {\n      let url = pk + '/refresh?action=' + trigger\n      _$.get(url).done(function (data) {\n        if (editortype !== 'construct') {\n          dpt_form.html(data)\n          if (editortype === 'tinymce') {\n            window.initTextRichEditor()\n          }\n          // OptionalCustomFrontEnd().init()\n        }\n        dpt.trigger(trigger)\n      }).always(function () {\n        instance.waitHide()\n      })\n    }\n  }\n\n  instance.loadFormsCompilacao = function (event) {\n    let dpt = _$(this).closest('.dpt')\n    let formtype = this.getAttribute('action')\n    dpt.on(formtype, instance[formtype])\n    instance.loadForm(dpt, formtype)\n  }\n\n  instance.modalMessage = function (message, alert, closeFunction) {\n    if (message !== null && message !== '') {\n      _$('#modal-message #message').html(message)\n      _$('#modal-message').modal('show')\n      _$('#modal-message, #modal-message .alert button').off()\n      _$('#modal-message .alert').removeClass('alert-success alert-info alert-warning alert-danger alert-danger')\n      _$('#modal-message .alert').addClass(alert)\n\n      if (closeFunction != null) { _$('#modal-message').on('hidden.bs.modal', closeFunction) }\n\n      _$('#modal-message .alert button').on('click', function () {\n        _$('#modal-message').modal('hide')\n      })\n      return true\n    }\n    return false\n  }\n\n  instance.message = function (data) {\n    if (data.message !== undefined) {\n      if (data.message.modal) {\n        instance.modalMessage(data.message.value, 'alert-' + data.message.type, function () {\n          instance.waitShow()\n          instance.refreshScreenFocusPk(data)\n        })\n      } else {\n        instance.refreshScreenFocusPk(data)\n        if (!('message' in data)) { return }\n        let cp_notify = _$('.cp-notify')\n        cp_notify.removeClass('hide')\n        let msg = cp_notify.find('.message')\n        msg.text(data.message.value)\n        msg.removeClass('bg-primary bg-success bg-info bg-warning bg-danger').addClass('bg-' + data.message.type)\n        setTimeout(function () {\n          cp_notify.addClass('hide')\n        }, (data.message.time ? data.message.time : 3000))\n      }\n    } else {\n      instance.refreshScreenFocusPk(data)\n    }\n  }\n  instance.offClicks = function () {\n    _$('.btn-dpt-edit').off()\n  }\n  instance.onClicks = function (container) {\n    let objects\n    if (container == null) { objects = _$('.btn-dpt-edit') } else { objects = _$(container).find('.btn-dpt-edit') }\n    objects.on('click', instance.editDispositivo)\n  }\n\n  instance.onSubmitFormRegistraAlteracao = function (event) {\n    if (this.dispositivo_alterado === undefined) {\n      instance.modalMessage('Nenhum dispositivo selecionado', 'alert-info')\n      if (event != null) { event.preventDefault() }\n      return\n    }\n    let dispositivo_alterado = this.dispositivo_alterado.length === undefined ? [ this.dispositivo_alterado ] : Array.from(this.dispositivo_alterado)\n    let form_data = {\n      'csrfmiddlewaretoken': this.csrfmiddlewaretoken.value,\n      'dispositivo_alterado': dispositivo_alterado.filter(\n        function (elem, idx, array) {\n          return elem.checked\n        }\n      ).map(function (dsp) {\n        return dsp.value\n      }),\n      'formtype': 'get_form_alteracao'\n    }\n    let url = _$(this).closest('.dpt').attr('pk') + '/refresh'\n\n    instance.waitShow()\n\n    // eslint-disable-next-line\n    _$.post(url, form_data)\n      .done(function (data) {\n        instance.clearEditSelected()\n\n        if (data.pk != null) {\n          instance.message(data)\n        } else {\n          alert('Erro na resposta!')\n        }\n      }).always(function () {\n        instance.waitHide()\n      })\n    if (event != null) { event.preventDefault() }\n  }\n\n  instance.onSubmitFormRegistraInclusao = function (event) {\n    let form_data = {\n      'csrfmiddlewaretoken': this['csrfmiddlewaretoken'].value,\n      'dispositivo_base_para_inclusao': this['dispositivo_base_para_inclusao'].value,\n      'formtype': 'get_form_inclusao'\n    }\n    let url = _$(this).closest('.dpt').attr('pk') + '/refresh'\n\n    instance.waitShow()\n\n    _$.post(url, form_data)\n      .done(function (data) {\n        instance.clearEditSelected()\n\n        if (data.pk != null) {\n          instance.message(data)\n        } else {\n          alert('Erro na resposta!')\n        }\n      }).always(function () {\n        instance.waitHide()\n      })\n    if (event != null) { event.preventDefault() }\n  }\n\n  instance.onSubmitFormRegistraRevogacao = function (event) {\n    if (this.dispositivo_revogado === undefined) {\n      instance.modalMessage('Nenhum dispositivo selecionado', 'alert-info')\n      if (event != null) { event.preventDefault() }\n      return\n    }\n    let dispositivo_revogado = this.dispositivo_revogado.length === undefined ? [ this.dispositivo_revogado ] : Array.from(this.dispositivo_revogado)\n    let form_data = {\n      'csrfmiddlewaretoken': this.csrfmiddlewaretoken.value,\n      'dispositivo_revogado': dispositivo_revogado.filter(\n        function (elem, idx, array) {\n          return elem.checked\n        }\n      ).map(function (dsp) {\n        return dsp.value\n      }),\n      'revogacao_em_bloco': this.revogacao_em_bloco.value,\n      'formtype': 'get_form_revogacao'\n    }\n\n    let url = _$(this).closest('.dpt').attr('pk') + '/refresh'\n\n    instance.waitShow()\n\n    _$.post(url, form_data)\n      .done(function (data) {\n        instance.clearEditSelected()\n\n        if (data.pk != null) {\n          instance.message(data)\n        } else {\n          alert('Erro na resposta!')\n        }\n      }).always(function () {\n        instance.waitHide()\n      })\n    if (event != null) { event.preventDefault() }\n  }\n\n  instance.onSubmitEditFormBase = function (event) {\n    let _this = this\n    let texto = ''\n    let texto_atualizador = ''\n    let visibilidade = ''\n    let editor_tiny_texto = window.tinymce.get('id_texto')\n    let editor_tiny_texto_atualizador = window.tinymce.get('id_texto_atualizador')\n\n    if (editor_tiny_texto != null) { texto = editor_tiny_texto.getContent() } else { texto = this['id_texto'].value }\n\n    if (editor_tiny_texto_atualizador != null) { texto_atualizador = editor_tiny_texto_atualizador.getContent() } else if ('id_texto_atualizador' in this) { texto_atualizador = this['id_texto_atualizador'].value }\n\n    if ('visibilidade' in this) { visibilidade = this['visibilidade'].value }\n\n    let form_data = {\n      'csrfmiddlewaretoken': this['csrfmiddlewaretoken'].value,\n      'texto': texto,\n      'texto_atualizador': texto_atualizador,\n      'visibilidade': visibilidade,\n      'formtype': 'get_form_base'\n    }\n\n    let url = _$(this).closest('.dpt').attr('pk') + '/refresh'\n\n    instance.waitShow()\n\n    _$.post(url, form_data)\n      .done(function (data) {\n        if (typeof data === 'string') { /* if obsoleto */\n          let dpt = _$(_this).closest('.dpt')\n          dpt = _$('#' + dpt.replaceWith(data).attr('id'))\n          instance.onClicks(dpt)\n          instance.waitHide()\n          return\n        }\n        instance.clearEditSelected()\n\n        if (data.pk != null) {\n          instance.message(data)\n        } else {\n          alert('Erro na resposta!')\n        }\n      }).always(function () {\n        instance.waitHide()\n      })\n    if (event != null) { event.preventDefault() }\n  }\n  instance.refreshContent = function (pais, trigger_edit_pk) {\n    if (pais.length === 0) {\n      instance.waitHide()\n      return\n    }\n    let pk = pais.shift()\n    let url = pk + '/refresh'\n\n    _$.get(url).done(function (data) {\n      let dpt = _$('#id' + pk).closest('.dpt')\n      dpt = _$('#' + dpt.replaceWith(data).attr('id'))\n      instance.onClicks(dpt)\n      instance.reloadFunctionsDraggables()\n\n      if (trigger_edit_pk > 0) { instance.triggerBtnDptEdit(trigger_edit_pk) }\n\n      instance.refreshContent(pais)\n    })\n  }\n  instance.refreshScreenFocusPk = function (data) {\n    instance.waitShow()\n    if (data.pai[0] === -1) {\n      instance.waitShow()\n      let href = location.href.split('#')[0]\n      location.href = href + '#' + data.pk\n      location.reload(true)\n    } else {\n      instance.refreshContent(data.pai, data.pk)\n\n      /* setTimeout(function() {\n                for (let pai = 1; pai < data.pai.length; pai++)\n                    instance.refreshContent(data.pai[pai]);\n                instance.waitHide();\n            }, 1000); */\n    }\n  }\n\n  instance.reloadFunctionsDraggables = function () {\n    const dptAlts = _$('.dpt-alts')\n\n    if (dptAlts.length > 0) {\n      dptAlts.sortable({\n        connectWith: '.dpt-alts',\n        items: '.sorting-initialize',\n        revert: true,\n        distance: 15,\n        start: function (event, ui) {\n        },\n        stop: function (event, ui) {\n          let pk = ui.item.attr('pk')\n          let bloco_pk = ui.item.closest('.dpt-alts').closest('.dpt').attr('pk')\n\n          let url = pk + '/refresh?action=json_drag_move_dpt_alterado&index=' + ui.item.index() + '&bloco_pk=' + bloco_pk\n          _$.get(url).done(function (data) {\n            // console.debug(pk + ' - ' + bloco_pk)\n            // reloadFunctionsForObjectsOfCompilacao();\n          })\n        }\n      })\n      dptAlts.find('.dpt').one('mouseenter', function () {\n        $(this).addClass('sorting-initialize')\n        dptAlts.sortable('refresh')\n      })\n\n      _$('.dpt-alts .dpt').draggable({\n        connectToSortable: '.dpt-alts',\n        revert: 'invalid',\n        zIndex: 1,\n        distance: 15,\n        drag: function (event, ui) {\n          // _$('.dpt-comp-selected').removeClass('dpt-comp-selected');\n          _$('.dpt-alts').addClass('drag')\n        },\n        stop: function (event, ui) {\n          _$('.dpt-alts').removeClass('drag')\n        }\n      })\n      dptAlts.disableSelection()\n    } else {\n      console.warn(\"No '.dpt-alts' elements found to make sortable/draggable.\")\n    }\n  }\n\n  instance.scrollTo = function (dpt) {\n    try {\n      _$('html, body').animate({\n        scrollTop: dpt.offset().top - window.innerHeight / 9\n      }, 100)\n    } catch (err) {\n    }\n  }\n  instance.triggerBtnDptEdit = function (pk) {\n    let btn_dpt_edit = _$('#id' + pk + ' > .dpt-text.btn-dpt-edit')\n    if (btn_dpt_edit.length === 0) { btn_dpt_edit = _$('#id' + pk + ' > .dpt-actions-fixed > .btn-dpt-edit') }\n    btn_dpt_edit.first().trigger('click')\n  }\n  instance.waitHide = function () {\n    _$('#wait_message').addClass('displaynone')\n  }\n  instance.waitShow = function () {\n    _$('#wait_message').removeClass('displaynone')\n  }\n\n  instance.init = function () {\n    _$('.dpt-actions-fixed').first().css('opacity', '1')\n    editortype = window.ReadCookie('editortype')\n    if (editortype === null || editortype === '') {\n      editortype = 'textarea'\n      window.SetCookie('editortype', editortype, 30)\n    }\n    // editortype = \"textarea\";\n    instance.offClicks()\n    instance.onClicks()\n    instance.reloadFunctionsDraggables()\n\n    let href = location.href.split('#')\n    if (href.length === 2 && href[1] !== '') {\n      instance.triggerBtnDptEdit(href[1])\n    }\n    _$('main').click(function (event) {\n      if (event.target === this || event.target === this.firstElementChild) {\n        instance.clearEditSelected()\n      }\n    })\n    instance.waitHide()\n  }\n  instance.init()\n}\n\n_$(document).ready(function () {\n  if ($('.cpe').length > 0) {\n    window.DispositivoEdit()\n  }\n})\n","let _$ = window.$\n\nfunction SetCookie (cookieName, cookieValue, nDays) {\n  let today = new Date()\n  let expire = new Date()\n  if (nDays === null || nDays === 0) nDays = 1\n  expire.setTime(today.getTime() + 3600000 * 24 * nDays)\n  document.cookie = cookieName + '=' + escape(cookieValue) +\n    ';expires=' + expire.toGMTString()\n}\n\nfunction ReadCookie (cookieName) {\n  let theCookie = ' ' + document.cookie\n  let ind = theCookie.indexOf(' ' + cookieName + '=')\n  if (ind === -1) ind = theCookie.indexOf(';' + cookieName + '=')\n  if (ind === -1 || cookieName === '') return ''\n  let ind1 = theCookie.indexOf(';', ind + 1)\n  if (ind1 === -1) ind1 = theCookie.length\n  return unescape(theCookie.substring(ind + cookieName.length + 2, ind1))\n}\n\nfunction insertWaitAjax (element) {\n  // jQuery(element).append('<div style=\"text-align:center;'><img src=\"/static/img/ajax-loader.gif'></div>')\n  _$(element).append('<div style=\"text-align:center;\"><i style=\"font-size: 200%;\" class=\"fa fa-refresh fa-spin\"></i></div>')\n}\n\nfunction DispositivoSearch (opts) {\n  _$(function () {\n    let formData = {}\n    let containerDs = _$('body').children('#container_ds')\n    if (containerDs.length > 0) {\n      _$(containerDs).remove()\n    }\n    containerDs = _$('<div id=\"container_ds\"/>')\n    _$('body').prepend(containerDs)\n\n    let fields = _$('[data-sapl-ta=\"DispositivoSearch\"]')\n    fields.each(function () {\n      let field = _$(this)\n      let dataTypeSelection = field.attr('data-type-selection')\n      let dataField = field.attr('data-field')\n      let dataFunction = field.attr('data-function')\n\n      let onChangeFieldSelects = function (event) {\n        if (dataTypeSelection === 'checkbox') {\n          let tas = field.find('input[name=\"ta_select_all\"]') // tas - Textos Articulados\n          tas.off()\n\n          tas.on('change', function (event) {\n            _$(this).closest('ul').find('input[name=\"' + dataField + '\"]').prop('checked', this.checked)\n            // _$(this).prop('checked', false)\n          })\n        } else {\n          let dpts = field.find('input')\n          dpts.off()\n          dpts.attr('type', 'hidden')\n          _$('<a class=\"text-danger\">')\n            .insertBefore(dpts)\n            .append(_$('<span aria-hidden=\"true\">&times;</span>'))\n            .on('click', function () {\n              if (_$(this).closest('ul').find('li').length === 2) {\n                _$(this).closest('ul').remove()\n              } else {\n                _$(this).closest('li').remove()\n              }\n            })\n        }\n      }\n      onChangeFieldSelects()\n\n      let onChangeParamTA = function (event) {\n        let tipoTa = _$('select[name=\"tipo_ta\"]').val()\n        let tipoModel = _$('select[name=\"tipo_model\"]').val()\n        let numTa = _$('input[name=\"num_ta\"]').val()\n        let anoTa = _$('input[name=\"ano_ta\"]').val()\n        let tipoResultado = _$('input[name=\"tipo_resultado\"]:checked').val()\n        let rotuloDispositivo = _$('input[name=\"rotulo_dispositivo\"]').val()\n        let textoDispositivo = _$('input[name=\"texto_dispositivo\"]').val()\n        let maxResults = _$('select[name=\"max_results\"]').val()\n        let taEditor = _$('input[name=\"texto_articulado_do_editor\"]').val()\n        let url = ''\n\n        if (rotuloDispositivo.length > 0 || textoDispositivo.length > 0) {\n          _$('input[name=\"tipo_resultado\"]').prop('disabled', false)\n          _$('input[name=\"tipo_resultado\"]').each((idx, element) => {\n            element.parentElement.classList.remove('disabled')\n          })\n          _$('input[name=\"tipo_resultado\"]').closest('#div_id_tipo_resultado').css('opacity', '1')\n        } else {\n          _$('input[name=\"tipo_resultado\"]').filter('[value=\"False\"]').prop('checked', true)\n          _$('input[name=\"tipo_resultado\"]').prop('disabled', true)\n\n          _$('input[name=\"tipo_resultado\"]').each((idx, element) => {\n            element.parentElement.classList.add('disabled')\n          })\n          _$('input[name=\"tipo_resultado\"]').closest('#div_id_tipo_resultado').css('opacity', '0.3')\n          tipoResultado = 'False'\n        }\n        formData = {\n          'tipo_ta': tipoTa,\n          'tipo_model': tipoModel,\n          'num_ta': numTa,\n          'ano_ta': anoTa,\n          'texto': textoDispositivo,\n          'rotulo': rotuloDispositivo,\n          'tipo_resultado': tipoResultado,\n          'max_results': maxResults,\n          'data_type_selection': dataTypeSelection,\n          'data_field': dataField,\n          'data_function': dataFunction,\n          'texto_articulado_do_editor': taEditor\n        }\n\n        window.localStorage.setItem('dispositivo_search_form_data', JSON.stringify(formData))\n\n        url = '/ta/search_fragment_form'\n        _$('.result-busca-dispositivo').html('')\n        insertWaitAjax('.result-busca-dispositivo')\n        _$.get(url, formData).done(function (data) {\n          _$('.result-busca-dispositivo').html(data)\n          // OptionalCustomFrontEnd().init()\n          if (dataTypeSelection === 'checkbox') {\n            let tas = _$('.result-busca-dispositivo').find('input[name=\"ta_select_all\"]')\n            tas.off()\n            tas.on('change', function (event) {\n              _$(this).closest('ul').find('input[name=\"' + dataField + '\"]').prop('checked', this.checked)\n            })\n          }\n        })\n      }\n\n      let onKeyPressRotuloBuscaTextual = function (event) {\n        let rotuloDispositivo = _$('input[name=\"rotulo_dispositivo\"]').val()\n        let textoDispositivo = _$('input[name=\"texto_dispositivo\"]').val()\n        // let tipoResultado = _$('input[name=\"tipo_resultado\"]:checked').val()\n\n        if (rotuloDispositivo.length > 0 || textoDispositivo.length > 0) {\n          _$('input[name=\"tipo_resultado\"]').prop('disabled', false)\n          _$('input[name=\"tipo_resultado\"]').each((idx, element) => {\n            element.parentElement.classList.remove('disabled')\n          })\n          _$('input[name=\"tipo_resultado\"]').closest('#div_id_tipo_resultado').css('opacity', '1')\n        } else {\n          _$('input[name=\"tipo_resultado\"]').filter('[value=\"False\"]').prop('checked', true)\n          _$('input[name=\"tipo_resultado\"]').prop('disabled', true)\n          _$('input[name=\"tipo_resultado\"]').each((idx, element) => {\n            element.parentElement.classList.add('disabled')\n          })\n          _$('input[name=\"tipo_resultado\"]').closest('#div_id_tipo_resultado').css('opacity', '0.3')\n          // tipoResultado = 'False'\n        }\n      }\n\n      let buttonDs = field.children('#buttonDs')\n      if (buttonDs.length > 0) {\n        _$(buttonDs).remove()\n      }\n      buttonDs = _$('<div id=\"buttonDs\" class=\"clearfix\"/>')\n      field.prepend(buttonDs)\n\n      let btnOpenSearch = _$('<button>')\n        .text(opts['text_button'])\n        .attr('type', 'button')\n        .attr('class', 'btn btn-sm btn-success btn-modal-open')\n      buttonDs.append(btnOpenSearch)\n      btnOpenSearch.on('click', function () {\n        _$.get(opts['url_form'], function (data) {\n          containerDs.html(data)\n          let modalDs = _$('#modal-ds')\n          // OptionalCustomFrontEnd().init()\n\n          modalDs.find('select[name=\"tipo_ta\"]').change(function (event) {\n            let url = ''\n            url = '/ta/search_fragment_form?action=get_tipos&tipo_ta=' + this.value\n            modalDs.find('label[for=\"id_tipo_model\"]').html('Tipos de ' + this.children[this.selectedIndex].innerHTML)\n\n            let select = modalDs.find('select[name=\"tipo_model\"]')\n            select.empty()\n            _$('<option value=\"\">Carregando...</option>').appendTo(select)\n\n            _$.get(url).done(function (data) {\n              select.empty()\n              for (let item in data) {\n                for (let i in data[item]) {\n                  select.append(_$('<option>').attr('value', i).text(data[item][i]))\n                }\n              }\n              setTimeout(function () {\n                _$('select[name=\"tipo_model\"]').val(formData.tipo_model)\n              }, 200)\n              // select.change(onChangeParamTA)\n            })\n          })\n\n          /* modalDs.find('input[name=\"num_ta\"], '\n            +'input[name=\"ano_ta\"], '\n            +'select[name=\"tipo_model\"], '\n            +'input[name=\"texto_dispositivo\"], '\n            +'input[name=\"tipo_resultado\"], '\n            +'input[name=\"rotulo_dispositivo\"]'\n          ).change(onChangeParamTA); */\n          modalDs.find('input[name=\"texto_dispositivo\"], ' +\n              'input[name=\"rotulo_dispositivo\"]')\n            .on('keyup', onKeyPressRotuloBuscaTextual)\n\n          modalDs.find('.btn-busca').click(onChangeParamTA)\n\n          modalDs.find('#btn-modal-select').click(function () {\n            // limpar selecionados se o tipo é radio\n            let listas = field.find('ul')\n            if (dataTypeSelection === 'radio') {\n              listas.remove()\n            }\n            // adicionar itens selecionados na caixa modal\n            let selecionados = modalDs.find('[name=\"' + dataField + '\"]:checked')\n\n            // com base nos selecionados, limpa seus ta's removendo os não selecionados\n            selecionados.closest('ul').find('input:not(:checked)').filter('[name!=\"ta_select_all\"]').closest('li').remove()\n\n            selecionados.closest('ul').each(function () {\n              // insere na lista de selecionados os ta's não presentes\n              let ulLista = field.find('#' + this.id)\n              if (ulLista.length === 0) {\n                field.append(this)\n                return\n              }\n\n              // insere os dispositivos não presentes\n              let inputForThis = _$(this).find('input')\n\n              inputForThis.each(function () {\n                if (ulLista.find('#' + this.id).length > 0) {\n                  return\n                }\n                ulLista.append(_$(this).closest('li'))\n              })\n            })\n\n            onChangeFieldSelects()\n\n            modalDs.modal('hide')\n\n            if ('post_selected' in opts) {\n              opts['post_selected'](opts['params_post_selected'])\n            }\n          })\n\n          try {\n            formData = JSON.parse(window.localStorage.getItem('dispositivo_search_form_data'))\n            _$('input[name=\"num_ta\"]').val(formData.num_ta)\n            _$('input[name=\"ano_ta\"]').val(formData.ano_ta)\n            _$('input[name=\"rotulo_dispositivo\"]').val(formData.rotulo)\n            _$('input[name=\"texto_dispositivo\"]').val(formData.texto)\n            _$('select[name=\"max_results\"]').val(formData.max_results)\n\n            _$('input[name=\"tipo_resultado\"]')\n              .filter(`[value=\"${formData.tipo_resultado}\"]`)\n              .attr('checked', true)\n          } catch (e) {\n            // console.debug(e)\n          }\n\n          setTimeout(function () {\n            try {\n              _$('select[name=\"tipo_ta\"]').val(formData.tipo_ta)\n              _$('select[name=\"tipo_ta\"]').trigger('change')\n              // modalDs.find('.btn-busca').trigger('click')\n              // onChangeParamTA()\n            } catch (e) {\n              // console.debug(e)\n            }\n          }, 200)\n\n          modalDs.modal('show')\n        })\n      })\n      if ('autostart' in opts && opts['autostart']) {\n        btnOpenSearch.trigger('click')\n      }\n    })\n  })\n}\n\nexport default {\n  SetCookie,\n  ReadCookie,\n  insertWaitAjax,\n  DispositivoSearch\n}\n","// TODO: migrar compilacao para VueJs\n\nimport './scss/compilacao.scss'\n\nimport compilacao from './js/old/compilacao'\nimport compilacaoView from './js/old/compilacao_view'\nimport compilacaoNotas from './js/old/compilacao_notas'\n\nimport './js/old/compilacao_edit'\n\n_.forEach(_.merge(_.merge(compilacao, compilacaoNotas), compilacaoView), function (func, key) {\n  window[key] = func\n})\n\n$(document).ready(function () {\n  setTimeout(function () {\n    var href = location.href.split('#')\n    if (href.length === 2) {\n      try {\n        $('html, body').animate(\n          {\n            scrollTop:\n              $('#dptt' + href[1]).offset().top - window.innerHeight / 9\n          },\n          0\n        )\n      } catch (err) {\n        // console.debug(err)\n      }\n    }\n  }, 100)\n\n  $('#btn_font_menos').click(function () {\n    $('.dpt').css('font-size', '-=1')\n  })\n  $('#btn_font_mais').click(function () {\n    $('.dpt').css('font-size', '+=1')\n  })\n\n  $('.dpt.bloco_alteracao .dpt').each(function () {\n    var nivel = parseInt($(this).attr('nivel'))\n    $(this).css('z-index', 15 - nivel)\n  })\n\n  $('.cp-linha-vigencias > li:not(:first-child):not(:last-child) > a').click(function (event) {\n    $('.cp-linha-vigencias > li').removeClass('active')\n    $(this).closest('li').addClass('active')\n    event.preventDefault()\n  })\n\n  $('main').click(function (event) {\n    if (event.target === this || event.target === this.firstElementChild) {\n      $('.cp-linha-vigencias > li').removeClass('active')\n    }\n  })\n\n  window.onReadyNotasVides()\n})\n","let _$ = window.$\nlet JsDiff = require('diff')\n\nfunction isElementInViewport (el) {\n  if (typeof jQuery === 'function' && el instanceof jQuery) {\n    el = el[0]\n  }\n\n  let rect = el.getBoundingClientRect()\n\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <=\n      (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  )\n}\n\nfunction textoMultiVigente (item, diff) {\n  let elv = null\n  let ldpts = _$('.dptt')\n  for (let i = 0; i < ldpts.length; i++) {\n    if (_$(ldpts[i]).hasClass('displaynone')) continue\n    if (isElementInViewport(ldpts[i])) {\n      if (i + 1 < ldpts.length) elv = ldpts[i + 1]\n      else {\n        elv = ldpts[i]\n      }\n      break\n    }\n  }\n\n  _$('.cp .tipo-vigencias a').removeClass('active')\n  _$(item).addClass('active')\n  _$('.dptt.desativado').removeClass('displaynone')\n  _$('.desativado > .dn').removeClass('displaynone')\n  _$('.dptt.revogado').removeClass('displaynone')\n  _$('.dtxt').removeClass('displaynone')\n  _$('.dtxt.diff').remove()\n  _$('.nota-alteracao').removeClass('displaynone')\n\n  if (diff) {\n    // _$('.dptt.desativado').addClass('displaynone')\n    _$('.dtxt[id^=\"da\"').each(function () {\n      if (_$(this)\n        .html()\n        .search(/<\\/\\w+>/g) > 0) {\n        return\n      }\n\n      let pk = _$(this).attr('pk')\n      let pks = _$(this).attr('pks')\n\n      let a = _$('#d' + pks)\n        .contents()\n        .filter(function () {\n          return this.nodeType === Node.TEXT_NODE\n        })\n      let b = _$('#da' + pk)\n        .contents()\n        .filter(function () {\n          return this.nodeType === Node.TEXT_NODE\n        })\n\n      let diff = JsDiff.diffWordsWithSpace(_$(a).text(), _$(b).text())\n\n      if (diff.length > 0) {\n        _$('#d' + pks)\n          .closest('.desativado')\n          .addClass('displaynone')\n\n        let clone = _$('#da' + pk).clone()\n        _$('#da' + pk).after(clone)\n        _$('#da' + pk).addClass('displaynone')\n        _$(clone)\n          .addClass('diff')\n          .html('')\n\n        diff.forEach(function (part) {\n          // let color = part.added ? '#018' : part.removed ? '#faa' : ''\n\n          let span = document.createElement('span')\n\n          let value = part.value\n\n          if (part.removed) {\n            _$(span).addClass('desativado')\n            value += ' '\n          } else if (part.added) {\n            _$(span).addClass('added')\n          }\n\n          span.appendChild(document.createTextNode(value))\n          _$(clone).append(span)\n        })\n      }\n    })\n    // textoVigente(item, true)\n  }\n\n  if (elv) {\n    try {\n      _$('html, body').animate(\n        {\n          scrollTop:\n            _$(elv)\n              .parent()\n              .offset().top - 60\n        },\n        0\n      )\n    } catch (err) {\n      // console.debug(err)\n    }\n  }\n}\n\nfunction textoVigente (item, link) {\n  let elv = null\n  let ldpts = _$('.dptt')\n  for (let i = 0; i < ldpts.length; i++) {\n    if (_$(ldpts[i]).hasClass('displaynone')) continue\n    if (isElementInViewport(ldpts[i])) {\n      if (i + 1 < ldpts.length) elv = ldpts[i + 1]\n      else {\n        elv = ldpts[i]\n      }\n      break\n    }\n  }\n\n  _$('.cp .tipo-vigencias a').removeClass('active')\n  _$(item).addClass('active')\n  _$('.dptt.desativado').addClass('displaynone')\n  _$('.desativado > .dn').addClass('displaynone')\n  _$('.nota-alteracao').removeClass('displaynone')\n  _$('.dptt.revogado').removeClass('displaynone')\n  if (!link) _$('.nota-alteracao').addClass('displaynone')\n\n  if (elv) {\n    try {\n      _$('html, body').animate(\n        {\n          scrollTop:\n            _$(elv)\n              .parent()\n              .offset().top - 60\n        },\n        0\n      )\n    } catch (err) {\n      // console.debug(err)\n    }\n  }\n}\n\nfunction textoVigenteSemRevogados (item, link) {\n  textoVigente(item, link)\n  _$('.dptt.revogado').addClass('displaynone')\n}\n\nexport default {\n  isElementInViewport,\n  textoMultiVigente,\n  textoVigente,\n  textoVigenteSemRevogados\n}\n","\nlet _$ = window.$\n\nfunction onEventsDneExec (pk, model) {\n  _$('html, body').animate({\n    scrollTop: _$('#dne' + pk).offset().top - window.innerHeight / 5\n  }, 300)\n\n  window.refreshDatePicker()\n\n  _$('#dne' + pk + ' #button-id-submit-form').click(onSubmitEditNVForm)\n  _$('#dne' + pk + ' .btn-close-container').click(function () {\n    _$(this).closest('.dne-nota').removeClass('dne-nota')\n    _$(this).closest('.dne-form').html('')\n  })\n\n  if (model === 'nota') {\n    _$('#dne' + pk + ' select[name=\"tipo\"]').change(function (event) {\n      let url = ''\n      url = 'text/' + pk + '/nota/create?action=modelo_nota&id_tipo=' + this.value\n      _$.get(url).done(function (data) {\n        _$('#dne' + pk + ' textarea[name=\"texto\"]').val(data)\n      })\n    })\n  } else if (model === 'vide') {\n    window.DispositivoSearch({\n      'url_form': '/ta/search_form',\n      'text_button': 'Definir Dispositivo'\n    })\n  }\n}\n\nfunction onSubmitEditNVForm (event) {\n  let url = ''\n  let model = 'nota'\n  let idEdit = null\n  let idDispositivo = _$('#id_dispositivo').val()\n\n  if (idDispositivo === undefined) { // trata-se de um vide\n    // _$('#idDispositivo_ref').remove()\n    idDispositivo = _$('#id_dispositivo_base').val()\n    model = 'vide'\n  }\n\n  idEdit = _$('#id_pk').val()\n  url = 'text/' + idDispositivo + '/' + model + '/'\n  if (idEdit === null || idEdit === '') {\n    url += 'create'\n  } else {\n    url += idEdit + '/edit'\n  }\n\n  // console.debug(_$('#dne' + idDispositivo + ' form').serialize())\n\n  _$.post(url, _$('#dne' + idDispositivo + ' form').serialize(), function (data) {\n    if (typeof data === 'string') {\n      if (data.indexOf('<form') >= 0) {\n        _$('#dne' + idDispositivo + ' .dne-form').html(data)\n        onEventsDneExec(idDispositivo, model)\n      } else {\n        _$('#dne' + idDispositivo + ' .dne-form').closest('.dpt').html(data)\n        onReadyNotasVides()\n        try {\n          _$('html, body').animate({\n            scrollTop: _$('#dne' + idDispositivo).offset().top - window.innerHeight / 3\n          }, 300)\n        } catch (err) {\n        }\n      }\n    }\n  })\n}\n\nfunction onDelete (event) {\n  let model = _$(event).attr('model')\n\n  let idDispositivo = _$(event).closest('.dn').attr('pk')\n  let idDelete = _$(event).attr('pk')\n  let url = 'text/' + idDispositivo + '/' + model + '/' + idDelete + '/delete'\n\n  _$.get(url, function (data) {\n    _$('#dne' + idDispositivo + ' .dne-form').closest('.dpt').html(data)\n    onReadyNotasVides()\n  })\n}\n\nfunction getForm (_this) {\n  let url = ''\n  let model = _$(_this).attr('model')\n  let idDispositivo = _$('.dne-nota .dne-form').closest('.dne').attr('pk')\n  if (idDispositivo != null) {\n    _$('#dne' + idDispositivo).removeClass('dne-nota')\n    _$('#dne' + idDispositivo + ' .dne-form').html('')\n  }\n\n  if (_this.className.indexOf('create') >= 0) {\n    idDispositivo = _$(_this).attr('pk')\n    url = 'text/' + idDispositivo + '/' + model + '/create'\n  } else if (_this.className.indexOf('edit') >= 0) {\n    let idEdit = _$(_this).attr('pk')\n    idDispositivo = _$(_this).closest('.dn').attr('pk')\n    url = 'text/' + idDispositivo + '/' + model + '/' + idEdit + '/edit'\n  }\n\n  _$('#dne' + idDispositivo).addClass('dne-nota')\n\n  _$.get(url).done(function (data) {\n    _$('#dne' + idDispositivo + ' .dne-form').html(data)\n    onEventsDneExec(idDispositivo, model)\n  }).fail(function () {\n    onReadyNotasVides()\n  })\n}\n\nfunction onReadyNotasVides () {\n  _$('.dne-nota').removeClass('dne-nota')\n  _$('.dne-form').html('')\n\n  _$('.dne .btn-action').off()\n  _$('.dn .btn-action').off()\n\n  _$('.dne .btn-action, .dn .btn-action').not('.btn-nota-delete').not('.btn-vide-delete').click(function () {\n    getForm(this)\n  })\n\n  _$('.dn .btn-nota-delete, .dn .btn-vide-delete').click(function () {\n    onDelete(this)\n  })\n}\n\nexport default {\n  onEventsDneExec,\n  onSubmitEditNVForm,\n  onDelete,\n  onReadyNotasVides\n}\n"],"sourceRoot":""}