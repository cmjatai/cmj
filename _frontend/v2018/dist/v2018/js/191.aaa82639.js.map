{"version":3,"file":"js/191.aaa82639.js","mappings":"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","sources":["webpack://frontend/./src/modules/arq/draft/DraftManage.vue","webpack://frontend/./src/components/utils/DropZone.vue","webpack://frontend/src/components/utils/DropZone.vue","webpack://frontend/./src/components/utils/DropZone.vue?1e64","webpack://frontend/./src/components/utils/DropZone.vue?bd1f","webpack://frontend/./src/modules/arq/draft/DraftManageList.vue","webpack://frontend/./src/modules/arq/draft/DraftMidia.vue","webpack://frontend/src/modules/arq/draft/DraftMidia.vue","webpack://frontend/./src/modules/arq/draft/DraftMidia.vue?9029","webpack://frontend/./src/modules/arq/draft/DraftMidia.vue?e52d","webpack://frontend/src/modules/arq/draft/DraftManageList.vue","webpack://frontend/./src/modules/arq/draft/DraftManageList.vue?4e24","webpack://frontend/./src/modules/arq/draft/DraftManageList.vue?794c","webpack://frontend/./src/modules/arq/draft/DraftHelp.vue","webpack://frontend/src/modules/arq/draft/DraftHelp.vue","webpack://frontend/./src/modules/arq/draft/DraftHelp.vue?2f2a","webpack://frontend/./src/modules/arq/draft/DraftHelp.vue?b0b7","webpack://frontend/src/modules/arq/draft/DraftManage.vue","webpack://frontend/./src/modules/arq/draft/DraftManage.vue?c9c9","webpack://frontend/./src/modules/arq/draft/DraftManage.vue?e122","webpack://frontend/./src/components/Pagination.vue","webpack://frontend/src/components/Pagination.vue","webpack://frontend/./src/components/Pagination.vue?4f73","webpack://frontend/./src/components/Pagination.vue?e6bf","webpack://frontend/./src/components/selects/ModelSelect.vue","webpack://frontend/src/components/selects/ModelSelect.vue","webpack://frontend/./src/components/selects/ModelSelect.vue?e663","webpack://frontend/./src/components/selects/ModelSelect.vue?b1f7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"draft-manage container-fluid py-3\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3 d-flex\"},[_c('div',{staticClass:\"d-flex flex-column w-100\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"title\":\"Novo Draft\"},on:{\"click\":_vm.clickAdd}},[_vm._v(\"+\")])]),_c('h1',{staticClass:\"ml-2\"},[_vm._v(\"Draft\")])]),_c('model-select',{ref:\"draftSelect\",staticClass:\"form-opacity d-flex w-100\",attrs:{\"app\":\"arq\",\"model\":\"draft\",\"choice\":\"descricao\",\"ordering\":\"descricao\",\"height\":8},on:{\"change\":value => _vm.draftselected=value}}),(_vm.draftselected)?_c('div',{staticClass:\"d-flex flex-column\"},[_vm._m(0),_c('b-form-input',{on:{\"change\":function($event){return _vm.changeDescricao($event)}},model:{value:(_vm.draftselected.descricao),callback:function ($$v) {_vm.$set(_vm.draftselected, \"descricao\", $$v)},expression:\"draftselected.descricao\"}})],1):_vm._e(),_c('div',{staticClass:\"drop-area\"},[(_vm.draftselected)?_c('drop-zone',{attrs:{\"pk\":_vm.draftselected.id,\"multiple\":true},on:{\"uploaded\":_vm.uploadedFiles}}):_vm._e()],1)],1)]),_c('div',{staticClass:\"col-9 container-manage-list\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.draftselected),expression:\"draftselected\"}]},[_c('draft-manage-list',{ref:\"listdraft\",attrs:{\"draftselected\":_vm.draftselected},on:{\"reloadDrafts\":_vm.reloadDrafts}})],1),_c('draft-help')],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',[_vm._v(\"Título do Draft: \"),_c('small',[_c('em',[_vm._v(\"(edição do draft selecionado acima)\")])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"drop_files\",attrs:{\"id\":'drop_file'},on:{\"drop\":_vm.drop_handler,\"dragover\":_vm.dragover_handler,\"dragend\":_vm.dragend_handler}},[_c('div',{staticClass:\"progress\",style:(`width: ${_vm.progress}`)}),_c('label',{staticClass:\"drop_zone\",attrs:{\"for\":'input_file'}},[(_vm.multiple)?_c('span',{staticClass:\"inner\"},[_vm._v(\" Arraste seus arquivos e solte aqui,\"),_c('br'),_c('small',[_vm._v(\"ou clique para selecionar\")])]):_vm._e(),(!_vm.multiple)?_c('span',{staticClass:\"inner\"},[_vm._v(\" Arraste seu arquivo e solte aqui,\"),_c('br'),_c('small',[_vm._v(\"ou clique para selecionar\")])]):_vm._e(),_c('input',{attrs:{\"multiple\":_vm.multiple ? 'multiple': null,\"type\":\"file\",\"name\":\"file\",\"id\":'input_file'},on:{\"change\":_vm.selectFiles}})]),_c('div',{staticClass:\"view\"},[(_vm.src)?_c('img',{attrs:{\"src\":_vm.src_local}}):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div class=\"drop_files\" :id=\"'drop_file'\" v-on:drop=\"drop_handler\" v-on:dragover=\"dragover_handler\" v-on:dragend=\"dragend_handler\">\n    <div class=\"progress\" :style=\"`width: ${progress}`\"></div>\n    <label class=\"drop_zone\" :for=\"'input_file'\">\n      <span class=\"inner\" v-if=\"multiple\">\n        Arraste seus arquivos e solte aqui,<br>\n        <small>ou clique para selecionar</small>\n      </span>\n      <span class=\"inner\" v-if=\"!multiple\">\n        Arraste seu arquivo e solte aqui,<br>\n        <small>ou clique para selecionar</small>\n      </span>\n      <input :multiple=\"multiple ? 'multiple': null\" type=\"file\" name=\"file\" :id=\"'input_file'\" @change=\"selectFiles\"/>\n    </label>\n    <div class=\"view\">\n      <img :src=\"src_local\" v-if=\"src\">\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'drop-zone',\n  props: ['src', 'multiple', 'pk'],\n  data () {\n    return {\n      src_local: this.src,\n      progress: '0%'\n    }\n  },\n  watch: {\n    src: function (nv, ov) {\n      this.src_local = this.src\n    }\n  },\n  methods: {\n    selectFiles (ev) {\n      let files = ev.currentTarget.files\n      if (files.length === 0) {\n        return\n      }\n      // console.debug(files)\n      this.sendFiles(files)\n    },\n    sendFiles (files) {\n      let t = this\n      let form = new FormData()\n      for (var i = 0; i < files.length; i++) {\n        form.append('arquivos', files[i])\n        form.append('lastmodified', files[i].lastModified)\n      }\n      t.utils.postModelAction('arq', 'draft', t.pk, 'uploadfiles', form, {\n        onUploadProgress: (event) => {\n          let _progress = Math.round(\n            (event.loaded * 100) / event.total\n          )\n          this.progress = `${_progress}%`\n        }\n      })\n        .then((response) => {\n          this.progress = '0%'\n\n          t.src_local = t.src + '?'+ _.now() // eslint-disable-line\n          t.$emit('uploaded', response)\n          t.sendMessage({ alert: 'success', message: 'Envio de Arquivos concluído...', time: 5 })\n        })\n        .catch((response) => t.sendMessage(\n          { alert: 'danger', message: response.response.data[0] || response.response.data.detail || 'Não foi possível enviar os arquivos...', time: 10 }))\n      /*\n      */\n    },\n    drop_handler (ev) {\n      if (ev === undefined) {\n        return\n      }\n      // console.debug('Drop')\n      ev.preventDefault()\n\n      var dt = ev.dataTransfer\n\n      if (dt.items) {\n        let files = Array() // eslint-disable-line\n        for (let i = 0; i < dt.items.length; i++) {\n          if (dt.items[i].kind === 'file') {\n            files.push(dt.items[i].getAsFile())\n          }\n        }\n        this.sendFiles(dt.files)\n      } else {\n        this.sendFiles(dt.files)\n      }\n    },\n    dragover_handler (ev) {\n      // console.debug('dragOver')\n      // Prevent default select and drag behavior\n      ev.preventDefault()\n    },\n    dragend_handler (ev) {\n      // console.debug('dragEnd')\n      // Remove all of the drag data\n      let dt = ev.dataTransfer\n      if (dt.items) {\n        // Use DataTransferItemList interface to remove the drag data\n        for (var i = 0; i < dt.items.length; i++) {\n          dt.items.remove(i)\n        }\n      } else {\n        // Use DataTransfer interface to remove the drag data\n        ev.dataTransfer.clearData()\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.drop_files {\n  width:  100%;\n  text-align: center;\n  background: transparentize(#fff, 0.5);\n  position: relative;\n  min-height: 120px;\n  border: 3px dashed #cccfcc;\n  .progress {\n    background: #3390fa;\n    line-height: 7px;\n    height: 7px;\n  }\n  input {\n    visibility: hidden;\n    position: fixed;\n    top: -100px;\n    left: -100px;\n    height: 0px;\n    width: 0px;\n  }\n}\n.drop_zone {\n  cursor: pointer;\n  position: absolute;\n  line-height: 1;\n  margin: 0;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  background: transparentize(#fff, 0.5);\n  opacity: 0.5;\n  span {\n    color: black;\n    small {\n      color: #000080;\n    }\n  }\n  &:hover {\n    opacity: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DropZone.vue?vue&type=template&id=440a1703&lang=html\"\nimport script from \"./DropZone.vue?vue&type=script&lang=js\"\nexport * from \"./DropZone.vue?vue&type=script&lang=js\"\nimport style0 from \"./DropZone.vue?vue&type=style&index=0&id=440a1703&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"draftmanagelist\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col d-flex grade\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn\",attrs:{\"title\":\"Atualizar lista\"},on:{\"click\":function($event){return _vm.drawList(0)}}},[_c('i',{staticClass:\"fas fa-sync-alt\"})])]),_c('div',{staticClass:\"d-flex grade\"},[_c('b-form-spinbutton',{attrs:{\"id\":\"spincols\",\"min\":\"1\",\"max\":\"12\",\"inline\":\"\"},model:{value:(_vm.cols),callback:function ($$v) {_vm.cols=$$v},expression:\"cols\"}}),_c('b-form-spinbutton',{attrs:{\"id\":\"spinrows\",\"min\":\"1\",\"max\":\"100\",\"inline\":\"\"},model:{value:(_vm.rows),callback:function ($$v) {_vm.rows=$$v},expression:\"rows\"}})],1),_c('pagination',{attrs:{\"pagination\":_vm.pagination},on:{\"nextPage\":_vm.nextPage,\"previousPage\":_vm.previousPage,\"currentPage\":_vm.currentPage}}),(_vm.draftselected)?_c('div',{staticClass:\"btn-toolbar\",attrs:{\"role\":\"toolbar\",\"aria-label\":\"Toolbar with button groups\"}},[_c('a',{staticClass:\"btn btn-danger\",attrs:{\"title\":\"Excluir Draft Atual\",\"disabled\":_vm.draftselected === null},on:{\"click\":_vm.clickDel}},[_c('i',{staticClass:\"fas fa-trash-alt\"})]),_c('a',{staticClass:\"btn btn-warning text-white ml-2\",attrs:{\"title\":\"Cancela agendamentos de conversão de PDF -> PDF/A-2b\"},on:{\"click\":_vm.clickSupendeConversao}},[_c('i',{staticClass:\"fas fa-stop-circle\"})]),_c('a',{staticClass:\"btn btn-primary ml-2 btn-pdf2pdfa\",attrs:{\"title\":\"Iniciar conversão Básica para PDF/A-2b de todos os arquivos do Draft selecionado.\"},on:{\"click\":_vm.clickPdf2Pdfa}},[_vm._m(0)]),_c('a',{staticClass:\"btn btn-primary ml-2\",attrs:{\"href\":`/api/arq/draft/${_vm.draftselected.id}/zipfile/?t=${Date.now()}`,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"title\":\"Baixar todos os arquivos individualmente dentro de um arquivo compactado.\"}},[_c('i',{staticClass:\"fas fa-file-archive\"})]),_c('a',{staticClass:\"btn btn-primary ml-2\",attrs:{\"title\":\"Unir PDFs do Draft em apenas um PDF\"},on:{\"click\":_vm.clickUnir}},[_c('i',{staticClass:\"fas fa-layer-group\"})])]):_vm._e()],1)]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.draftmidialist_ordered),function(item,k){return _c('draft-midia',{key:`dm${k}`,attrs:{\"elemento\":item,\"cols\":_vm.cols},on:{\"redrawDraftMidia\":function($event){return _vm.drawList(-1)},\"updateElement\":_vm.updateElement}})}),1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('span',[_vm._v(\" PDF ->\"),_c('br'),_vm._v(\"PDF/A-2b \")])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:['draft-midia', 'p-2',],attrs:{\"id\":`dm${_vm.elemento.id}`}},[_c('div',{staticClass:\"inner\",on:{\"mouseenter\":_vm.enterInner,\"mouseleave\":_vm.leaveInner}},[_c('div',{class:['inner-status', _vm.elemento.metadata.ocrmypdf.pdfa === 99 ? 'border-green': (_vm.elemento.metadata.ocrmypdf.pdfa >= 10 ? 'border-yellow': 'border-red')],domProps:{\"innerHTML\":_vm._s(_vm.elemento.metadata.ocrmypdf.pdfa === 99 ? 'PDF/A-2b': (_vm.elemento.metadata.ocrmypdf.pdfa >= 10 ? 'Conversão Agendada': 'Não PDF/A-2b'))}}),_c('div',{ref:\"inneraction\",staticClass:\"inner-action\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.elemento.metadata.ocrmypdf.pdfa !== 10),expression:\"elemento.metadata.ocrmypdf.pdfa !== 10\"}],ref:\"dropleft\",staticClass:\"dropleft\"},[_c('button',{ref:\"btnDropDownActions\",staticClass:\"btn btn-sm\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-expanded\":\"true\"}},[_c('i',{staticClass:\"fas fa-ellipsis-v\"})]),_c('div',{ref:\"dropdown\",staticClass:\"dropdown-menu\"},[_c('a',{staticClass:\"dropdown-item\",attrs:{\"title\":\"PDF -> PDF/A-2b - Conversão rápida, pode não ser feita devido a erros no arquivo.\"},on:{\"click\":function($event){return _vm.clickDraftmidiaAction('pdf2pdfa_rapida')}}},[_vm._v(\" PDF -> PDF/A-2b (Conversão Rápida)\")]),_c('a',{staticClass:\"dropdown-item\",attrs:{\"title\":\"PDF -> PDF/A-2b - Conversão básica, pode demorar um pouco mais que a rápida por aplicar correção de possíveis erros no arquivo. Utilize caso a rápida tenha falhado.\"},on:{\"click\":function($event){return _vm.clickDraftmidiaAction('pdf2pdfa_basica')}}},[_vm._v(\" PDF -> PDF/A-2b (Conversão Básica)\")]),_c('a',{staticClass:\"dropdown-item\",attrs:{\"title\":\"PDF -> PDF/A-2b - Conversão forçada, faz OCR e é mais lenta que a básica. (útil para arquivos digitalizados.)\"},on:{\"click\":function($event){return _vm.clickDraftmidiaAction('pdf2pdfa_forcada')}}},[_vm._v(\" PDF -> PDF/A-2b (Conversão Forçada)\")]),_c('a',{staticClass:\"dropdown-item\",attrs:{\"title\":\"PDF -> PDF/A-2b - Conversão Compacta, faz OCR, converte para preto e branco e aplica alta compactação no arquivo (ultra lenta e útil para arquivos digitalizados).\"},on:{\"click\":function($event){return _vm.clickDraftmidiaAction('pdf2pdfa_compacta')}}},[_vm._v(\" PDF -> PDF/A-2b (Conversão de Alta Compactação)\")]),_c('a',{staticClass:\"dropdown-item\",attrs:{\"title\":\"Gerar um PDF para cada página\"},on:{\"click\":function($event){return _vm.clickDraftmidiaAction('decompor')}}},[_vm._v(\"Decompor \"),_c('i',{staticClass:\"fas fa-expand\"})]),_c('a',{staticClass:\"dropdown-item\",attrs:{\"title\":\"Apagar Mídia\"},on:{\"click\":_vm.clickDel}},[_vm._v(\"Apagar \"),_c('i',{staticClass:\"fas fa-trash-alt\"})])])])]),_c('div',{staticClass:\"innerimg\"},[_c('a',{attrs:{\"href\":_vm.elemento.arquivo,\"target\":\"_blank\"}},[_c('img',{ref:\"imgView\",attrs:{\"src\":`${_vm.elemento.arquivo}?page=${_vm.page}&dpi=48&nocache=${_vm.nocache}&u=${_vm.data}`}})]),_c('div',{staticClass:\"img-actions\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.elemento.metadata.uploadedfile.paginas > 1),expression:\"elemento.metadata.uploadedfile.paginas > 1\"}]},[_c('b-form-spinbutton',{attrs:{\"id\":\"spinpages\",\"min\":\"1\",\"max\":_vm.elemento.metadata.uploadedfile.paginas},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1),_c('button',{staticClass:\"btn btn-sm btn-outline-primary\",on:{\"click\":function($event){return _vm.clickRotate(-90)}}},[_c('i',{staticClass:\"fas fa-undo\"})]),_c('button',{staticClass:\"btn btn-sm btn-outline-primary\",on:{\"click\":function($event){return _vm.clickRotate(90)}}},[_c('i',{staticClass:\"fas fa-redo\"})])])]),_c('div',{class:['innerdesc', ]},[_c('strong',{domProps:{\"innerHTML\":_vm._s(_vm.elemento.metadata.uploadedfile.name)}}),_c('small',{domProps:{\"innerHTML\":_vm._s(`${_vm.elemento.arquivo_size[1]} MB`)}}),_c('small',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.elemento.metadata.ocrmypdf.pdfa === 99),expression:\"elemento.metadata.ocrmypdf.pdfa === 99\"}]},[_vm._v(\"PDF/A-2b com OCR\")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"['draft-midia', 'p-2',]\" :id=\"`dm${elemento.id}`\">\n    <div class=\"inner\" @mouseenter=\"enterInner\" @mouseleave=\"leaveInner\">\n      <div :class=\"['inner-status', elemento.metadata.ocrmypdf.pdfa === 99 ? 'border-green': (elemento.metadata.ocrmypdf.pdfa >= 10 ? 'border-yellow': 'border-red')]\"\n      v-html=\"elemento.metadata.ocrmypdf.pdfa === 99 ? 'PDF/A-2b': (elemento.metadata.ocrmypdf.pdfa >= 10 ? 'Conversão Agendada': 'Não PDF/A-2b')\"></div>\n      <div class=\"inner-action\" ref=\"inneraction\">\n        <div class=\"dropleft\" ref=\"dropleft\" v-show=\"elemento.metadata.ocrmypdf.pdfa !== 10\">\n          <button class=\"btn btn-sm\" type=\"button\" data-toggle=\"dropdown\" aria-expanded=\"true\" ref=\"btnDropDownActions\">\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </button>\n          <div class=\"dropdown-menu\" ref=\"dropdown\">\n            <a\n            class=\"dropdown-item\"\n            title=\"PDF -> PDF/A-2b - Conversão rápida, pode não ser feita devido a erros no arquivo.\"\n            @click=\"clickDraftmidiaAction('pdf2pdfa_rapida')\">\n            PDF -> PDF/A-2b (Conversão Rápida)</a>\n            <a\n            class=\"dropdown-item\"\n            title=\"PDF -> PDF/A-2b - Conversão básica, pode demorar um pouco mais que a rápida por aplicar correção de possíveis erros no arquivo. Utilize caso a rápida tenha falhado.\"\n            @click=\"clickDraftmidiaAction('pdf2pdfa_basica')\">\n            PDF -> PDF/A-2b (Conversão Básica)</a>\n            <a\n            class=\"dropdown-item\"\n            title=\"PDF -> PDF/A-2b - Conversão forçada, faz OCR e é mais lenta que a básica. (útil para arquivos digitalizados.)\"\n            @click=\"clickDraftmidiaAction('pdf2pdfa_forcada')\">\n            PDF -> PDF/A-2b (Conversão Forçada)</a>\n            <a\n            class=\"dropdown-item\"\n            title=\"PDF -> PDF/A-2b - Conversão Compacta, faz OCR, converte para preto e branco e aplica alta compactação no arquivo (ultra lenta e útil para arquivos digitalizados).\"\n            @click=\"clickDraftmidiaAction('pdf2pdfa_compacta')\">\n            PDF -> PDF/A-2b (Conversão de Alta Compactação)</a>\n            <a class=\"dropdown-item\" title=\"Gerar um PDF para cada página\" @click=\"clickDraftmidiaAction('decompor')\">Decompor <i class=\"fas fa-expand\"></i></a>\n            <a class=\"dropdown-item\" title=\"Apagar Mídia\" @click=\"clickDel\">Apagar <i class=\"fas fa-trash-alt\"></i></a>\n          </div>\n        </div>\n      </div>\n      <div class=\"innerimg\">\n        <a :href=\"elemento.arquivo\" target=\"_blank\">\n          <img :src=\"`${elemento.arquivo}?page=${page}&dpi=48&nocache=${nocache}&u=${data}`\" ref=\"imgView\"/>\n        </a>\n        <div class=\"img-actions\">\n          <div v-show=\"elemento.metadata.uploadedfile.paginas > 1\">\n            <b-form-spinbutton id=\"spinpages\" v-model=\"page\" min=\"1\" :max=\"elemento.metadata.uploadedfile.paginas\"></b-form-spinbutton>\n          </div>\n          <button class=\"btn btn-sm btn-outline-primary\" @click=\"clickRotate(-90)\">\n            <i class=\"fas fa-undo\"></i>\n          </button>\n          <button class=\"btn btn-sm btn-outline-primary\" @click=\"clickRotate(90)\">\n            <i class=\"fas fa-redo\"></i>\n          </button>\n        </div>\n      </div>\n      <div :class=\"['innerdesc', ]\">\n        <strong v-html=\"elemento.metadata.uploadedfile.name\"></strong>\n        <small v-html=\"`${elemento.arquivo_size[1]} MB`\"></small>\n        <small v-show=\"elemento.metadata.ocrmypdf.pdfa === 99\">PDF/A-2b com OCR</small>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'draft-midia',\n  props: ['elemento', 'cols'],\n  data () {\n    return {\n      page: 1,\n      data: (new Date()).getTime(),\n      nocache: ''\n    }\n  },\n  watch: {\n    elemento (nw, old) {\n      const estagio_execucao = this.elemento.metadata.ocrmypdf.pdfa\n      if (estagio_execucao >= 10 && estagio_execucao <= 20) {\n        this.timeoutUpdate()\n      }\n    }\n  },\n  mounted () {\n    this.nocache = ''\n    const estagio_execucao = this.elemento.metadata.ocrmypdf.pdfa\n    if (estagio_execucao >= 10 && estagio_execucao <= 20) {\n      this.timeoutUpdate()\n    }\n  },\n  methods: {\n    timeoutUpdate () {\n      let t = this\n      setTimeout(() => {\n        t.utils.getModel('arq', 'draftmidia', t.elemento.id)\n          .then((response) => {\n            const estagio_execucao = response.data.metadata.ocrmypdf.pdfa\n            if (estagio_execucao >= 10 && estagio_execucao <= 20) {\n              console.debug('timeoutUpdate novamente')\n              t.timeoutUpdate()\n            } else {\n              console.debug('timeoutUpdate Fim')\n              t.$emit('updateElement', response.data)\n            }\n          })\n      }, 5000)\n    },\n    enterInner (ev) {\n      const t = this\n      const inneraction = t.$refs.inneraction\n      const btnDropDownActions = t.$refs.btnDropDownActions\n      const rect = ev.currentTarget.getBoundingClientRect()\n      inneraction.style.left = `${rect.left + rect.width - btnDropDownActions.offsetWidth - 2}px`\n      inneraction.style.top = `${rect.top + 2}px`\n    },\n    leaveInner (ev) {\n      const t = this\n      const dropleft = t.$refs.dropleft\n      $(dropleft).dropdown('hide')\n      // dropleft.classList.remove('show')\n    },\n    clickDel () {\n      const t = this\n      t.utils.deleteModel('arq', 'draftmidia', t.elemento.id)\n        .then((response) => {\n          t.$emit('redrawDraftMidia')\n        }).catch((error) => {\n          t.sendMessage(\n            { alert: 'danger', message: error.response.data.message, time: 10 }\n          )\n        })\n    },\n    clickDraftmidiaAction (action) {\n      const t = this\n      t.utils.patchModelAction('arq', 'draftmidia', t.elemento.id, action)\n        .then((response) => {\n          t.data = (new Date()).getTime()\n          t.nocache = (new Date()).getTime()\n          t.$nextTick(() => {\n            t.$refs.imgView.src = `${t.elemento.arquivo}?page=${t.page}&dpi=48&nocache=${t.nocache}&u=${t.data}`\n            t.$emit('redrawDraftMidia')\n          })\n        }).catch((error) => {\n          t.sendMessage(\n            { alert: 'danger', message: error.response.data.message, time: 10 }\n          )\n        })\n    },\n    clickRotate (angulo) {\n      const t = this\n      t.utils.getByMetadata({\n        action: 'rotate',\n        app: 'arq',\n        model: 'draftmidia',\n        id: t.elemento.id\n      }, `page=${t.page}&angulo=${angulo}`, 'PATCH')\n        .then((response) => {\n          t.data = (new Date()).getTime()\n          // t.$set(t, 'elemento', response.data)\n          // console.debug(response)\n          t.$emit('updateElement', response.data)\n        })\n        .catch((error) => {\n          t.sendMessage(\n            { alert: 'danger', message: error.response.data.message, time: 10 }\n          )\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n.draft-midia {\n  //max-height: 35vh;\n  width: 100%;\n  display: flex;\n  .inner {\n    position: relative;\n    padding: 0;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    gap: 0;\n    overflow: hidden;\n    flex-direction: column;\n    align-items: center;\n    background-color: #fafafa;\n    border: 1px solid #ccc;\n    .inner-status {\n      position: absolute;\n      display: inline-block;\n      width: 20px;\n      height: 20px;\n      top: 1px;\n      left: 1px;\n      border-radius: 50%;\n      font-size: 0;\n      z-index: 1;\n\n      &:hover {\n        width: auto;\n        height: auto;\n        border-radius: 0%;\n        top: 0px;\n        left: 0px;\n        padding: 2px 3px;\n        color: #fff;\n        font-size: 1rem;\n        line-height: 1;\n\n      }\n\n      &.border-green, &.border-red, &.border-green, &.border-yellow {\n        &::before {\n          content: \" \";\n          z-index: 1;\n        }\n      }\n      &.border-green {\n          background-color: #0073b7dd;\n      }\n      &.border-red {\n          background-color: #f56954dd;\n      }\n      &.border-yellow {\n          background-color: #ffd35add;\n          color:black;\n      }\n      &.border-green {\n          background-color: #00a65add;\n      }\n    }\n    .inner-action {\n      background-color: #fff;\n      position: fixed;\n      color: #444;\n      border-radius: 3px;\n      // right: 4px;\n      // top: 4px;\n      opacity: 0;\n      z-index: 1;\n      .btn {\n        opacity: 0.4;\n        border-width: 0px;\n        color: #444;\n        cursor: pointer;\n        //border-radius: 50%;\n        &:hover {\n            opacity: 1;\n        }\n      }\n      .dropdown-item {\n        cursor: pointer;\n      }\n      .dropdown-menu {\n        position: fixed;\n      }\n    }\n    .innerimg {\n      //height: 100%;\n      max-height: 35vh;\n      padding: 5px;\n      position: relative;\n      z-index: 0;\n      line-height: 1;\n      img {\n        border: 1px solid #ccc;\n        max-width: 100%;\n      }\n      .img-actions {\n        * {\n          line-height: 1;\n          height: auto;\n        }\n        position: absolute;\n        bottom: 7px;\n        right: 7px;\n        opacity: 0;\n\n        display: flex;\n        gap: 2px;\n\n        output {\n          text-align: center;\n        }\n        .b-form-spinbutton {\n          padding: 2px 1px;\n        }\n        .btn {\n          padding: 2px 4px;\n        }\n      }\n      &:hover {\n        .img-actions {\n          opacity: 0.8;\n        }\n      }\n    }\n    .innerdesc {\n      width: 90%;\n      text-align: center;\n      display: flex;\n      flex-direction: column;\n    }\n    &:hover {\n      .inner-action {\n        opacity: 1;\n      }\n    }\n  }\n  img {\n    height: 100%;\n    //max-width: 100%;\n    //width: auto;\n    //height: auto;\n  }\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftMidia.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftMidia.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DraftMidia.vue?vue&type=template&id=46cc726e\"\nimport script from \"./DraftMidia.vue?vue&type=script&lang=js\"\nexport * from \"./DraftMidia.vue?vue&type=script&lang=js\"\nimport style0 from \"./DraftMidia.vue?vue&type=style&index=0&id=46cc726e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"draftmanagelist\">\n    <div class=\"row\">\n      <div class=\"col d-flex grade\">\n        <div class=\"btn-group \">\n          <button class=\"btn\" title=\"Atualizar lista\" @click=\"drawList(0)\">\n            <i class=\"fas fa-sync-alt\"></i>\n          </button>\n        </div>\n        <div class=\"d-flex grade\">\n          <b-form-spinbutton id=\"spincols\" v-model=\"cols\" min=\"1\" max=\"12\" inline></b-form-spinbutton>\n          <b-form-spinbutton id=\"spinrows\" v-model=\"rows\" min=\"1\" max=\"100\" inline></b-form-spinbutton>\n        </div>\n        <pagination :pagination=\"pagination\" v-on:nextPage=\"nextPage\" v-on:previousPage=\"previousPage\" v-on:currentPage=\"currentPage\"></pagination>\n        <div v-if=\"draftselected\" class=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\n          <a class=\"btn btn-danger\" title=\"Excluir Draft Atual\" @click=\"clickDel\" :disabled=\"draftselected === null\">\n              <i class=\"fas fa-trash-alt\"></i>\n          </a>\n          <a class=\"btn btn-warning text-white ml-2\"  @click=\"clickSupendeConversao\" title=\"Cancela agendamentos de conversão de PDF -> PDF/A-2b\">\n            <i class=\"fas fa-stop-circle\"></i>\n          </a>\n          <a class=\"btn btn-primary ml-2 btn-pdf2pdfa\" @click=\"clickPdf2Pdfa\"  title=\"Iniciar conversão Básica para PDF/A-2b de todos os arquivos do Draft selecionado.\">\n            <span>\n              PDF -><br>PDF/A-2b\n            </span>\n          </a>\n          <a class=\"btn btn-primary ml-2\" :href=\"`/api/arq/draft/${draftselected.id}/zipfile/?t=${Date.now()}`\" target=\"_blank\" rel=\"noopener noreferrer\" title=\"Baixar todos os arquivos individualmente dentro de um arquivo compactado.\">\n            <i class=\"fas fa-file-archive\"></i>\n          </a>\n          <a class=\"btn btn-primary ml-2\" @click=\"clickUnir\" title=\"Unir PDFs do Draft em apenas um PDF\">\n            <i class=\"fas fa-layer-group\"></i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <draft-midia :elemento=\"item\" :cols=\"cols\" v-for=\"item, k in draftmidialist_ordered\" :key=\"`dm${k}`\" v-on:redrawDraftMidia=\"drawList(-1)\" v-on:updateElement=\"updateElement\"></draft-midia>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DraftMidia from './DraftMidia.vue'\nimport Pagination from '@/components/Pagination'\n\nexport default {\n  name: 'draft-manage-list',\n  props: ['draftselected'],\n  components: {\n    DraftMidia,\n    Pagination\n  },\n  data () {\n    return {\n      pagination: {},\n      draftmidialist: {},\n      cols: 4,\n      rows: 3\n    }\n  },\n  computed: {\n    draftmidialist_ordered: {\n      get () {\n        return _.orderBy(this.draftmidialist, ['sequencia'], ['asc'])\n      }\n    }\n  },\n  watch: {\n    draftselected (nw, old) {\n      this.fetchMidias(nw)\n    },\n    rows (nw, old) {\n      this.fetchMidias(this.draftselected)\n    },\n    cols (nw, old) {\n      this.fetchMidias(this.draftselected)\n    }\n  },\n  mounted () {\n    this.changeMatriz()\n  },\n  methods: {\n    clickUnir () {\n      const t = this\n      t.utils.patchModelAction('arq', 'draft', this.draftselected.id, 'unirmidias'\n      ).then((response) => {\n        this.fetchMidias(this.draftselected)\n      }).catch((error) => {\n        t.sendMessage(\n          { alert: 'danger', message: error.response.data.message, time: 10 }\n        )\n      })\n    },\n    clickSupendeConversao () {\n      const t = this\n      t.utils.patchModelAction('arq', 'draft', this.draftselected.id, 'cancela_pdf2pdfa'\n      ).then((response) => {\n        this.fetchMidias(this.draftselected)\n      }).catch((error) => {\n        t.sendMessage(\n          { alert: 'danger', message: error.response.data.message, time: 10 }\n        )\n      })\n    },\n    clickPdf2Pdfa () {\n      const t = this\n      t.utils.patchModelAction('arq', 'draft', this.draftselected.id, 'pdf2pdfa'\n      ).then((response) => {\n        this.fetchMidias(this.draftselected)\n      }).catch((error) => {\n        t.sendMessage(\n          { alert: 'danger', message: error.response.data.message, time: 10 }\n        )\n      })\n    },\n    clickDel () {\n      const t = this\n      this.utils.deleteModel('arq', 'draft', this.draftselected.id\n      ).then((response) => {\n        t.$emit('reloadDrafts')\n      }).catch((error) => {\n        t.sendMessage(\n          { alert: 'danger', message: error.response.data.message, time: 10 }\n        )\n      })\n    },\n    drawList (value) {\n      let l = Object.keys(this.draftmidialist).length\n      if (value === -1) {\n        this.fetchMidias(this.draftselected, l > 1 ? this.pagination.page : (this.pagination.previous_page || 1))\n      } else {\n        this.fetchMidias(this.draftselected, l > 0 ? this.pagination.page : (this.pagination.previous_page || 1))\n      }\n    },\n    changeMatriz () {\n      let dm = document.getElementsByClassName('draft-midia')\n      let t = this\n      _.each(dm, function (item, idx) {\n        item.style.maxWidth = `${100 / t.cols}%`\n        item.style.flex = `0 0 ${100 / t.cols}%`\n      })\n    },\n    currentPage (value) {\n      if (value !== null && value >= 0) {\n        this.fetchMidias(this.draftselected, value)\n      }\n    },\n    updateElement (el) {\n      this.$set(this.draftmidialist, el.id, el)\n    },\n    nextPage () {\n      this.fetchMidias(this.draftselected, this.pagination.next_page)\n    },\n    previousPage () {\n      this.fetchMidias(this.draftselected, this.pagination.previous_page)\n    },\n    fetchMidias (draft, page = 1) {\n      let _this = this\n      if (draft !== null && draft.id > 0) {\n        _this.$set(_this, 'draftmidialist', {})\n        _this.$nextTick()\n          .then(function () {\n            _this.utils.getModelOrderedList('arq', 'draftmidia', 'sequencia', page, `&draft=${draft.id}&page_size=${_this.rows * _this.cols}`)\n              .then((response) => {\n                _this.$set(_this, 'pagination', response.data.pagination)\n                _.each(response.data.results, function (item, idx) {\n                  _this.$set(_this.draftmidialist, item.id, item)\n                })\n              })\n              .then(function () {\n                _this.changeMatriz()\n              })\n              .catch((response) => _this.sendMessage(\n                { alert: 'danger', message: 'Não foi possível recuperar a lista...', time: 5 }))\n          })\n      } else {\n        _this.$set(_this, 'draftmidialist', {})\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.draftmanagelist {\n  .grade {\n    gap: 1em;\n  }\n  .b-form-spinbutton {\n    output {\n      padding: 0 10px;\n    }\n  }\n  .widget-pagination {\n    flex: 1 1 auto;\n  }\n  .btn-pdf2pdfa {\n    font-size: 10px;\n    line-height: 1;\n    display: flex;\n    align-items: center;\n    padding: 3px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftManageList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftManageList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DraftManageList.vue?vue&type=template&id=0d9f0dcc\"\nimport script from \"./DraftManageList.vue?vue&type=script&lang=js\"\nexport * from \"./DraftManageList.vue?vue&type=script&lang=js\"\nimport style0 from \"./DraftManageList.vue?vue&type=style&index=0&id=0d9f0dcc&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('hr'),_c('h3',[_vm._v(\"O que é o Draft?\")]),_c('h5',{staticStyle:{\"padding-left\":\"5vw\",\"padding-bottom\":\"1em\"}},[_vm._v(\" Draft é uma ferramenta para criação e edição de arquivos PDF/A-2b,\"),_c('br'),_vm._v(\"além de também fazer OCR e converter DOC, DOCx, ODT, XLS, XLSX, ODS, TIF, TIFF, PNG e JPG para PDFs.\"),_c('br')]),_vm._v(\" Esta área é só sua. Os Drafts criados aqui não são públicos e não são vistos por outros usuários.\"),_c('br'),_vm._v(\" Cada Draft é uma área de criação independente. Clique no botão \\\"+\\\" acima para incluir um novo Draft.\"),_c('br'),_c('br'),_vm._v(\" Em um Draft você pode incluir vários PDFs, bem como desmembrar, excluir, rotacionar e reunir páginas. \"),_c('br'),_vm._v(\" Alem de arquivos DOC, DOCx, ODT, XLS, XLSX, ODS, PNG e JPG, que serão imediatamente convertidos para PDF.\"),_c('br'),_c('br'),_vm._v(\" No Draft é possível adicionar vários PDFs e clicar no botão \\\"PDF -> PDF/A-2b\\\" que acionará uma tarefa interna do Draft que transformará seus arquivos em PDF/A-2b com OCR. Com seus arquivos já editados, você poderá baixá-los em um arquivo compactado se em seu Draft houver mais que um arquivo ou ainda clicar sobre ele e abrir uma nova janela para então salvar em seus documentos locais.\"),_c('br'),_c('div',{staticClass:\"d-none\"},[_vm._v(\" Nas próximas versões da ferramenta, em breve, será adicionado reposicionamento de páginas e baixa/alta compactação de imagens para geração de PDFs reduzidos.\"),_c('br')]),_vm._v(\" No canto superior esquerdo de cada arquivo aparece um círculo que pode possuir três cores: \"),_c('ul',[_c('li',[_vm._v(\"Círculo vermelho - Significa que o arquivo não foi analisado desde a adição ou devido a edições, e não há garantia que possua OCR ou seja um PDF/A-2b.\")]),_c('li',[_vm._v(\"Circulo amarelo - Significa que você acionou um conversor \\\"PDF -> PDF/A-2b\\\" e que o Draft está trabalhando nessa tarefa. Tal tarefa não é feita em seu computador e neste momento está sendo feita em nuvem, o que significa que você pode fechar o site, ir fazer outras tarefas e, mais tarde, pegar seus arquivos já convertidos. Isso mesmo: se forem muitos arquivos e/ou muitas páginas, o processo de conversão pode demorar de minutos a horas. \")]),_c('li',[_vm._v(\"Circulo verde - O processamento de \\\"PDF -> PDF/A-2b\\\" já está concluído e você pode baixar seu arquivo.\")])]),_vm._v(\" Já no canto superior direito, em \\\"\"),_c('small',[_c('i',{staticClass:\"fas fa-ellipsis-v\"})]),_vm._v(\"\\\", você encontra as opções exclusivas do PDF em edição, que seria: \"),_c('ul',[_c('li',[_vm._v(\"\\\"PDF -> PDF/A-2b\\\" - do PDF em específico.\")]),_c('li',[_vm._v(\"\\\"Decompor\\\" - que decompõe um PDF de várias páginas em vários PDFs de uma página.\")]),_c('li',[_vm._v(\"\\\"Excluir\\\" - que exclui apenas o PDF em edição.\")])]),_c('strong',[_vm._v(\" E, muito importante, seu Draft será automaticamente apagado depois de uma semana que você o criar, afinal, é um \"),_c('em',[_vm._v(\"Draft\")]),_vm._v(\" (\\\"rascunho\\\", em inglês). \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <hr>\n    <h3>O que é o Draft?</h3>\n    <h5 style=\"padding-left: 5vw; padding-bottom: 1em;\">\n      Draft é uma ferramenta para criação e edição de arquivos PDF/A-2b,<br>além de também fazer OCR e converter DOC, DOCx, ODT, XLS, XLSX, ODS, TIF, TIFF, PNG e JPG para PDFs.<br>\n    </h5>\n    Esta área é só sua. Os Drafts criados aqui não são públicos e não são vistos por outros usuários.<br>\n    Cada Draft é uma área de criação independente. Clique no botão \"+\" acima para incluir um novo Draft.<br>\n    <br>\n    Em um Draft você pode incluir vários PDFs, bem como desmembrar, excluir, rotacionar e reunir páginas. <br>\n    Alem de arquivos DOC, DOCx, ODT, XLS, XLSX, ODS, PNG e JPG, que serão imediatamente convertidos para PDF.<br>\n    <br>\n    No Draft é possível adicionar vários PDFs e clicar no botão \"PDF -> PDF/A-2b\" que acionará uma tarefa interna do Draft que transformará seus arquivos em PDF/A-2b com OCR.\n    Com seus arquivos já editados, você poderá baixá-los em um arquivo compactado se em seu Draft houver mais que um arquivo ou ainda clicar sobre ele e abrir uma nova janela para então salvar em seus documentos locais.<br>\n    <div class=\"d-none\">\n      Nas próximas versões da ferramenta, em breve, será adicionado reposicionamento de páginas e baixa/alta compactação de imagens para geração de PDFs reduzidos.<br>\n    </div>\n    No canto superior esquerdo de cada arquivo aparece um círculo que pode possuir três cores:\n    <ul>\n      <li>Círculo vermelho - Significa que o arquivo não foi analisado desde a adição ou devido a edições, e não há garantia que possua OCR ou seja um PDF/A-2b.</li>\n      <li>Circulo amarelo - Significa que você acionou um conversor \"PDF -> PDF/A-2b\" e que o Draft está trabalhando nessa tarefa.\n        Tal tarefa não é feita em seu computador e neste momento está sendo feita em nuvem, o que significa que você pode fechar o site,\n        ir fazer outras tarefas e, mais tarde, pegar seus arquivos já convertidos.\n        Isso mesmo: se forem muitos arquivos e/ou muitas páginas, o processo de conversão pode demorar de minutos a horas.\n      </li>\n      <li>Circulo verde - O processamento de \"PDF -> PDF/A-2b\" já está concluído e você pode baixar seu arquivo.</li>\n    </ul>\n    Já no canto superior direito, em \"<small><i class=\"fas fa-ellipsis-v\"></i></small>\", você encontra as opções exclusivas do PDF em edição,\n    que seria:\n    <ul>\n      <li>\"PDF -> PDF/A-2b\" - do PDF em específico.</li>\n      <li>\"Decompor\" - que decompõe um PDF de várias páginas em vários PDFs de uma página.</li>\n      <li>\"Excluir\" - que exclui apenas o PDF em edição.</li>\n    </ul>\n    <strong>\n      E, muito importante, seu Draft será automaticamente apagado depois de uma semana que você o criar, afinal, é um <em>Draft</em> (\"rascunho\", em inglês).\n    </strong>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'draft-help'\n}\n</script>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftHelp.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftHelp.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DraftHelp.vue?vue&type=template&id=0d6eb2c2\"\nimport script from \"./DraftHelp.vue?vue&type=script&lang=js\"\nexport * from \"./DraftHelp.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"draft-manage container-fluid py-3\">\n    <div class=\"row\">\n      <div class=\"col-3 d-flex\">\n        <div class=\"d-flex flex-column w-100\">\n          <div class=\"d-flex \">\n            <div>\n              <button type=\"button\" class=\"btn btn-primary\" title=\"Novo Draft\" @click=\"clickAdd\">+</button>\n            </div>\n            <h1 class=\"ml-2\">Draft</h1>\n          </div>\n          <model-select @change=\"value => draftselected=value\"\n            class=\"form-opacity d-flex w-100\"\n            app=\"arq\"\n            model=\"draft\"\n            choice=\"descricao\"\n            ordering=\"descricao\"\n            ref=\"draftSelect\"\n            :height=\"8\"\n            ></model-select>\n          <div v-if=\"draftselected\" class=\"d-flex flex-column\">\n            <span>Título do Draft:\n              <small>\n                <em>(edição do draft selecionado acima)</em>\n              </small>\n            </span>\n            <b-form-input v-model=\"draftselected.descricao\" @change=\"changeDescricao($event)\"></b-form-input>\n          </div>\n          <div class=\"drop-area\">\n            <drop-zone :pk=\"draftselected.id\" :multiple=\"true\" v-on:uploaded=\"uploadedFiles\" v-if=\"draftselected\"/>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-9 container-manage-list\">\n        <div v-show=\"draftselected\">\n          <draft-manage-list :draftselected=\"draftselected\" v-on:reloadDrafts=\"reloadDrafts\" ref=\"listdraft\"></draft-manage-list>\n        </div>\n        <draft-help/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ModelSelect from '@/components/selects/ModelSelect.vue'\nimport DropZone from '@/components/utils/DropZone.vue'\nimport DraftManageList from './DraftManageList.vue'\nimport DraftHelp from './DraftHelp.vue'\n\nexport default {\n  name: 'draft-manage',\n  components: {\n    DropZone,\n    ModelSelect,\n    DraftManageList,\n    DraftHelp\n  },\n  data () {\n    return {\n      draftselected: null\n    }\n  },\n  methods: {\n    reloadDrafts () {\n      this.draftselected = null\n      this.$refs.draftSelect.fetchModel()\n    },\n    clickAdd () {\n      const t = this\n      this.utils.postModel('arq', 'draft', {\n        descricao: `New Draft ${(new Date()).toLocaleString()}`\n      }).then((response) => {\n        t.$refs.draftSelect.fetchModel()\n      }).catch((error) => {\n        console.debug(error)\n      })\n    },\n    uploadedFiles (response) {\n      if (response.statusText === 'OK') {\n        this.$refs.listdraft.fetchMidias(this.draftselected, 1)\n      }\n    },\n    changeDescricao (event) {\n      const t = this\n      t.utils.patchModel('arq', 'draft', t.draftselected.id, {\n        descricao: event\n      })\n        .then((response) => {\n          t.$refs.draftSelect.fetchModel()\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"~@/scss/variables\";\n.draft-manage {\n  min-height: 100vh;\n  .flex-column {\n    gap: 0.5rem;\n  }\n  .drop-area {\n    position: relative;\n    flex-grow: 2;\n    .drop_files {\n      height: 100%;\n      label {\n        position: sticky;\n        padding: 15vh 0;\n      }\n    }\n  }\n  .container-manage-list {\n    padding-left: 0;\n  }\n}\n\n.btn-group-vertical {\n  align-content: center;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftManage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./DraftManage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DraftManage.vue?vue&type=template&id=7569046d\"\nimport script from \"./DraftManage.vue?vue&type=script&lang=js\"\nexport * from \"./DraftManage.vue?vue&type=script&lang=js\"\nimport style0 from \"./DraftManage.vue?vue&type=style&index=0&id=7569046d&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.pagination.total_entries !== 0)?_c('div',{staticClass:\"widget-pagination d-flex justify-content-between align-items-center\"},[_c('span',{class:['arrow', _vm.pagination.previous_page !== null ? 'hover-circle' : 'disabled'],on:{\"click\":_vm.previousPage}},[_c('i',{staticClass:\"fas fa-chevron-left\"})]),_c('div',{staticClass:\"pages\"},[_vm._v(\" \"+_vm._s(_vm.pagination.start_index)+\"–\"+_vm._s(_vm.pagination.end_index)+\" de \"+_vm._s(_vm.pagination.total_entries)+\" \"),_c('div',{staticClass:\"inner\"},[_c('b-pagination',{attrs:{\"align\":\"right\",\"total-rows\":_vm.pagination.total_entries,\"per-page\":18},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)]),_c('span',{class:['arrow', _vm.pagination.next_page !== null ? 'hover-circle' : 'disabled'],on:{\"click\":_vm.nextPage}},[_c('i',{staticClass:\"fas fa-chevron-right\"})])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"pagination.total_entries !== 0\" class=\"widget-pagination d-flex justify-content-between align-items-center\">\n    <span :class=\"['arrow', pagination.previous_page !== null ? 'hover-circle' : 'disabled']\" @click=\"previousPage\">\n      <i class=\"fas fa-chevron-left\"></i>\n    </span>\n    <div class=\"pages\">\n      {{pagination.start_index}}–{{pagination.end_index}} de {{pagination.total_entries}}\n      <div class=\"inner\">\n        <b-pagination align=\"right\" :total-rows=\"pagination.total_entries\" v-model=\"currentPage\" :per-page=\"18\"/>\n      </div>\n    </div>\n    <span :class=\"['arrow', pagination.next_page !== null ? 'hover-circle' : 'disabled']\"  @click=\"nextPage\">\n      <i class=\"fas fa-chevron-right\"></i>\n    </span>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'pagination',\n  props: ['pagination'],\n  data () {\n    return {\n      currentPage: this.pagination.page\n    }\n  },\n  watch: {\n    currentPage: function (nv, ov) {\n      if (nv !== ov) {\n        this.$emit('currentPage', nv)\n      }\n    },\n    pagination: function (nv) {\n      this.currentPage = nv.page\n    }\n  },\n  methods: {\n    nextPage () {\n      if (this.pagination.next_page !== null) this.$emit('nextPage')\n    },\n    previousPage () {\n      if (this.pagination.previous_page !== null) this.$emit('previousPage')\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.widget-pagination {\n\n  position: relative;\n  background-color: rgba(white, 0.2);\n  border: 1px #dddddd solid;\n  border-radius: 20px;\n  cursor: pointer;\n  &:hover {\n    background-color: rgba(white, 0.7);\n  }\n  .arrow {\n    display: grid;\n    align-items: center;\n    justify-items: center;\n    height: 38px;\n    width: 38px;\n    cursor: pointer;\n  }\n  .disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n  .pages {\n    line-height: 38px;\n    position: static;\n    user-select: none;\n    .inner {\n      z-index: 1;\n      position: absolute;\n      top: 100%;\n      right: 20px;\n      display: none;\n      padding: 15px 15px 0;\n      border: 1px #dddddd solid;\n      background-color: rgba($color: white, $alpha: 0.9);\n    }\n    &:hover {\n      .inner {\n        display: inline-block;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=02827f9a\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nimport style0 from \"./Pagination.vue?vue&type=style&index=0&id=02827f9a&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-form-select',{attrs:{\"options\":_vm.options,\"select-size\":_vm.height},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-form-select v-model=\"selected\" :options=\"options\" :select-size=\"height\"/>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'model-select',\n  props: ['value',\n    'app', 'model',\n    'label',\n    'limit',\n    'ordering',\n    'choice', 'height', 'extra_query', 'required'\n  ],\n  data () {\n    return {\n      selected: this.value,\n      options: []\n    }\n  },\n  watch: {\n    selected: function (nv, ov) {\n      this.$emit('change', nv)\n    },\n    value: function (nv, ov) {\n      this.selected = nv\n    }\n  },\n  methods: {\n    fetch (data) {\n      this.fetchModel()\n    },\n    fetchModel (next_page = 1) {\n      /**\n       * Busca lista completa do model\n       *   /api/[app]/[model]/\n       *\n       */\n      let _this = this\n      if (next_page === 1) {\n        if (!_this.height || this.height === 1) {\n          if (_this.required === undefined || !_this.required) {\n            _this.selected = _this.value ? _this.value : null\n            _this.options = [\n              { value: _this.selected, text: this.label ? this.label : '---------------' }\n            ]\n          }\n        } else {\n          _this.options = []\n        }\n      }\n\n      let query_string = _this.isString(_this.extra_query) ? _this.extra_query : ''\n\n      _this.utils.getModelOrderedList(_this.app, _this.model, _this.ordering, next_page, query_string)\n        .then((response) => {\n          _.each(response.data.results, function (item, idx) {\n            _this.options.push({ value: item, text: item[_this.choice] })\n            _this.refreshState({\n              app: _this.app,\n              model: _this.model,\n              value: item,\n              id: item.id\n            })\n          })\n          if (response.data.pagination.next_page !== null) {\n            _this.fetchModel(response.data.pagination.next_page)\n          }\n        })\n        .catch((response) => _this.sendMessage(\n          { alert: 'danger', message: 'Não foi possível recuperar a lista...', time: 5 }))\n    }\n  },\n  created: function () {\n    this.fetchModel()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ModelSelect.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/lib/config/vue-loader-v15-resolve-compat/vue-loader.js??vue-loader-options!./ModelSelect.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ModelSelect.vue?vue&type=template&id=673ad820\"\nimport script from \"./ModelSelect.vue?vue&type=script&lang=js\"\nexport * from \"./ModelSelect.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","clickAdd","_v","ref","value","draftselected","_m","$event","changeDescricao","model","descricao","callback","$$v","$set","expression","_e","id","uploadedFiles","directives","name","rawName","reloadDrafts","staticRenderFns","drop_handler","dragover_handler","dragend_handler","style","progress","multiple","selectFiles","src","src_local","props","data","watch","nv","ov","methods","ev","files","currentTarget","length","sendFiles","t","form","FormData","i","append","lastModified","utils","postModelAction","pk","onUploadProgress","event","_progress","Math","round","loaded","total","then","response","_","now","$emit","sendMessage","alert","message","time","catch","detail","undefined","preventDefault","dt","dataTransfer","items","Array","kind","push","getAsFile","remove","clearData","component","drawList","cols","rows","pagination","nextPage","previousPage","currentPage","clickDel","clickSupendeConversao","clickPdf2Pdfa","Date","clickUnir","_l","draftmidialist_ordered","item","k","key","updateElement","class","elemento","enterInner","leaveInner","metadata","ocrmypdf","pdfa","domProps","_s","clickDraftmidiaAction","arquivo","page","nocache","uploadedfile","paginas","clickRotate","arquivo_size","getTime","nw","old","estagio_execucao","timeoutUpdate","mounted","setTimeout","getModel","inneraction","$refs","btnDropDownActions","rect","getBoundingClientRect","left","width","offsetWidth","top","dropleft","$","dropdown","deleteModel","error","action","patchModelAction","$nextTick","imgView","angulo","getByMetadata","app","components","DraftMidia","Pagination","draftmidialist","computed","get","orderBy","fetchMidias","changeMatriz","l","Object","keys","previous_page","dm","document","getElementsByClassName","each","idx","maxWidth","flex","el","next_page","draft","_this","getModelOrderedList","results","staticStyle","DropZone","ModelSelect","DraftManageList","DraftHelp","draftSelect","fetchModel","postModel","toLocaleString","statusText","listdraft","patchModel","total_entries","start_index","end_index","options","height","selected","fetch","required","text","label","query_string","isString","extra_query","ordering","choice","refreshState","created"],"ignoreList":[],"sourceRoot":""}