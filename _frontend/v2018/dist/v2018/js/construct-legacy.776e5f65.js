(self["webpackChunkportalcmj_frontend"]=self["webpackChunkportalcmj_frontend"]||[]).push([[6630],{2801:function(){},3467:function(e,t,n){"use strict";n(3792),n(3362),n(9085),n(9391),n(1774);var o=n(2893),a=n(5353),i=n(5993),r=n(9377),s=n(9042),l=n(173),c=n(8723),d=n(2362),u=n(5929),m="DOC_OBJECT",h="DOC_TITULO",p="DOC_DESCRICAO",g=(0,d.A)((0,d.A)((0,d.A)({},m,function(e,t){if(t&&"object"===(0,u.A)(t))if(void 0===t.parent||null===t.parent)e.documento=t;else{var n=function(e){if(t.parent===e.id)return e.childs[t.id]=t,!0;for(var o in e.childs)if(n(e.childs[o]))return!0};n(e.documento)}}),h,function(e,t){t&&"object"===(0,u.A)(t)&&e.documento.pk===t.pk&&(e.documento.titulo=t.titulo)}),p,function(e,t){t&&"object"===(0,u.A)(t)&&e.documento.pk===t.pk&&(e.documento.descricao=t.descricao)}),f={documento:{}},v={getDocObject:function(e,t){return e.documento},getChilds:function(e){return e.documento.childs},getChoices:function(e){return e.documento.choices},getSlug:function(e){return e.documento.slug}},b={setDocObject:function(e,t){var n=e.commit;return n(m,t)},setTitulo:function(e,t){var n=e.commit;return n(h,t)},setDescricao:function(e,t){var n=e.commit;return n(p,t)}},_={state:f,mutations:g,getters:v,actions:b},C={StoreDocumentoEdit:_},y="MESSAGE_SHIFT",x="MESSAGE_POP",w=(0,d.A)((0,d.A)({},y,function(e,t){e.messages.unshift(t),setTimeout(function(){e.messages.pop()},5e3)}),x,function(e){e.messages.pop()}),A={messages:[]},T={getMessages:function(e){return e.messages}},D={sendMessage:function(e,t){var n=e.commit;return n(y,t)},popMessage:function(e){var t=e.commit;return t(x)}},k={state:A,mutations:w,getters:T,actions:D},$={StoreMessage:k},z={modules:{sigad__documento_edit:C.StoreDocumentoEdit,utils__message:$.StoreMessage}},O=function(){var e=this,t=e._self._c;return"INIT"!==e.mode?t("div",{class:e.classParent},[e.notHasParent?t("div",{staticClass:"container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.elemento.id,expression:"elemento.id"}],staticClass:"btn-toolbar widgets-function justify-content-between"},[t("b-button-group",[t("b-button",{attrs:{variant:"primary"},on:{click:function(t){return t.target!==t.currentTarget?null:e.clickVersaoFinal.apply(null,arguments)}}},[e._v("Versão Final")]),t("b-button",{attrs:{variant:"success"},on:{click:function(t){return t.target!==t.currentTarget?null:e.clickEditMetadados.apply(null,arguments)}}},[e._v("Editar Metadados")])],1),t("div",{staticClass:"btn-group widget-visibilidade"},[t("cmj-choices",{attrs:{options:e.visibilidade_choice,name:"visibilidade-",id:e.elemento.id},model:{value:e.elemento.visibilidade,callback:function(t){e.$set(e.elemento,"visibilidade",t)},expression:"elemento.visibilidade"}})],1)],1),t("div",{staticClass:"path-title construct"},[t("textarea-autosize",{attrs:{placeholder:"Título do Documento",align:"text-center"},model:{value:e.elemento.titulo,callback:function(t){e.$set(e.elemento,"titulo",t)},expression:"elemento.titulo"}})],1),t("div",{staticClass:"path-description construct"},[t("textarea-autosize",{attrs:{placeholder:"Descrição do Documento",align:"text-center"},model:{value:e.elemento.descricao,callback:function(t){e.$set(e.elemento,"descricao",t)},expression:"elemento.descricao"}})],1),t("div",{staticClass:"construct"},[t("textarea-autosize",{attrs:{placeholder:"texto...",align:"text-left"},model:{value:e.elemento.texto,callback:function(t){e.$set(e.elemento,"texto",t)},expression:"elemento.texto"}})],1)]):e._e(),e._l(e.childsOrdenados,function(n){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento}})})],2):t("div",[e._m(0)])},E=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"loading"},[e._v(" Carregando Editor... ")])])}],P=n(7180),j=(n(4114),n(2010),n(8706),n(4335)),M="/api";j.A.defaults.headers.get["Cache-Control"]="no-cache, no-store, must-revalidate",j.A.defaults.headers.get["Pragma"]="no-cache",j.A.defaults.headers.get["Expires"]="0",j.A.defaults.xsrfCookieName="csrftoken",j.A.defaults.xsrfHeaderName="X-CSRFToken";var R,I,N={getDocumentoChoiceList:function(e,t){return(0,j.A)({url:"".concat(M,"/documento/?page=").concat(t,"&tipo=").concat(e),method:"GET"})},getDocumento:function(e){return(0,j.A)({url:"".concat(M,"/documento/").concat(e,"/"),method:"GET"})},createDocumento:function(e){return(0,j.A)({url:"".concat(M,"/documento/"),data:e,method:"POST"})},putDocumento:function(e){return(0,j.A)({url:"".concat(M,"/documento/").concat(e.id,"/"),data:e,method:"PUT"})},updateDocumento:function(e){return(0,j.A)({url:"".concat(M,"/documento/").concat(e.id,"/"),data:e,method:"PATCH"})},uploadFiles:function(e,t){return(0,j.A)({url:"".concat(M,"/documento/").concat(e,"/"),data:t,method:"PATCH"})},deleteDocumento:function(e){return(0,j.A)({url:"".concat(M,"/documento/").concat(e,"/"),method:"DELETE"})},deleteReferencia:function(e){return(0,j.A)({url:"".concat(M,"/documento/").concat(e.id,"/"),data:e,method:"DELETE"})}},F=n(2543),S={name:"documento-edit",props:["child","parent"],data:function(){return{documentoResource:N,elemento:{id:0,classe:0,parent:null,titulo:"",descricao:"",visibilidade:99,texto:"",autor:"",refresh:0},mode:"INIT"}},watch:{"elemento.titulo":function(e,t){this.handlerWatch(e,t,"titulo")},"elemento.descricao":function(e,t){this.handlerWatch(e,t,"descricao")},"elemento.visibilidade":function(e,t){this.handlerWatch(e,t,"visibilidade")},"elemento.texto":function(e,t){this.handlerWatch(e,t,"texto")},"elemento.autor":function(e,t){this.handlerWatch(e,t,"autor")},parent:function(e,t){this.elemento=this.child}},computed:(0,P.A)((0,P.A)({},(0,a.L8)(["getChilds","getChoices","getDocObject"])),{},{name_component:function(){return this.$options.name},hasParent:function(){return this.elemento&&this.elemento.parent>0},notHasParent:function(){return!this.elemento||!this.elemento.parent},refresh:function(){var e=this.elemento;return e=e.refresh,e=void 0===e?0:e,e},slug:function(){var e=this.elemento.slug;return"/"+e},meta_edit:function(){return"/documento/"+this.elemento.id+"/edit"},childsOrdenados:function(){var e=this.elemento.childs;return F.orderBy(e,"ordem")},visibilidade_choice:function(){return this.getChoices&&this.getChoices.visibilidade?this.getChoices.visibilidade:{}},classParent:function(){return this.notHasParent?"container-path container-documento-edit":""},ordem:function(){return this.elemento.ordem}}),methods:(0,P.A)((0,P.A)({},(0,a.i0)(["setDocObject","setTitulo","setDescricao","sendMessage"])),{},{clickVersaoFinal:function(){window.open(this.slug,"_blank")},clickEditMetadados:function(){window.open(this.meta_edit,"_self")},classChild:function(e){if(!e.id&&this.notHasParent)return"container-path container-documento-edit";try{var t=this.getChoices.all_bycode[e.tipo]["component_tag"];return-1!==[10].indexOf(this.getDocObject.tipo)&&(t+="-"+this.getChoices.all_bycode[this.getDocObject.tipo]["component_tag"]),t}catch(n){return""}},handlerWatch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=Object();if(n&&(o[n]=e),"CREATE"===this.mode)return o.classe=this.elemento.classe,o.parent=this.elemento.parent,void this.createDocumento(o);if("INIT"!==this.mode){o.id=this.elemento.id;var a=this;a.updateDocumento(o).then(function(){a.success()})}},updateDocumento:function(e){var t=this,n=this;return n.documentoResource.updateDocumento(e).then(function(e){n.setDocObject(e.data)}).catch(function(e){return t.danger()})},success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Informação atualizada com sucesso.";this.sendMessage({alert:"alert-success",message:e})},danger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ocorreu um erro na comunicação com o servidor.";this.sendMessage({alert:"alert-danger",message:e})},createDocumento:function(e){var t=this,n=this;n.documentoResource.createDocumento(e).then(function(e){n.setDocObject(e.data),n.$router.push({name:"documento_construct",params:{id:e.data.id}}),n.$nextTick().then(function(){n.getDocumento(e.data.id)})}).catch(function(e){return t.danger()})},getDocumento:function(e){var t=this;return this.mode="INIT",this.$nextTick().then(function(){t.documentoResource.getDocumento(e).then(function(e){t.setDocObject(e.data),t.elemento=e.data,t.$nextTick().then(function(){t.mode="UPDATE",t.success()})}).catch(function(e){t.setDocObject({}),t.elemento={},t.danger("erro na atualização")})})},createBrother:function(e){var t=this;t.documentoResource.createDocumento(e).then(function(e){t.$parent.getDocumento(e.data.parent)}).catch(function(e){t.danger()})},createChild:function(e){var t=this,n=this;n.documentoResource.createDocumento(e).then(function(e){n.getDocumento(t.elemento.id)}).catch(function(e){n.danger("erro na adição")})}}),mounted:function(){var e=this;if(e.child)e.elemento=e.child,e.$nextTick().then(function(){e.mode="UPDATE"});else{var t=e.$route.params.id;"documento_construct"===e.$route.name?e.getDocumento(t):(e.mode="CREATE",e.elemento.classe=t,e.parent&&(e.elemento.parent=e.parent.id))}}},B=S,L=n(1656),q=(0,L.A)(B,O,E,!1,null,null,null),H=q.exports,G=[{name:"documento_construct",path:"/documento/:id/construct",component:H},{name:"documento_construct_create",path:"/classe/:id/documento/construct",component:H}],V=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("message",{attrs:{messages:e.getMessages}}),t("router-view")],1)},W=[],U={name:"app",data:function(){return{}},computed:(0,P.A)({},(0,a.L8)({getMessages:"getMessages"}))},X=U,Z=(0,L.A)(X,V,W,!1,null,null,null),J=Z.exports,K=function(){var e=this,t=e._self._c;return t("div",{class:[e.name_component,0!==e.childsOrdenados.length?"":"empty"]},[t("div",{staticClass:"btn-toolbar widgets widget-top"},[e.elemento.titulo?e._e():t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Título para o Container",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleTitulo.apply(null,arguments)}}},[e._v("T")])]),0===e.childsOrdenados.length?[t("div",{staticClass:"btn-group btn-group-sm"},e._l(e.getChoices.tipo.subtipos,function(n,o){return t("button",{key:o,staticClass:"btn btn-primary",attrs:{type:"button",title:"Adiciona Elemento no final deste Container..."},on:{click:function(t){return t.target!==t.currentTarget?null:e.addChild(n.component_tag,t)}}},[e._v(e._s(n.text))])}),0)]:e._e(),t("div",{staticClass:"btn-group btn-group-sm"})],2),e.has_titulo||e.elemento.titulo?t("div",{staticClass:"path-title-container construct"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Sub título do container..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})]):e._e(),e._l(e.childsOrdenados,function(n){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento}})}),t("div",{staticClass:"clearfix"}),t("div",{staticClass:"btn-toolbar widgets widget-bottom justify-content-end"},[t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Adicionar novo Container Simples abaixo deste",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother("container",t)}}},[e._v("+C")]),t("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Adicionar novo Container Extendido abaixo deste",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother("container-fluid",t)}}},[e._v("+CE")]),t("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Adicionar novo Container Para PDF",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother("container-file",t)}}},[e._v("+CF")])]),t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Trocar tipo deste Container",type:"button"},on:{click:e.containerTrocarTipo}},[t("i",{staticClass:"fas fa-exchange-alt"})])]),t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-danger",attrs:{title:"Remover este Container",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.deleteParte.apply(null,arguments)}}},[e._v("x")])])])],2)},Q=[],Y=(n(6099),n(2953),n(2543)),ee={name:"container",extends:(0,P.A)({},H),data:function(){return{has_titulo:!1,has_descricao:!1,has_autor:!1}},methods:{toogleTitulo:function(e){this.has_titulo=!this.has_titulo},toogleDescricao:function(e){this.has_descricao=!this.has_descricao},toogleAutor:function(e){this.has_autor=!this.has_autor},addBrother:function(e,t){var n=Object();n.tipo=this.getChoices.all_bycomponent[e].id,n.parent=this.parent.id,n.ordem=this.elemento.ordem+1,this.createBrother(n)},addChild:function(e,t){var n=Object();n.tipo=this.getChoices.all_bycomponent[e].id,n.parent=this.elemento.id,this.createChild(n)},deleteParte:function(e){var t=this,n=this;n.documentoResource.deleteDocumento(this.elemento.id).then(function(e){n.$parent.getDocumento(t.parent.id),n.success("Elemento excluído com sucesso.")}).catch(function(e){n.danger(e.response.data.detail)})},containerTrocarTipo:function(e){var t=this,n=Object(),o=Y.keys(this.getChoices.tipo.containers);n.tipo=this.elemento.tipo===parseInt(o[0])?o[1]:o[0],n.id=this.elemento.id,t.updateDocumento(n).then(function(e){t.$parent.getDocumento(t.parent.id)})}}},te=ee,ne=(0,L.A)(te,K,Q,!1,null,null,null),oe=ne.exports,ae=function(){var e=this,t=e._self._c;return t("div",{class:[e.name_component,"container"]},[t("span",{staticClass:"btn-pdf"},[t("b-button-group",[0!=e.childsOrdenados.length?t("b-button",{attrs:{variant:"primary"}},[t("i",{staticClass:"far fa-file-pdf",attrs:{"aria-hidden":"true"},on:{click:function(t){return t.target!==t.currentTarget?null:e.clickVersaoFinal.apply(null,arguments)}}})]):e._e()],1)],1),t("div",{staticClass:"path-title-file construct"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título do Arquivo..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})]),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.autor,expression:"elemento.autor",modifiers:{lazy:!0}}],attrs:{placeholder:"Autor..."},domProps:{value:e.elemento.autor},on:{change:function(t){return e.$set(e.elemento,"autor",t.target.value)}}}),t("div",{staticClass:"path-description-file construct"},[t("textarea-autosize",{attrs:{placeholder:"Descrição do Documento"},model:{value:e.elemento.descricao,callback:function(t){e.$set(e.elemento,"descricao",t)},expression:"elemento.descricao"}})],1),t("div",{staticClass:"drop-area"},[t("drop-zone",{attrs:{elemento:e.elemento,src:e.slug,multiple:!0,resource:e.documentoResource},on:{change:e.changeImage}})],1),t("div",{staticClass:"inner"},e._l(e.childsOrdenados,function(n,o){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento,pos:o},on:{ondragend:e.ondragend,ondragleave:e.ondragleave,showmodal:e.showModalAction}})}),1),t("div",{staticClass:"btn-toolbar widgets widget-bottom justify-content-end"},[t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Adicionar novo Container Simples abaixo deste",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother("container",t)}}},[e._v("+C")]),t("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Adicionar novo Container Extendido abaixo deste",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother("container-fluid",t)}}},[e._v("+CE")]),t("button",{staticClass:"btn btn-outline-primary",attrs:{title:"Adicionar novo Container Para PDF",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother("container-file",t)}}},[e._v("+CF")])]),t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-danger",attrs:{title:"Remover este Container",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.deleteParte.apply(null,arguments)}}},[e._v("x")])])])])},ie=[],re={name:"container-file",extends:(0,P.A)({},oe),data:function(){return{has_titulo:!1,has_descricao:!1,has_autor:!1,dragleave:null,side:0,showModal:-1,showElemento:null}},methods:{clickVersaoFinal:function(){window.open(this.slug,"_blank")},toogleTitulo:function(e){this.has_titulo=!this.has_titulo},toogleDescricao:function(e){this.has_descricao=!this.has_descricao},toogleAutor:function(e){this.has_autor=!this.has_autor},addBrother:function(e,t){var n=Object();n.tipo=this.getChoices.all_bycomponent[e].id,n.parent=this.parent.id,n.ordem=this.elemento.ordem+1,this.createBrother(n)},addChild:function(e,t){var n=Object();n.tipo=this.getChoices.all_bycomponent[e].id,n.parent=this.elemento.id,this.createChild(n)},deleteParte:function(e){var t=this,n=this;n.documentoResource.deleteDocumento(this.elemento.id).then(function(e){n.$parent.getDocumento(t.parent.id),n.success("Elemento excluído com sucesso.")}).catch(function(e){n.danger(e.response.data.detail)})},showModalAction:function(e,t){this.showElemento=e,this.showModal=t},ondragend:function(e){var t=this;if(e.id!==this.dragleave.id){var n=Object();n.id=e.id,n.ordem=this.dragleave.ordem,e.ordem>this.dragleave.ordem&&this.side>0?n.ordem++:e.ordem<this.dragleave.ordem&&this.side<0&&n.ordem--,e.ordem!==n.ordem&&(e.ordem=n.ordem,this.updateDocumento(n).then(function(){t.getDocumento(t.elemento.id)}))}},ondragleave:function(e,t){this.dragleave=e,this.side=t},changeImage:function(e){this.getDocumento(this.elemento.id)}}},se=re,le=(0,L.A)(se,ae,ie,!1,null,null,null),ce=le.exports,de={name:"container-fluid",template:oe.template,style:oe.style,extends:(0,P.A)({},oe)},ue=de,me=(0,L.A)(ue,R,I,!1,null,null,null),he=me.exports,pe=function(){var e=this,t=e._self._c;return t("div",{class:[e.name_component,"container"]},[e._m(0),t("div",{staticClass:"drop-area"},[t("drop-zone",{attrs:{elemento:e.elemento,src:e.slug,multiple:!0,resource:e.documentoResource},on:{change:e.changeImage}})],1),t("div",{staticClass:"inner"},[e.showModal>=0?t("modal-image-list",{attrs:{elementos:e.childsOrdenados,child:e.showElemento,pos:e.showModal,parent:e.elemento},on:{close:function(t){e.showModal=-1}}}):e._e(),e._l(e.childsOrdenados,function(n,o){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento,pos:o},on:{ondragend:e.ondragend,ondragleave:e.ondragleave,showmodal:e.showModalAction}})})],2)])},ge=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"btn-toolbar widgets widget-top"},[t("div",{staticClass:"btn-group btn-group-sm"})])}],fe={name:"container-td-bi",extends:(0,P.A)({},H),data:function(){return{dragleave:null,side:0,showModal:-1,showElemento:null}},methods:{showModalAction:function(e,t){this.showElemento=e,this.showModal=t},ondragend:function(e){var t=this;if(e.id!==this.dragleave.id){var n=Object();n.id=e.id,n.ordem=this.dragleave.ordem,e.ordem>this.dragleave.ordem&&this.side>0?n.ordem++:e.ordem<this.dragleave.ordem&&this.side<0&&n.ordem--,e.ordem!==n.ordem&&(e.ordem=n.ordem,this.updateDocumento(n).then(function(){t.getDocumento(t.elemento.id)}))}},ondragleave:function(e,t){this.dragleave=e,this.side=t},changeImage:function(e){this.getDocumento(this.elemento.id)}}},ve=fe,be=(0,L.A)(ve,pe,ge,!1,null,null,null),_e=be.exports,Ce=function(){var e=this,t=e._self._c;return t("div",{class:e.name_component},[t("div",{staticClass:"btn-toolbar widgets widget-top justify-content-end"},[e.elemento.titulo?e._e():t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Subtítulo para este Fragmento de Texto",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleTitulo.apply(null,arguments)}}},[e._v("T")])]),t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-success",attrs:{title:[e.usartinymce?"Usar Editor Simples":"Usar Editor Avançado"],type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleEditor.apply(null,arguments)}}},[e._v("Edição de Texto")]),t("button",{staticClass:"btn btn-danger",attrs:{title:"Remover este Fragmento de Texto",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.deleteParte.apply(null,arguments)}}},[e._v("x")])])]),e.has_titulo||e.elemento.titulo?t("span",{staticClass:"path-title-partes"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Subtítulo para Fragmento de Texto..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})]):e._e(),e.usartinymce?t("div",{staticClass:"construct"},[e.usartinymce?t("editor",{attrs:{inline:"",init:{plugins:"lists",toolbar:"undo redo | styles | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | indent outdent | bullist numlist"}},model:{value:e.elemento.texto,callback:function(t){e.$set(e.elemento,"texto",t)},expression:"elemento.texto"}}):e._e()],1):e._e(),e.usartinymce?e._e():t("textarea-autosize",{attrs:{placeholder:"Fragmento de Texto",align:"text-left"},model:{value:e.elemento.texto,callback:function(t){e.$set(e.elemento,"texto",t)},expression:"elemento.texto"}}),e._l(e.childsOrdenados,function(n){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento}})}),t("div",{staticClass:"btn-toolbar widgets widget-bottom justify-content-end"},[t("div",{staticClass:"btn-group btn-group-sm"},e._l(e.getChoices.tipo.subtipos,function(n,o){return t("button",{key:o,staticClass:"btn btn-primary",attrs:{type:"button",title:"Adiciona Elemento aqui..."},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother(n.component_tag,t)}}},[e._v(e._s(n.text))])}),0)])],2)},ye=[],xe=n(1445),we=(n(4934),{name:"tpd-texto",extends:(0,P.A)({},oe),components:{Editor:xe.A},data:function(){return{usartinymce:!0}},methods:{toogleEditor:function(){this.usartinymce=!this.usartinymce},success:function(){}}}),Ae=we,Te=(0,L.A)(Ae,Ce,ye,!1,null,null,null),De=Te.exports,ke=(n(8111),n(9314),function(){var e=this,t=e._self._c;return t("div",{class:[e.name_component,"draggable",e.classDrag,e.is_imagem?"images-list":"files-list"],on:{dragend:e.dragend,dragenter:e.dragenter,dragleave:e.dragleave,dragover:e.dragover,dragstart:e.dragstart,dragexit:e.dragexit,drop:e.drop,mouseover:e.mouseOver,mouseleave:e.mouseLeave}},[t("div",{class:[e.is_imagem?"image-render":"file-render"]},[e.is_imagem?t("img",{attrs:{src:e.slug+".256?"+e.refresh}}):e._e()]),e.is_imagem?e._e():t("div",[t("div",{staticClass:"path-title-file construct"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título do Arquivo..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})]),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.autor,expression:"elemento.autor",modifiers:{lazy:!0}}],attrs:{placeholder:"Autor..."},domProps:{value:e.elemento.autor},on:{change:function(t){return e.$set(e.elemento,"autor",t.target.value)}}}),t("div",{staticClass:"path-description-file construct"},[t("textarea-autosize",{attrs:{placeholder:"Descrição do Documento"},model:{value:e.elemento.descricao,callback:function(t){e.$set(e.elemento,"descricao",t)},expression:"elemento.descricao"}})],1)]),e.is_imagem?e._e():t("div",{staticClass:"drop-area"},[t("drop-zone",{attrs:{elemento:e.elemento,src:"",multiple:!1,resource:e.documentoResource},on:{change:e.changeImage}})],1),t("div",{staticClass:"btn-controls"},[e.is_imagem?e._e():t("a",{staticClass:"btn btn-link",attrs:{href:e.slug,target:"_blank"}},[t("i",{staticClass:"fas fa-file"})]),e.is_imagem?t("span",{staticClass:"btn btn-rotate",attrs:{title:"Rotacionar 90 graus a esquerda"},on:{click:e.rotateLeft}},[t("i",{staticClass:"fas fa-undo",attrs:{"aria-hidden":"true"}})]):e._e(),e.is_imagem?t("span",{staticClass:"btn btn-rotate",attrs:{title:"Rotacionar 90 graus a direita"},on:{click:e.rotateRight}},[t("i",{staticClass:"fas fa-redo",attrs:{"aria-hidden":"true"}})]):e._e(),t("span",{staticClass:"btn btn-delete",on:{click:e.deleteParte}},[t("i",{staticClass:"fas fa-trash",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"btn-toolbar widgets widget-bottom justify-content-end"},[t("div",{staticClass:"btn-group btn-group-sm"},e._l(e.getChoices.tipo.subtipos,function(n,o){return t("button",{key:o,staticClass:"btn btn-primary",attrs:{type:"button",title:"Adiciona Elemento aqui..."},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother(n.component_tag,t)}}},[e._v(e._s(n.text))])}),0)])])}),$e=[],ze=function(){var e=this,t=e._self._c;return t("div",{class:[e.name_component,"draggable",e.classDrag],on:{dragend:e.dragend,dragenter:e.dragenter,dragleave:e.dragleave,dragover:e.dragover,dragstart:e.dragstart,dragexit:e.dragexit,drop:e.drop,mouseover:e.mouseOver,mouseleave:e.mouseLeave}},[t("img",{attrs:{src:e.slug+".128?"+e.refresh}}),t("div",{staticClass:"drag",on:{click:function(t){return e.$emit("showmodal",e.elemento,e.pos)}}}),e.mouseover?t("div",{staticClass:"imgmouseover"},[t("img",{attrs:{src:e.slug+".512?"+e.refresh}})]):e._e()])},Oe=[],Ee={name:"tpd-image-td-bi",props:["pos"],extends:(0,P.A)({},oe),data:function(){return{dragged:!1,draggedover:0,draggedleave:!1,mouseover:!1}},computed:{classDrag:function(){var e=Array();return this.dragged&&e.push("drag-start"),this.draggedleave&&e.push("drag-leave"),0!==this.draggedover&&e.push("drag-over"),e}},methods:{mouseOver:function(e){this.mouseover=!0},mouseLeave:function(e){this.mouseover=!1},dragend:function(e){this.dragged&&this.$emit("ondragend",this.elemento),this.dragged=!1,this.draggedleave=!1,this.draggedover=0},dragenter:function(e){this.dragged&&(this.draggedleave=!1)},dragleave:function(e){this.$emit("ondragleave",this.elemento,this.draggedover),this.draggedleave=this.dragged,this.draggedover=0},dragover:function(e){this.dragged||(this.draggedover=e.offsetX-e.target.offsetWidth/2)},dragstart:function(e){this.dragged=!0},dragexit:function(e){},drop:function(e){}}},Pe=Ee,je=(0,L.A)(Pe,ze,Oe,!1,null,null,null),Me=je.exports,Re=n(2543),Ie={name:"tpd-file",extends:(0,P.A)({},Me),components:{},data:function(){return{TIPOS_IMG_PERMITIDOS:["image/jpeg","image/jpg","image/jpe_","image/pjpeg","image/vnd.swiftview-jpeg","application/jpg","application/x-jpg","image/pjpeg","image/pipeg","image/vnd.swiftview-jpeg","image/x-xbitmap","image/bmp","image/x-bmp","image/x-bitmap","image/png","application/png","application/x-png"],dragged:!1,draggedover:0,draggedleave:!1,mouseover:!1}},computed:(0,P.A)((0,P.A)({},(0,a.L8)(["getChoices","getDocObject"])),{},{is_imagem:function(){return-1!==this.TIPOS_IMG_PERMITIDOS.indexOf(this.elemento.mime_type)},classDrag:function(){var e=Array();return this.dragged&&e.push("drag-start"),this.draggedleave&&e.push("drag-leave"),0!==this.draggedover&&e.push("drag-over"),e}}),methods:{changeImage:function(){this.getDocumento(this.elemento.id)},mouseOver:function(e){this.mouseover=!0},mouseLeave:function(e){this.mouseover=!1},dragend:function(e){this.dragged&&this.$emit("ondragend",this.elemento),this.dragged=!1,this.draggedleave=!1,this.draggedover=0},dragenter:function(e){this.dragged&&(this.draggedleave=!1)},dragleave:function(e){this.$emit("ondragleave",this.elemento,this.draggedover),this.draggedleave=this.dragged,this.draggedover=0},dragover:function(e){this.dragged||(this.draggedover=e.offsetX-e.target.offsetWidth/2)},dragstart:function(e){this.dragged=!0},dragexit:function(e){},drop:function(e){},rotateLeft:function(){var e=this,t=Object();t.id=e.elemento.id,t.rotate=90,e.updateDocumento(t).then(function(){e.elemento.refresh=Re.now()})},rotateRight:function(){var e=this,t=Object();t.id=e.elemento.id,t.rotate=-90,e.updateDocumento(t).then(function(){e.elemento.refresh=Re.now()})},deleteParte:function(e){var t=this;t.documentoResource.deleteDocumento(this.elemento.id).then(function(e){t.$parent.getDocumento(t.parent.id),t.success("Elemento excluído com sucesso.")}).catch(function(e){t.danger(e.response.data.detail)})}}},Ne=Ie,Fe=(0,L.A)(Ne,ke,$e,!1,null,"2d1eddd8",null),Se=Fe.exports,Be=function(){var e=this,t=e._self._c;return t("div",{class:e.name_component},[t("div",{staticClass:"clearfix"}),t("div",{staticClass:"btn-toolbar widgets widget-top justify-content-between"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.elemento.texto,expression:"elemento.texto"}],staticClass:"btn-group btn-group-sm"},[e.elemento.titulo?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Subtítulo para este Vídeo",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleTitulo.apply(null,arguments)}}},[e._v("T")]),e.elemento.descricao?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Descrição para o Vídeo",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleDescricao.apply(null,arguments)}}},[e._v("D")])]),t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-danger",attrs:{title:"Remover este Vídeo",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.deleteParte.apply(null,arguments)}}},[e._v("x")])])]),t("div",{staticClass:"inner"},[e.has_titulo||e.elemento.titulo?t("span",{directives:[{name:"show",rawName:"v-show",value:e.elemento.texto,expression:"elemento.texto"}],staticClass:"path-title-partes"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título do Vídeo..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})]):e._e(),e.has_descricao||e.elemento.descricao?t("input",{directives:[{name:"show",rawName:"v-show",value:e.elemento.texto,expression:"elemento.texto"},{name:"model",rawName:"v-model.lazy",value:e.elemento.descricao,expression:"elemento.descricao",modifiers:{lazy:!0}}],attrs:{placeholder:"Descrição do Vídeo..."},domProps:{value:e.elemento.descricao},on:{change:function(t){return e.$set(e.elemento,"descricao",t.target.value)}}}):e._e(),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.texto,expression:"elemento.texto",modifiers:{lazy:!0}}],staticClass:"path-code",attrs:{placeholder:"Código de incorporação de Vídeo..."},domProps:{value:e.elemento.texto},on:{change:function(t){return e.$set(e.elemento,"texto",t.target.value)}}}),e.elemento.texto?t("div",{staticClass:"embed-responsive embed-responsive-16by9"},[t("span",{domProps:{innerHTML:e._s(e.srcIframe)}})]):e._e()]),e._l(e.childsOrdenados,function(n){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento}})}),t("div",{staticClass:"btn-toolbar widgets widget-bottom justify-content-end"},[t("div",{staticClass:"btn-group btn-group-sm"},e._l(e.getChoices.tipo.subtipos,function(n,o){return t("button",{key:o,staticClass:"btn btn-primary",attrs:{type:"button",title:"Adiciona Elemento aqui..."},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother(n.component_tag,t)}}},[e._v(e._s(n.text))])}),0)])],2)},Le=[],qe=(n(7495),n(5440),{name:"tpd-video",extends:(0,P.A)({},oe),computed:{srcIframe:function(){var e=this.elemento.texto;return e=e.replace("<iframe ",'<iframe class="embed-responsive-item" '),e}},methods:{}}),He=qe,Ge=(0,L.A)(He,Be,Le,!1,null,null,null),Ve=Ge.exports,We=function(){var e=this,t=e._self._c;return t("div",{class:e.name_component},[t("div",{staticClass:"btn-toolbar widgets widget-top"},[t("div",{staticClass:"btn-group btn-group-xs pull-right"},[t("button",{staticClass:"btn btn-danger",attrs:{title:"Remover este Áudio",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.deleteParte.apply(null,arguments)}}},[e._v("x")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.elemento.texto,expression:"elemento.texto"}],staticClass:"btn-group btn-group-xs pull-right"},[e.elemento.titulo?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Título para o Áudio",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleTitulo.apply(null,arguments)}}},[e._v("T")]),e.elemento.descricao?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Descrição para o Áudio",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleDescricao.apply(null,arguments)}}},[e._v("D")])])]),t("div",{staticClass:"btn-toolbar widgets widget-bottom"},[t("div",{staticClass:"btn-group btn-group-xs pull-right"},e._l(e.getChoices.tipo.subtipos,function(n,o){return t("button",{key:o,staticClass:"btn btn-primary",attrs:{type:"button",title:"Adiciona Elemento aqui..."},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother(n.component_tag,t)}}},[e._v(e._s(n.text))])}),0)]),t("div",{staticClass:"inner"},[e.has_titulo||e.elemento.titulo?t("span",{directives:[{name:"show",rawName:"v-show",value:e.elemento.texto,expression:"elemento.texto"}],staticClass:"path-title-partes"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título do Áudio..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})]):e._e(),e.has_descricao||e.elemento.descricao?t("input",{directives:[{name:"show",rawName:"v-show",value:e.elemento.texto,expression:"elemento.texto"},{name:"model",rawName:"v-model.lazy",value:e.elemento.descricao,expression:"elemento.descricao",modifiers:{lazy:!0}}],attrs:{placeholder:"Descrição do Áudio..."},domProps:{value:e.elemento.descricao},on:{change:function(t){return e.$set(e.elemento,"descricao",t.target.value)}}}):e._e(),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.texto,expression:"elemento.texto",modifiers:{lazy:!0}}],staticClass:"path-code",attrs:{placeholder:"Código de incorporação de Áudio..."},domProps:{value:e.elemento.texto},on:{change:function(t){return e.$set(e.elemento,"texto",t.target.value)}}}),e.elemento.texto?t("div",{staticClass:"embed-responsive embed-responsive-16by9 embed-audio"},[t("span",{domProps:{innerHTML:e._s(e.srcIframe)}})]):e._e()]),e._l(e.childsOrdenados,function(n){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento}})})],2)},Ue=[],Xe={name:"tpd-audio",extends:(0,P.A)({},Ve),computed:{},methods:{}},Ze=Xe,Je=(0,L.A)(Ze,We,Ue,!1,null,null,null),Ke=Je.exports,Qe=function(){var e=this,t=e._self._c;return t("div",{class:[e.name_component,"path-imagem",e.alinhamento(e.elemento)]},[t("div",{staticClass:"btn-toolbar widgets widget-top justify-content-between"},[t("div",{staticClass:"btn-group btn-group-sm"},[e.elemento.titulo?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Título para a Imagem",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleTitulo.apply(null,arguments)}}},[e._v("T")]),e.elemento.descricao?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Descrição para a Imagem",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleDescricao.apply(null,arguments)}}},[e._v("D")]),e.elemento.autor?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Autor para a Imagem",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleAutor.apply(null,arguments)}}},[e._v("A")])]),t("div",{staticClass:"btn-group btn-group-sm"},[e._l(e.getChoices.alinhamento,function(n,o){return t("button",{key:o,staticClass:"btn btn-primary",attrs:{type:"button",title:n.text},domProps:{innerHTML:e._s(e.icons[o])},on:{click:function(t){return e.alinhar(o,t)}}})}),t("button",{staticClass:"btn btn-danger",attrs:{title:"Remover esta Imagem",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.deleteParte.apply(null,arguments)}}},[e._v("x")])],2)]),t("div",{staticClass:"inner"},[t("drop-zone",{attrs:{elemento:e.elemento,src:e.slug,multiple:!1,resource:e.documentoResource},on:{change:e.changeImage}}),e.has_titulo||e.elemento.titulo?t("span",{staticClass:"path-title-partes"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título da Imagem..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})]):e._e(),e.has_descricao||e.elemento.descricao?t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.descricao,expression:"elemento.descricao",modifiers:{lazy:!0}}],attrs:{placeholder:"Descrição da Imagem..."},domProps:{value:e.elemento.descricao},on:{change:function(t){return e.$set(e.elemento,"descricao",t.target.value)}}}):e._e(),e.has_autor||e.elemento.autor?t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.autor,expression:"elemento.autor",modifiers:{lazy:!0}}],attrs:{placeholder:"Autor da Imagem..."},domProps:{value:e.elemento.autor},on:{change:function(t){return e.$set(e.elemento,"autor",t.target.value)}}}):e._e()],1),e._l(e.childsOrdenados,function(n){return t(e.classChild(n),{key:n.id,tag:"component",attrs:{child:n,parent:e.elemento}})}),t("div",{staticClass:"btn-toolbar widgets widget-bottom justify-content-end"},[t("div",{staticClass:"btn-group btn-group-sm"},e._l(e.getChoices.tipo.subtipos,function(n,o){return t("button",{key:o,staticClass:"btn btn-primary",attrs:{type:"button",title:"Adiciona Elemento aqui..."},on:{click:function(t){return t.target!==t.currentTarget?null:e.addBrother(n.component_tag,t)}}},[e._v(e._s(n.text))])}),0)])],2)},Ye=[],et={name:"tpd-image",extends:(0,P.A)({},oe),components:{},data:function(){return{icons:{0:'<i class="fa fa-align-left" aria-hidden="true"></i>',1:'<i class="fa fa-align-justify" aria-hidden="true"></i>',2:'<i class="fa fa-align-right" aria-hidden="true"></i>',3:'<i class="fa fa-align-center" aria-hidden="true"></i>',4:'<i class="fas fa-expand"></i>'}}},computed:(0,P.A)({},(0,a.L8)(["getChoices","getDocObject"])),methods:{changeImage:function(){this.getDocumento(this.elemento.id)},alinhamento:function(e){var t=e.alinhamento;try{return this.getChoices.alinhamento[t]["component_tag"]}catch(n){return""}},alinhar:function(e,t){var n=Object();n.alinhamento=e,n.id=this.elemento.id,this.elemento.alinhamento=e,this.updateDocumento(n)}}},tt=et,nt=(0,L.A)(tt,Qe,Ye,!1,null,"579ac1c1",null),ot=nt.exports,at=function(){var e=this,t=e._self._c;return t("div",{},[t("modal",{on:{close:function(t){return e.$emit("close")}}},[t("template",{slot:"header"},[t("span",{staticClass:"path-title-partes input-value"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título da Imagem..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})])]),t("template",{slot:"header-actions"},[t("span",{staticClass:"btn btn-lg btn-rotate",attrs:{title:"Rotacionar 90 graus a esquerda"},on:{click:e.rotateLeft}},[t("i",{staticClass:"fas fa-undo",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"btn btn-lg btn-rotate",attrs:{title:"Rotacionar 90 graus a direita"},on:{click:e.rotateRight}},[t("i",{staticClass:"fas fa-redo",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"btn btn-lg btn-delete",on:{click:e.deleteParte}},[t("i",{staticClass:"fas fa-trash",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"btn btn-lg btn-close",on:{click:function(t){return e.$emit("close")}}},[t("i",{staticClass:"fas fa-times",attrs:{"aria-hidden":"true"}})])]),t("template",{slot:"body"},[t("img",{attrs:{src:e.slug_local}}),e.pos!==e.elementos.length-1?t("div",{staticClass:"btn btn-direction btn-right",on:{click:e.rightParte}},[t("i",{staticClass:"fas fa-3x fa-chevron-right",attrs:{"aria-hidden":"true"}})]):e._e(),0!==e.pos?t("div",{staticClass:"btn btn-direction btn-left",on:{click:e.leftParte}},[t("i",{staticClass:"fas fa-3x fa-chevron-left",attrs:{"aria-hidden":"true"}})]):e._e()]),t("template",{slot:"footer"},[t("div",{staticClass:"autor-imagem input-value"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.autor,expression:"elemento.autor",modifiers:{lazy:!0}}],attrs:{placeholder:"Autor da Imagem..."},domProps:{value:e.elemento.autor},on:{change:function(t){return e.$set(e.elemento,"autor",t.target.value)}}})]),t("div",{staticClass:"path-description input-value"},[t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.descricao,expression:"elemento.descricao",modifiers:{lazy:!0}}],attrs:{placeholder:"Descrição da Imagem...",align:"text-left"},domProps:{value:e.elemento.descricao},on:{change:function(t){return e.$set(e.elemento,"descricao",t.target.value)}}})])])],2)],1)},it=[],rt=n(2543),st={name:"modal-image-list",extends:(0,P.A)((0,P.A)({},H),{},{watch:{}}),data:function(){return{}},computed:{slug_local:function(){var e=this.elemento.refresh;return"/"+this.child.slug+".1024"+(e?"?"+e:"")}},props:["elementos","pos"],methods:{rotateLeft:function(){var e=this,t=Object();t.id=e.elemento.id,t.rotate=90,e.updateDocumento(t).then(function(){e.elemento.refresh=rt.now()})},rotateRight:function(){var e=this,t=Object();t.id=e.elemento.id,t.rotate=-90,e.updateDocumento(t).then(function(){e.elemento.refresh=rt.now()})},leftParte:function(){this.$parent.showModal-=1,this.$parent.showElemento=this.elementos[this.$parent.showModal],this.elemento=this.$parent.showElemento},rightParte:function(){this.$parent.showModal+=1,this.$parent.showElemento=this.elementos[this.$parent.showModal],this.elemento=this.$parent.showElemento},deleteParte:function(e){var t=this;t.documentoResource.deleteDocumento(this.elemento.id).then(function(e){1===t.elementos.length?(t.$parent.showModal=-1,t.$parent.showElemento=null):0===t.pos?t.$parent.showElemento=t.elementos[1]:(t.$parent.showElemento=t.elementos[t.pos-1],t.$parent.showModal=t.pos-1),t.$parent.getDocumento(t.parent.id).then(function(){}),t.success("Elemento excluído com sucesso.")}).catch(function(e){t.danger(e.response.data.detail)})}}},lt=st,ct=(0,L.A)(lt,at,it,!1,null,"5f4ced38",null),dt=ct.exports,ut=(n(2008),n(2062),n(1701),function(){var e=this,t=e._self._c;return t("div",{class:e.name_component},[t("div",{staticClass:"btn-toolbar widgets widget-top justify-content-end"},[t("div",{staticClass:"btn-group btn-group-sm"},[e.elemento.titulo?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Título para a Galeria",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleTitulo.apply(null,arguments)}}},[e._v("T")]),e.elemento.descricao?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Descrição para a Galeria",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleDescricao.apply(null,arguments)}}},[e._v("D")]),e.elemento.autor?e._e():t("button",{staticClass:"btn btn-success",attrs:{title:"Disponibilizar Autor para a Galeria",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.toogleAutor.apply(null,arguments)}}},[e._v("A")])]),t("div",{staticClass:"btn-group btn-group-sm"},[t("button",{staticClass:"btn btn-danger",attrs:{title:"Remover esta Galeria",type:"button"},on:{click:function(t){return t.target!==t.currentTarget?null:e.deleteParte.apply(null,arguments)}}},[e._v("x")])])]),t("div",{staticClass:"inner"},[e.showModal>=0?t("modal-referencia-image-list",{attrs:{elementos:e.citaOrdenados,child:e.showElemento,pos:e.showModal,parent:e.elemento},on:{close:function(t){e.showModal=-1}}}):e._e(),t("div",{class:["row","row-gallery","row"+e.elemento.id]},[t("div",{class:["col-8","col-bi-container","row"+e.elemento.id]},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e.has_titulo||e.elemento.titulo?t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título da Galeria..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}}):e._e(),e.has_descricao||e.elemento.descricao?t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.descricao,expression:"elemento.descricao",modifiers:{lazy:!0}}],attrs:{placeholder:"Descrição da Galeria..."},domProps:{value:e.elemento.descricao},on:{change:function(t){return e.$set(e.elemento,"descricao",t.target.value)}}}):e._e(),e.has_autor||e.elemento.autor?t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.autor,expression:"elemento.autor",modifiers:{lazy:!0}}],attrs:{placeholder:"Autor da Galeria..."},domProps:{value:e.elemento.autor},on:{change:function(t){return e.$set(e.elemento,"autor",t.target.value)}}}):e._e()]),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row row-bi-select"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.bi_selected,expression:"bi_selected"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.bi_selected=t.target.multiple?n:n[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Escolha um Banco de Imagem")]),e._l(e.bi_list,function(n){return t("option",{key:n.value,domProps:{value:n.value}},[e._v(e._s(n.text))])})],2)]),t("div",{class:["row","row-bi","row"+e.elemento.id]},[e._l(e.images_from_bi,function(n){return t("tpd-image-td-bi",{key:n.id,attrs:{child:n,parent:e.elemento},on:{ondragend:e.ondragendtransf}})}),t("resize-observer",{on:{notify:e.handleResize}})],2)])])]),t("div",{staticClass:"col-4 col-referencias"},[t("div",{class:["row","row-referencias","row"+e.elemento.id],on:{dragend:e.ondragendtransf}},e._l(e.citaOrdenados,function(n,o){return t("tpd-referencia",{key:n.id,attrs:{child:n,parent:e.elemento,pos:o},on:{ondragend:e.ondragend,ondragleave:e.ondragleave,showmodal:e.showModalAction}})}),1)])])],1)])}),mt=[],ht=(n(2543),n(2543)),pt={name:"tpd-gallery",extends:(0,P.A)({},_e),data:function(){return{bi_selected:"",bi_object:Object(),bi_list:Array(),has_titulo:!1,has_descricao:!1,has_autor:!1,fullHeight:document.documentElement.clientHeight}},watch:{bi_selected:function(e,t){var n=this;this.documentoResource.getDocumento(e).then(function(e){n.bi_object=e.data,n.success()})}},computed:{images_from_bi:function(){var e=this.bi_object;if(void 0!==e.ordem)return e=ht.orderBy(e.childs,"ordem"),e=ht.orderBy(e[0].childs,"ordem"),e},citaOrdenados:function(){var e=this.elemento.cita;return ht.orderBy(e,"ordem")}},mounted:function(){var e=this;e.documentoResource.getDocumentoChoiceList(10,1).then(function(t){e.bi_list=t.data.results}).catch(function(t){e.danger()})},methods:{handleResize:function(){if(0!==this.elemento.id){var e=document.querySelector(".col-bi-container.row"+this.elemento.id),t=document.querySelector(".row-referencias.row"+this.elemento.id);try{t.style.minHeight=e.clientHeight+"px"}catch(n){return""}}},toogleTitulo:function(e){this.has_titulo=!this.has_titulo},toogleDescricao:function(e){this.has_descricao=!this.has_descricao},toogleAutor:function(e){this.has_autor=!this.has_autor},ondragendtransf:function(e){var t=this,n=this.dragleave;if(this.dragleave=null,900===e.tipo)if(n&&void 0===n.tipo){var o=Object();o.referente=this.elemento.id,o.referenciado=e.id,o.ordem=n.ordem,this.side>0&&o.ordem++;var a=Object();a.cita=Array(),a.cita.push(o),a.id=this.elemento.id,this.updateDocumento(a).then(function(){t.getDocumento(t.elemento.id)})}else{var i=Object();i.referente=this.elemento.id,i.referenciado=e.id,i.ordem=0;var r=Object();r.cita=Array(),r.cita.push(i),r.id=this.elemento.id,this.updateDocumento(r).then(function(){t.getDocumento(t.elemento.id)})}},ondragend:function(e){var t=this,n=this.dragleave;if(this.dragleave=null,n&&e.id!==n.id&&!(n.tipo>=0)){var o=Object();if(o.id=e.id,o.ordem=n.ordem,e.ordem>n.ordem&&this.side>0?o.ordem++:e.ordem<n.ordem&&this.side<0&&o.ordem--,e.ordem!==o.ordem){e.ordem=o.ordem;var a=Object();a.cita=Array(),a.cita.push(o),a.id=this.elemento.id,this.updateDocumento(a).then(function(){t.getDocumento(t.elemento.id)})}}},ondragleave:function(e,t){e.tipo>=0?(this.dragleave=null,this.side=0):(this.dragleave=e,this.side=t)},deleteParte:function(e){var t=this,n=this;n.documentoResource.deleteDocumento(this.elemento.id).then(function(e){n.$parent.getDocumento(t.parent.id),n.success("Elemento excluído com sucesso.")}).catch(function(e){n.danger(e.response.data.detail)})}}},gt=pt,ft=(0,L.A)(gt,ut,mt,!1,null,null,null),vt=ft.exports,bt=function(){var e=this,t=e._self._c;return t("div",{class:["tpd-referencia","draggable",e.classDrag,"col-xs-6"],on:{dragend:e.dragend,dragenter:e.dragenter,dragleave:e.dragleave,dragover:e.dragover,dragstart:e.dragstart,dragexit:e.dragexit,drop:e.drop}},[t("img",{attrs:{src:e.slug+".128"}}),t("div",{staticClass:"drag",on:{click:function(t){return e.$emit("showmodal",e.child,e.pos)}}}),t("span",{staticClass:"btn-delete",attrs:{title:"Excluir esta referência"},on:{click:e.deleteReferencia}},[t("i",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})])])},_t=[],Ct={name:"tpd-referencia",props:["pos","child","parent"],data:function(){return{documentoResource:N,dragged:!1,draggedover:0,draggedleave:!1}},computed:{classDrag:function(){var e=Array();return this.dragged&&e.push("drag-start"),this.draggedleave&&e.push("drag-leave"),0!==this.draggedover&&e.push("drag-over"),e},slug:function(){var e=this.child.slug;return"/"+e}},methods:{dragend:function(e){this.dragged&&this.$emit("ondragend",this.child),this.dragged=!1,this.draggedleave=!1,this.draggedover=0},dragenter:function(e){this.dragged&&(this.draggedleave=!1)},dragleave:function(e){this.$emit("ondragleave",this.child,this.draggedover),this.draggedleave=this.dragged,this.draggedover=0},dragover:function(e){this.dragged||(this.draggedover=e.offsetX-e.target.offsetWidth/2)},dragstart:function(e){this.dragged=!0},dragexit:function(e){},drop:function(e){},deleteReferencia:function(e){var t=this,n=Object(),o=Object();o.id=this.child.id,n.id=this.child.referente,n.cita=Array(),n.cita.push(o),t.documentoResource.deleteReferencia(n).then(function(e){t.$parent.success("Elemento excluído com sucesso."),t.$parent.getDocumento(t.parent.id)}).catch(function(e){e.response?t.$parent.danger(e.response.data.detail):t.$parent.danger(e.message)})}}},yt=Ct,xt=(0,L.A)(yt,bt,_t,!1,null,null,null),wt=xt.exports,At=function(){var e=this,t=e._self._c;return t("div",{},[t("modal",{on:{close:function(t){return e.$emit("close")}}},[t("template",{slot:"header"},[t("span",{staticClass:"path-title-partes input-value"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.titulo,expression:"elemento.titulo",modifiers:{lazy:!0}}],attrs:{placeholder:"Título da Imagem..."},domProps:{value:e.elemento.titulo},on:{change:function(t){return e.$set(e.elemento,"titulo",t.target.value)}}})])]),t("template",{slot:"header-actions"},[t("span",{staticClass:"btn btn-lg btn-delete",on:{click:e.deleteReferencia}},[t("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]),t("span",{staticClass:"btn btn-lg btn-close",on:{click:function(t){return e.$emit("close")}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("template",{slot:"body"},[t("img",{attrs:{src:"/"+e.elemento.slug}}),e.pos!==e.elementos.length-1?t("div",{staticClass:"btn btn-direction btn-right",on:{click:e.rightParte}},[t("i",{staticClass:"fa fa-3x fa-chevron-right",attrs:{"aria-hidden":"true"}})]):e._e(),0!==e.pos?t("div",{staticClass:"btn btn-direction btn-left",on:{click:e.leftParte}},[t("i",{staticClass:"fa fa-3x fa-chevron-left",attrs:{"aria-hidden":"true"}})]):e._e()]),t("template",{slot:"footer"},[t("div",{staticClass:"autor-imagem input-value"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.autor,expression:"elemento.autor",modifiers:{lazy:!0}}],attrs:{placeholder:"Autor da Imagem..."},domProps:{value:e.elemento.autor},on:{change:function(t){return e.$set(e.elemento,"autor",t.target.value)}}})]),t("div",{staticClass:"path-description input-value"},[t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.elemento.descricao,expression:"elemento.descricao",modifiers:{lazy:!0}}],attrs:{placeholder:"Descrição da Imagem...",align:"text-left"},domProps:{value:e.elemento.descricao},on:{change:function(t){return e.$set(e.elemento,"descricao",t.target.value)}}})])])],2)],1)},Tt=[],Dt={name:"modal-referencia-image-list",props:["elementos","pos","child","parent"],data:function(){return{documentoResource:N,elemento:this.child,ready:Array()}},watch:{"elemento.titulo":function(e,t){this.handlerWatch(e,t,"titulo")},"elemento.descricao":function(e,t){this.handlerWatch(e,t,"descricao")},"elemento.autor":function(e,t){this.handlerWatch(e,t,"autor")},parent:function(e,t){this.elemento=this.child}},computed:{},methods:(0,P.A)((0,P.A)({},(0,a.i0)(["sendMessage"])),{},{handlerWatch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=Object(),a=Object();a.id=this.elemento.id,n&&(a[n]=e),o.id=this.elemento.referente,o.cita=Array(),o.cita.push(a);var i=this;i.updateDocumento(o).then(function(){i.success()})},updateDocumento:function(e){var t=this,n=this;return n.documentoResource.updateDocumento(e).then(function(e){}).catch(function(e){return t.danger()})},success:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Informação atualizada com sucesso.";this.sendMessage({alert:"alert-success",message:e})},danger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ocorreu um erro na comunicação com o servidor.";this.sendMessage({alert:"alert-danger",message:e})},leftParte:function(){this.ready=Array(),this.$parent.showModal-=1,this.$parent.showElemento=this.elementos[this.$parent.showModal],this.elemento=this.$parent.showElemento},rightParte:function(){this.ready=Array(),this.$parent.showModal+=1,this.$parent.showElemento=this.elementos[this.$parent.showModal],this.elemento=this.$parent.showElemento},deleteReferencia:function(e){var t=this,n=Object(),o=Object();o.id=this.elemento.id,n.id=this.elemento.referente,n.cita=Array(),n.cita.push(o),t.documentoResource.deleteReferencia(n).then(function(e){1===t.elementos.length?(t.$parent.showModal=-1,t.$parent.showElemento=null):0===t.pos?t.$parent.showElemento=t.elementos[1]:(t.$parent.showElemento=t.elementos[t.pos-1],t.$parent.showModal=t.pos-1),t.$parent.getDocumento(t.parent.id).then(function(){}),t.success("Elemento excluído com sucesso.")}).catch(function(e){t.danger(e.response.data.detail)})}})},kt=Dt,$t=(0,L.A)(kt,At,Tt,!1,null,"37bd6374",null),zt=$t.exports;o["default"].component("DocumentoEdit",H),o["default"].component("Container",oe),o["default"].component("ContainerFluid",he),o["default"].component("ContainerFile",ce),o["default"].component("TpdTexto",De),o["default"].component("TpdFile",Se),o["default"].component("TpdVideo",Ve),o["default"].component("TpdAudio",Ke),o["default"].component("TpdImage",ot),o["default"].component("ContainerTdBi",_e),o["default"].component("TpdImageTdBi",Me),o["default"].component("ModalImageList",dt),o["default"].component("TpdGallery",vt),o["default"].component("TpdReferencia",wt),o["default"].component("ModalReferenciaImageList",zt);var Ot={DocumentoEdit:H,Container:oe,ContainerFluid:he,ContainerFile:ce,TpdTexto:De,TpdFile:Se,TpdVideo:Ve,TpdAudio:Ke,TpdImage:ot,ContainerTdBi:_e,TpdImageTdBi:Me,ModalImageList:dt,TpdGallery:vt,TpdReferencia:wt,ModalReferenciaImageList:zt},Et=function(){var e=this,t=e._self._c;return t("textarea",{ref:"input",class:e.align,attrs:{placeholder:"teste de placeholder"},domProps:{value:e.value},on:{change:function(t){return e.updateValue(t.target.value)}}})},Pt=[],jt=n(9692),Mt=n.n(jt),Rt={props:["value","align"],mounted:function(){var e=this.$el;setTimeout(function(){Mt()(e),Mt().update(e)},0)},methods:{updateValue:function(e){this.$emit("input",e)}}},It=Rt,Nt=(0,L.A)(It,Et,Pt,!1,null,"41c15ec7",null),Ft=Nt.exports,St=function(){var e=this,t=e._self._c;return t("div",{staticClass:"radio-group",attrs:{id:e.name+e.id}},[e._l(e.options,function(n,o){return[t("label",{key:o,class:[n.component_tag,o==e.value?"active":""],attrs:{for:n.component_tag}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{type:"radio",id:n.component_tag,name:e.name+e.id},domProps:{value:o,checked:e._q(e.model,o)},on:{change:function(t){e.model=o}}}),e._v(" "+e._s(n.text)+" ")])]})],2)},Bt=[],Lt={props:["options","value","name","id"],data:function(){return{model:-1}},watch:{model:function(e){this.$emit("input",parseInt(e))},value:function(e){this.model=e}},mounted:function(){var e=this;e.$nextTick().then(function(){void 0!==e.value&&(e.model=e.value)})}},qt=Lt,Ht=(0,L.A)(qt,St,Bt,!1,null,null,null),Gt=Ht.exports,Vt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-messages"},e._l(e.messages,function(n,o){return t("div",{key:o,class:["alert",n.alert]},[e._v(" "+e._s(n.message)+" ")])}),0)},Wt=[],Ut={props:{messages:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},mounted:function(){},methods:(0,P.A)({},(0,a.i0)(["popMessage"])),components:{}},Xt=Ut,Zt=(0,L.A)(Xt,Vt,Wt,!1,null,null,null),Jt=Zt.exports,Kt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"drop_files",attrs:{id:"drop_file"+e.elemento.id},on:{drop:e.drop_handler,dragover:e.dragover_handler,dragend:e.dragend_handler}},[t("label",{staticClass:"drop_zone",attrs:{for:"input_file"+e.elemento.id}},[e.multiple?t("span",{staticClass:"inner"},[e._v(" Arraste seus arquivos e solte aqui,"),t("br"),t("small",[e._v("ou clique para selecionar")])]):e._e(),e.multiple?e._e():t("span",{staticClass:"inner"},[e._v(" Arraste seu arquivo e solte aqui,"),t("br"),t("small",[e._v("ou clique para selecionar")])]),t("input",{attrs:{multiple:e.multiple?"multiple":null,type:"file",name:"file",id:"input_file"+e.elemento.id},on:{change:e.selectFiles}})]),e.elemento.has_midia?t("div",{staticClass:"view"},[e.src?t("img",{attrs:{src:e.src_local}}):e._e()]):e._e()])},Qt=[],Yt=n(2543),en={name:"drop-zone",props:["elemento","src","multiple","resource"],data:function(){return{src_local:this.src}},watch:{src:function(e,t){this.src_local=this.src}},methods:{selectFiles:function(e){var t=e.currentTarget.files;0!==t.length&&this.sendFiles(t)},sendFiles:function(e){for(var t=new FormData,n=0;n<e.length;n++)t.append("files",e[n]);var o=this;o.resource.uploadFiles(o.elemento.id,t).then(function(e){o.src_local=o.src+"?"+Yt.now(),o.$emit("change",e)}).catch(function(e){o.$emit("change",e)})},drop_handler:function(e){if(void 0!==e){e.preventDefault();var t=e.dataTransfer;if(t.items){for(var n=Array(),o=0;o<t.items.length;o++)"file"===t.items[o].kind&&n.push(t.items[o].getAsFile());this.sendFiles(t.files)}else this.sendFiles(t.files)}},dragover_handler:function(e){e.preventDefault()},dragend_handler:function(e){var t=e.dataTransfer;if(t.items)for(var n=0;n<t.items.length;n++)t.items.remove(n);else e.dataTransfer.clearData()}}},tn=en,nn=(0,L.A)(tn,Kt,Qt,!1,null,null,null),on=nn.exports,an=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal"}},[t("div",{staticClass:"modal-mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[t("div",{staticClass:"modal-area modal-header-container"},[e._t("header",function(){return[e._v(" default header ")]})],2),t("div",{staticClass:"modal-header-actions"},[e._t("header-actions",function(){return[e._v(" default header actions "),t("button",{staticClass:"modal-default-button",on:{click:function(t){return e.$emit("close")}}},[e._v(" OK ")])]})],2),t("div",{staticClass:"modal-body-container"},[e._t("body",function(){return[e._v(" default body ")]})],2),t("div",{staticClass:"modal-area modal-footer-container"},[e._t("footer",function(){return[e._v(" default footer ")]})],2)])])},rn=[],sn={name:"modal"},ln=sn,cn=(0,L.A)(ln,an,rn,!1,null,null,null),dn=cn.exports;o["default"].component("TextareaAutosize",Ft),o["default"].component("CmjChoices",Gt),o["default"].component("Message",Jt),o["default"].component("DropZone",on),o["default"].component("Modal",dn);var un={TextareaAutosize:Ft,CmjChoices:Gt,Message:Jt,DropZone:on,Modal:dn},mn=Object.assign({App:J},Ot,un),hn={components:mn};j.A.defaults.headers.get["Cache-Control"]="no-cache, no-store, must-revalidate",j.A.defaults.headers.get["Pragma"]="no-cache",j.A.defaults.headers.get["Expires"]="0",j.A.defaults.xsrfCookieName="csrftoken",j.A.defaults.xsrfHeaderName="X-CSRFToken",o["default"].use(a.Ay),o["default"].use(l.Ay),o["default"].use(i.Ay),o["default"].use(r.Ay),o["default"].use(s.Ay$),o["default"].config.productionTip=!1;var pn=new a.Ay.Store(z),gn=new l.Ay({routes:G,mode:"history",saveScrollPosition:!0});(0,c.O)(pn,gn);new o["default"]({router:gn,store:pn,components:hn.components,el:"#app-vue"})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[1603,5914,3976,8023,5386,2753,9791,8345,2820,7546,6658,852,8729,65,4074,7696,9133,6958,1774],function(){return t(3467)});e.O()}]);